---
title: "Редактирование меток древовидного элемента управления | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "CTreeCtrl - класс, редактирование меток"
  - "редактирование меток элемента управления "дерево""
  - "редактирование меток в классе CTreeCtrl"
  - "элементы управления "дерево", редактирование меток"
ms.assetid: 6cde2ac3-43ee-468f-bac2-cf1a228ad32d
caps.latest.revision: 10
caps.handback.revision: 6
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Редактирование меток древовидного элемента управления
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Пользователь может непосредственного редактирования метки элементов в элементе управления дерева \([CTreeCtrl](../mfc/reference/ctreectrl-class.md)\), которое имеет стиль **TVS\_EDITLABELS**.  Пользователь начинает редактирования, щелкнув метку элемента, который имеет фокус.  Приложение начинает изменения с помощью функции\-члена [EditLabel](../Topic/CTreeCtrl::EditLabel.md).  Элемент управления "Дерево" отправляет уведомление, когда начинается редактирование и когда он отменен или завершения.  После завершения редактирования, ответственность за обновление метки элемента \(если требуется\).  
  
 Когда начинается редактирование метки, элемент управления "Дерево" отправляет сообщение уведомления [TVN\_BEGINLABELEDIT](http://msdn.microsoft.com/library/windows/desktop/bb773506).  При обработке этого уведомления, можно разрешить изменение некоторых меток и предотвратить изменение других.  Возврат 0 позволяет редактировать и возвращением ненулевое препятствует его.  
  
 При его редактирования метки или завершения, элемент управления "Дерево" отправляет сообщение уведомления [TVN\_ENDLABELEDIT](http://msdn.microsoft.com/library/windows/desktop/bb773515).  Параметр `lParam` адрес структуры [NMTVDISPINFO](http://msdn.microsoft.com/library/windows/desktop/bb773418).  Элемент **item** структура [TVITEM](http://msdn.microsoft.com/library/windows/desktop/bb773456), определяющий элемент и включает измененного текста.  Ответственность за обновление метки элемента, при необходимости возможно после проверки измененная строка.  Элемент **pszText**`TV_ITEM` 0, если изменение будет отменена.  
  
 Во время редактирования метки, обычно в ответ на сообщение уведомления [TVN\_BEGINLABELEDIT](http://msdn.microsoft.com/library/windows/desktop/bb773506), можно получить указатель на элемент управления "Поле ввода", используемые для редактирования метки с помощью функции\-члена [GetEditControl](../Topic/CTreeCtrl::GetEditControl.md).  Можно вызвать функцию\-член [SetLimitText](../Topic/CEdit::SetLimitText.md) элемента управления "Поле ввода", чтобы ограничить количество текста пользователь может вводить или подкласс элемента управления " Поле ввода для перехвата и отменить недопустимые символы.  Обратите внимание, что элемент управления "Поле ввода" отображается только после **TVN\_BEGINLABELEDIT** передается.  
  
## См. также  
 [Использование CTreeCtrl](../Topic/Using%20CTreeCtrl.md)   
 [Элементы управления](../mfc/controls-mfc.md)