---
title: "Основные сведения о панелях инструментов | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "RT_TOOLBAR"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "мастера приложений [C++], установка панелей инструментов приложения по умолчанию"
  - "идентификаторы команд, кнопки панели инструментов"
  - "CToolBar - класс, панели инструментов по умолчанию в мастере приложений"
  - "внедрение панели инструментов в класс окна фрейма"
  - "классы окна фрейма, панель инструментов, внедренная в"
  - "LoadBitmap - метод, панели инструментов"
  - "LoadToolBar - метод"
  - "ресурсы [MFC], панель инструментов"
  - "RT_TOOLBAR - ресурс"
  - "SetButtons - метод"
  - "элементы управления панели инструментов [MFC], идентификатор команды"
  - "элементы управления панели инструментов [MFC], панели инструментов, созданные с использованием мастера приложений"
  - "редактор панелей инструментов, мастер приложений"
  - "панели инструментов [C++], добавление элемента по умолчанию с использованием мастера приложений"
  - "панели инструментов [C++], создание"
ms.assetid: cc00aaff-8a56-433b-b0c0-b857d76b4ffd
caps.latest.revision: 12
caps.handback.revision: 8
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Основные сведения о панелях инструментов
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

В этом разделе описываются основные принципы реализации MFC, которая позволяет добавить панель инструментов по умолчанию в приложение, выбрав параметр в мастере приложений.  В разделе рассматриваются следующие вопросы:  
  
-   [Параметр " мастера приложений](#_core_the_appwizard_toolbar_option)  
  
-   [Панель инструментов в коде](#_core_the_toolbar_in_code)  
  
-   [Изменение ресурса "](#_core_editing_the_toolbar_resource)  
  
-   [Несколько панелей инструментов](#_core_multiple_toolbars)  
  
##  <a name="_core_the_appwizard_toolbar_option"></a> Параметр панели инструментов мастера приложений  
 Чтобы получить один панель инструментов с кнопками по умолчанию выберите стандартный параметр панели закрепления на странице с меткой функциями интерфейса пользователя.  Это позволяет добавить код в приложение, которые:  
  
-   Создает объект ".  
  
-   Элемент управления панели инструментов, включая его возможности закрепление или плыть.  
  
##  <a name="_core_the_toolbar_in_code"></a> Панель инструментов в коде  
 Панель инструментов объект [CToolBar](../mfc/reference/ctoolbar-class.md) объявлен как члена данных класса **CMainFrame** приложения.  Другими словами, объект инструмента внедряется в основном объекте фреймового окна.  Это означает, что MFC создает инструмент при создании фреймовое окно и удаляет инструмент, когда он уничтожает фреймовое окно.  Следующее объявление разделяемого класса, \(MDI\) для приложения с многооконным интерфейсом, показаны элементы данных для внутреннего панели инструментов и внедренной строки состояния.  Также показаны переопределить функцию\-член `OnCreate`.  
  
 [!code-cpp[NVC_MFCListView#6](../mfc/codesnippet/CPP/toolbar-fundamentals_1.h)]  
  
 Создание панели инструментов происходит в **CMainFrame::OnCreate**.  MFC вызывает [OnCreate](../Topic/CWnd::OnCreate.md) после создания окно для кадра, но до того, как он станет видимым.  По умолчанию `OnCreate`, мастер приложений возникает инструмента выполняет следующие задачи:  
  
1.  Вызывает функцию\-член [Создать](../Topic/CToolBar::Create.md) объекта `CToolBar` для создания основной объект [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md).  
  
2.  Вызывает метод [LoadToolBar](../Topic/CToolBar::LoadToolBar.md), чтобы загрузить сведения о ресурсе инструмента.  
  
3.  Вызывает функции, чтобы включить закрепление, плавать и всплывающие подсказки.  Дополнительные сведения об этих вызовах см. в статье [Усечение и панели инструментов с плавающей запятой](../mfc/docking-and-floating-toolbars.md).  
  
> [!NOTE]
>  В примере MFC [DOCKTOOL](../top/visual-cpp-samples.md) общий включает рисунки и старых и новых инструментов MFC.  Инструменты, использующих **COldToolbar** требуется вызовов в шаге 2, с `LoadBitmap` \(а не `LoadToolBar`\) и в `SetButtons`.  Новые средства для вызовов `LoadToolBar`.  
  
 Закрепление, плавать и вызовы всплывающих подсказок необязательно.  Можно удалить эти линии из `OnCreate` при необходимости.  Результат инструмент, остается неизменным, неспособным плыть или redock и не удается отобразить всплывающих подсказок.  
  
##  <a name="_core_editing_the_toolbar_resource"></a> Редактирование ресурс панели инструментов  
 Панель инструментов по умолчанию можно получить с помощью мастера приложений на основе пользовательского ресурсе **RT\_TOOLBAR**, введенном в MFC версии 4.0.  Можно правка этот ресурс с [редактор панели инструментов](../mfc/toolbar-editor.md).  Редактор позволяет легко добавление, удаление и изменение кнопки.  Он содержит графический редактор для кнопок, очень похож на общий редактор графики в Visual C\+\+.  Если редактируется инструментов в предыдущих версиях Visual C\+\+, вы найдете задача гораздо проще.  
  
 Для подключения кнопки панели инструментов в команде следует присвоить кнопке идентификатор команды такие как `ID_MYCOMMAND`.  Укажите идентификатор команды на странице свойств кнопки панели инструментов в редакторе.  Затем создайте функцию обработчика событий для команды \(дополнительные сведения см. в разделе [Сообщения сопоставления в функции](../Topic/Mapping%20Messages%20to%20Functions.md) \).  
  
 Новый рабочий функций\-членов [CToolBar](../mfc/reference/ctoolbar-class.md) с ресурсом **RT\_TOOLBAR**.  [LoadToolBar](../Topic/CToolBar::LoadToolBar.md) теперь заменяет [LoadBitmap](../Topic/CToolBar::LoadBitmap.md) для загрузки образов растровое изображение кнопки панели инструментов и [SetButtons](../Topic/CToolBar::SetButtons.md), чтобы задать стили кнопки и подключить кнопки с растровым изображением отображает.  
  
 Дополнительные сведения об использовании редактора инструмента см. в разделе [Редактор панелей инструментов](../mfc/toolbar-editor.md).  
  
##  <a name="_core_multiple_toolbars"></a> Несколько панелей инструментов  
 Мастер приложений предоставляет с одним панелью инструментов по умолчанию.  Если требуется несколько панели инструментов в приложении, можно смоделировать код для дополнительных инструментов, основанный на коде, созданном мастером для панели инструментов по умолчанию.  
  
 Чтобы отобразить панель инструментов в результате команды, необходимо:  
  
-   Создание нового ресурса с панели инструментов редактора и загрузите его в `OnCreate` с помощью функции\-члена [LoadToolbar](../Topic/CToolBar::LoadToolBar.md).  
  
-   Внедрить новый объект [CToolBar](../mfc/reference/ctoolbar-class.md) в основном классе фреймового окна.  
  
-   Вызывать соответствующие вызовы функций в `OnCreate` для закрепления или плыть панель инструментов, задайте его стили и т д  
  
### Дополнительные сведения  
  
-   [Реализация панели инструментов MFC \(сведения о средствах\)](../mfc/mfc-toolbar-implementation.md)  
  
-   [Закрепление и панели инструментов с плавающей запятой](../mfc/docking-and-floating-toolbars.md)  
  
-   [Всплывающие подсказки панели инструментов](../Topic/Toolbar%20Tool%20Tips.md)  
  
-   Классы [CToolBar](../mfc/reference/ctoolbar-class.md) и [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md)  
  
-   [Работа с элементом управления панели инструментов](../Topic/Working%20with%20the%20Toolbar%20Control.md)  
  
-   [С помощью панели инструментов старые](../Topic/Using%20Your%20Old%20Toolbars.md)  
  
## См. также  
 [Реализация панели инструментов MFC](../mfc/mfc-toolbar-implementation.md)