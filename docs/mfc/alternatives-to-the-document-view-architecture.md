---
title: "Альтернативы для архитектуры представления документов | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-windows
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- C++
helpviewer_keywords:
- documents [MFC], applications without
- CDocument class [MFC], space requirements
- views [MFC], applications without
ms.assetid: 2c22f352-a137-45ce-9971-c142173496fb
caps.latest.revision: 
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 459383474c9ffed9a7ad6cefe01ea21626cb23b1
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="alternatives-to-the-documentview-architecture"></a>Альтернативы для архитектуры "документ-представление"
Приложения MFC обычно используются архитектуры document/view управление информацией, форматы файлов и визуальное представление данных для пользователей. Для большинства приложений для настольных систем архитектуры document/view — это архитектура приложения соответствующий и эффективным. Эта архитектура отделяет данные от просмотра и в большинстве случаев, упрощает приложение и снижает избыточный код.  
  
 Однако архитектуры document/view не подходит для некоторых ситуациях. Рассмотрим следующие примеры.  
  
-   При переносе приложения на языке C для Windows, может потребоваться завершить порт перед добавлением поддержки документов и представлений для приложения.  
  
-   При написании упрощенная программа может оказаться, что можно делать без архитектуры document/view.  
  
-   Если исходный код уже содержатся одновременно управление данными с данными просмотра скользящего код, чтобы модель документов или представлений не стоит так, как должен разделять их. Можно оставить программу как есть.  
  
 Чтобы создать приложение, которое не использует архитектуры document/view, снимите **поддержка архитектуры Document/View** флажок на первом шаге мастера приложений MFC. В разделе [мастер приложений MFC](../mfc/reference/mfc-application-wizard.md) подробные сведения.  
  
> [!NOTE]
>  Приложения на базе диалогового окна, созданного с помощью мастера приложений MFC не используют архитектуру "документ представление", поэтому **поддержка архитектуры Document/View** флажок недоступен, если выбран тип диалогового окна приложения.  
  
 Мастера Visual C++, а также редакторе источника и диалоговое окно, работать с созданного приложения так же, как и для любого другого приложения, созданный мастером. Приложение может поддерживать панели инструментов, полосы прокрутки и строка состояния и имеет **о** поле. Приложение не будет зарегистрирован любой шаблоны документов и не будет содержать класс документа.  
  
 Обратите внимание, что приложение созданный класс представления, **CChildView**, который является производным от `CWnd`. MFC создает и размещает один экземпляр класса представления в пределах окна фрейма, созданные вашим приложением. MFC по-прежнему обеспечивает с помощью окна представления, поскольку оно упрощает размещение и управление содержимым приложения. Можно добавить код отрисовки для `OnPaint` член этого класса. Код следует добавить полосы прокрутки для представления, а не к рамке.  
  
 Поскольку архитектура документов и представлений, предоставляемых MFC отвечает для реализации многих основных возможностей приложения, его отсутствия в проекте означает, что ответственность за реализацию многих важные возможности приложения:  
  
-   В соответствии с помощью мастера приложений MFC, в меню приложения содержит только `New` и `Exit` команды **файл** меню. ( `New` Команда поддерживается только для приложений MDI, поддерживают не SDI-приложения без документов и представлений.) Этот созданный ресурс не будет поддерживать список последних Использованных (самые последние использовавшиеся).  
  
-   Необходимо добавить функции обработчика и реализации для всех команд, которые будут поддерживать приложения, включая **откройте** и **Сохранить** на **файл** меню. MFC обычно предоставляет код для поддержки этих функций, но эта поддержка тесно привязывается к архитектуры document/view.  
  
-   Панели инструментов для приложения, если вы запросили, будет минимальным.  
  
 Настоятельно рекомендуется использовать мастера приложений MFC для создания приложений без архитектуру "документ представление", так как мастер гарантирует правильной архитектуры MFC. Тем не менее если необходимо избежать с помощью мастера, ниже приведены несколько способов обхода архитектуры document/view в коде.  
  
-   Рассматривать документ как неиспользуемые appendage и реализуйте коде управления данными в классе представления, описанным выше. Издержки для документа, сравнительно мало. Один [CDocument](../mfc/reference/cdocument-class.md) объекта влечет за собой небольшой объем служебных данных само по себе, а также небольшие издержки **CDocument**его базовые классы, [CCmdTarget](../mfc/reference/ccmdtarget-class.md) и [ CObject](../mfc/reference/cobject-class.md). Оба класса последний малы.  
  
     Объявленный в **CDocument**:  
  
    -   Два `CString` объектов.  
  
    -   Три **BOOL**s.  
  
    -   Один `CDocTemplate` указателя.  
  
    -   Один `CPtrList` объект, который содержит список представлений документа.  
  
     Кроме того документ требуется время для создания объекта документа, его просмотр объектов, окно фрейма и объект шаблона документа.  
  
-   Считать неиспользуемые дополнений документов и представлений. Поместите управления данными и кодом рисования в фрейме окна, а не представление. Этот подход близка к модели программирования языка C.  
  
-   Переопределите части платформы MFC, создание документов и представлений, во избежание создания их вообще. Процесс создания документов начинается с вызова `CWinApp::AddDocTemplate`. Исключить этот вызов из класса приложения `InitInstance` члена функции и вместо этого создать окно фрейма в `InitInstance` самостоятельно. Поместите код данных управления в классе фрейма окна. Процесс создания документов и представлений проиллюстрирован в [создание документов и представлений](../mfc/document-view-creation.md). Это является дополнительной работы и требует более глубокое представление о платформе, но освобождает полностью о накладных расходах, документов и представлений.  
  
 Статья [MFC: использование классов базы данных без документов и представлений](../data/mfc-using-database-classes-without-documents-and-views.md) предоставляет более конкретные примеры альтернативных документов и представлений в контексте базы данных приложений.  
  
## <a name="see-also"></a>См. также  
 [Архитектура документа/обзора](../mfc/document-view-architecture.md)

