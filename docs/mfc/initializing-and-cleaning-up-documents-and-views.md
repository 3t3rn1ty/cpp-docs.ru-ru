---
title: "Инициализация и очистка документов и представлений | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "объекты документа, жизненный цикл"
  - "документы, очистка"
  - "документы, инициализация"
  - "инициализация документов"
  - "инициализация объектов, объекты документа"
  - "инициализация представлений"
  - "представления, очистка"
  - "представления, инициализация"
ms.assetid: 95d6f09b-a047-4079-856a-ae7d0548e9d2
caps.latest.revision: 9
caps.handback.revision: 5
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Инициализация и очистка документов и представлений
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Используйте следующие правила для инициализации и очистки после текущих документов и представлений.  
  
-   Платформы MFC инициализирует документы и представления. можно инициализировать все данные добавляются на них.  
  
-   Платформа очищает как документы и представления закроют; необходимо отменить всю память, выбранной в куче из этих функций\-членов документов и представлений.  
  
> [!NOTE]
>  Помните, что инициализация для всего приложения лучше всего выполняется в переопределении функцию\-член [InitInstance](../Topic/CWinApp::InitInstance.md) класса `CWinApp` и очистка для всего приложения лучше всего выполняется в переопределении функции\-члена [ExitInstance](../Topic/CWinApp::ExitInstance.md)`CWinApp`.  
  
 Жизненный цикл документа \(и его фреймового окна и представления или представления\) в приложении MDI следующим образом:  
  
1.  Во время создания динамических, вызывается конструктор документов.  
  
2.  Для каждого нового документа называются [OnNewDocument](../Topic/CDocument::OnNewDocument.md) или [OnOpenDocument](../Topic/CDocument::OnOpenDocument.md) документа.  
  
3.  Пользователь взаимодействует с документом в течение времени его существования.  Обычно это происходит по мере того, как пользователь работает на данных через представление документа, выбирая и редактирования данные.  Представление изменяется и перейти к документу для хранения и обновления других представлений.  В этот момент документ и представление может обрабатывать команды.  
  
4.  Платформа вызывает функцию [DeleteContents](../Topic/CDocument::DeleteContents.md) для удалений для данных в документ.  
  
5.  Деструктор вызывается документа.  
  
 В приложении SDI, шаг 1 выполняется один раз при первоначальном создании документа.  Затем проверьте шаги с 2 по 4 выполняются повторно каждый раз, когда новый документ открыт.  Новый документ повторно использует существующий объект документа.  Наконец, шаг 5. при завершении приложения.  
  
## Дополнительные сведения  
  
-   [Инициализация документов и представлений](../mfc/initializing-documents-and-views.md)  
  
-   [Содержит описание представления и очистка](../Topic/Cleaning%20Up%20Documents%20and%20Views.md)  
  
## См. также  
 [Архитектура "документ\-представление"](../Topic/Document-View%20Architecture.md)