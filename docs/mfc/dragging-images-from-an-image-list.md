---
title: "Перетаскивание изображений из списка изображений | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-windows
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: C++
helpviewer_keywords:
- CImageList class [MFC], dragging images from
- dragging images from image lists [MFC]
- image lists [MFC], dragging images from
- images [MFC], dragging from image lists
ms.assetid: af691db8-e4f0-4046-b7b9-9acc68d3713d
caps.latest.revision: "10"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: 792f112952493fe1ee86d52a6a235604ebee9db5
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="dragging-images-from-an-image-list"></a>Перетаскивание изображений из списка изображений
[CImageList](../mfc/reference/cimagelist-class.md) включает функции для перетаскивания изображения на экране. Функции перетаскивания, переместите изображение цветом и без любой мигания курсора. Можно перетащить маскированные и немаскированные изображения.  
  
 [BeginDrag](../mfc/reference/cimagelist-class.md#begindrag) функции-члена начинает операцию перетаскивания. Параметры включают индекс образа для перетаскивания и расположение активной зоны в образе. Активная точка — один пиксель, который распознает функции перетаскивания, как расположение экрана точное образа. Как правило приложение задает активную точку, чтобы он совпадает с активную точку курсора мыши. [DragMove](../mfc/reference/cimagelist-class.md#dragmove) функция-член перемещает изображение в новое расположение.  
  
 [DragEnter](../mfc/reference/cimagelist-class.md#dragenter) функция-член задает начальное положение изображения перетащите в окно и отображает его в позиции. Параметры включают указатель на окно, в котором для рисования изображения и точка, которая определяет координаты начальной позиции в окне. Координаты указываются относительно левого верхнего угла окна, не клиентской области. То же самое верно для всех функций перетаскивания изображения, принимающие координаты в качестве параметров. Это означает, что компенсировать ширины окна элементов, таких как граница, строку заголовка и меню, при указании координаты. При указании **NULL** дескриптор окна, при вызове `DragEnter`функции перетаскивания отрисовки изображения в контексте устройства, связанные с окном рабочего стола и координаты указываются относительно левого верхнего угла экрана.  
  
 `DragEnter`блокирует все обновления для заданного окна во время операции перетаскивания. Если необходимо выполнить любой рисунок во время операции перетаскивания, например выделение целевого объекта для операции перетаскивания и вставки, можно временно скрыть перетаскиваемого изображения с помощью [DragLeave](../mfc/reference/cimagelist-class.md#dragleave) функции-члена. Можно также использовать [DragShowNoLock](../mfc/reference/cimagelist-class.md#dragshownolock) функции-члена.  
  
 Вызовите [EndDrag](../mfc/reference/cimagelist-class.md#enddrag) после завершения перетаскивать изображение.  
  
 [SetDragCursorImage](../mfc/reference/cimagelist-class.md#setdragcursorimage) функции-члена создается образ перетаскивания путем объединения с текущего изображения перетащите заданного изображения (обычно изображение курсора мыши). Поскольку перетаскивания функции используют новый образ во время операции перетаскивания, следует использовать Windows [функция ShowCursor](http://msdn.microsoft.com/library/windows/desktop/ms648396) функция скрыть курсор мыши после вызова `SetDragCursorImage`. В противном случае система может показаться имеют два курсора мыши на время операции перетаскивания.  
  
 Если приложение вызывает `BeginDrag`, система создает список временный, внутренняя образ и копирует указанный перетащите изображение во внутренний список. Указатель на список изображений временные перетаскивания можно получить с помощью [GetDragImage](../mfc/reference/cimagelist-class.md#getdragimage) функции-члена. Функция также получает текущую позицию перетаскивания и смещение относительно положения перетащите изображение перетаскивания.  
  
## <a name="see-also"></a>См. также  
 [Использование CImageList](../mfc/using-cimagelist.md)   
 [Элементы управления](../mfc/controls-mfc.md)

