---
title: "Отношения между объектами MFC | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "связи объекта MFC"
  - "MFC - библиотека, отношения между ключевыми объектами"
  - "объекты [C++], связи"
  - "связи, MFC-объекты"
ms.assetid: 6e8f3b51-e80f-4d88-94c8-4c1e4ee163ad
caps.latest.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 5
---
# Отношения между объектами MFC
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Помочь положил процесс создания документов и представлений в перспективу, анализирует запуск программы: документ, фреймовое окно, используемое для хранения представление и представление, связанные с документом.  
  
-   Документ поддерживает список представлений этого документа и указателя в шаблон документов, создавшего документ.  
  
-   Представление сохраняет указатель на его документ с дочерним элементом своего родительского фреймового окна.  
  
-   Фрейма документа сохраняет указатель на его текущее активное представление.  
  
-   Шаблон документов сохраняет его список открытых документов.  
  
-   Приложение сохраняет список его шаблонов документов.  
  
-   Windows отслеживает всех открытых окна таким образом, чтобы он может отправлять сообщения на них.  
  
 Эти связи устанавливаются во время создания документов и представлений.  В следующей таблице показано, как объекты в выполняемую программу могут получать другие объекты.  Любой объект может получить указатель на объект приложения, вызвав глобальной функции [AfxGetApp](../Topic/AfxGetApp.md).  
  
### Получить доступ к другим объектам в приложении  
  
|Из объекта|Как получить доступ к другим объектам|  
|----------------|-------------------------------------------|  
|Document|Используйте [GetFirstViewPosition](../Topic/CDocument::GetFirstViewPosition.md) и [GetNextView](../Topic/CDocument::GetNextView.md) для получения списка представления документа.<br /><br /> Вызов [GetDocTemplate](../Topic/CDocument::GetDocTemplate.md) для получения шаблон документов.|  
|Просмотр|Вызов [GetDocument](../Topic/CView::GetDocument.md) для обращения к документу.<br /><br /> Вызов [GetParentFrame](../Topic/CWnd::GetParentFrame.md) для получения фреймовое окно.|  
|Фрейма документа.|Вызов [GetActiveView](../Topic/CFrameWnd::GetActiveView.md) для получения текущего представления.<br /><br /> Вызовите [GetActiveDocument](../Topic/CFrameWnd::GetActiveDocument.md) для получения вложенный документ к текущему представлению.|  
|Фреймовое окно MDI|Вызовите [MDIGetActive](../Topic/CMDIFrameWnd::MDIGetActive.md) для получения текущего активного [CMDIChildWnd](../mfc/reference/cmdichildwnd-class.md).|  
  
 Обычно фреймовое окно имеет одно представление, но иногда, как в окно\-разделителях, то же фреймовое окно содержит несколько представлений.  Фреймовое окно сохраняет указатель на текущий момент активное представление; указатель обновляется каждый раз, когда другое представление активировано.  
  
> [!NOTE]
>  Указатель на фреймовому главное окно хранится в переменные\-члене [m\_pMainWnd](../Topic/CWinThread::m_pMainWnd.md) объекта приложения.  Вызов `OnFileNew` в переопределении функции\-члена `InitInstance``CWinApp` задает `m_pMainWnd` автоматически.  Если не вызывается `OnFileNew`, пользователь должен самостоятельно установить значение переменной в `InitInstance`. \(Приложения COM SDI компонентов \(сервер\) не могут настроить переменную, если \/Embedding в командной строке,\). Обратите внимание, что `m_pMainWnd` теперь член класса `CWinThread` вместо `CWinApp`.  
  
## См. также  
 [Шаблоны документов и процесс создания документов и представлений](../mfc/document-templates-and-the-document-view-creation-process.md)   
 [Создание шаблонов документов](../Topic/Document%20Template%20Creation.md)   
 [Создание документа или представления](../mfc/document-view-creation.md)   
 [Создание новых документов, окон и представлений](../Topic/Creating%20New%20Documents,%20Windows,%20and%20Views.md)