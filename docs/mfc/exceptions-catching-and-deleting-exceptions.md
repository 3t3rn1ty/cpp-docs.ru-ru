---
title: "Исключения. Перехват и удаление исключений | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "AND_CATCH - макрос"
  - "catch - блоки, перехват и удаление исключений"
  - "обработка исключений, перехват и удаление исключений"
  - "исключения, удаление"
  - "выполнение, возвращается из блока catch"
  - "обработка исключений try-catch, перехват и удаление исключений"
ms.assetid: 7c233ff0-89de-4de0-a68a-9e9cdb164311
caps.latest.revision: 10
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 6
---
# Исключения. Перехват и удаление исключений
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Следующие инструкции и примеры показывают, как перехватывать исключения и удаления.  Дополнительные сведения о **try**, **catch** и ключевые слова `throw` см. в разделе [Обработка исключений C\+\+.](../cpp/cpp-exception-handling.md)  
  
 Обработчики исключений удалять объекты они обрабатывают исключения, поскольку сбой удаления исключение приведет к утечки памяти, когда этот код перехватывает исключение.  
  
 В блоке **catch** должен удалить исключение, когда:  
  
-   Блок **catch** создает новое исключение.  
  
     Конечно, не следует удалять исключение при вывести исключение одно и то же исключение, еще раз.  
  
     [!code-cpp[NVC_MFCExceptions#3](../mfc/codesnippet/CPP/exceptions-catching-and-deleting-exceptions_1.cpp)]  
  
-   Среда выполнения возвращает из блока **catch**.  
  
> [!NOTE]
>  Удаление `CException` используйте функции\-члена **Удалить** для удаления исключение.  Не используйте ключевое слово **удалить**, поскольку это может завершиться неудачей, если исключение не в куче.  
  
#### Перехват исключения и удаление  
  
1.  Используйте ключевое слово **try** для настройки блок **try**.  Выполнить все выписки программы, которые могут вызывать исключения в блоке **try**.  
  
     Используйте ключевое слово **catch** для настройки блок **catch**.  Поместите код обработки исключений в блоке **catch**.  Код в блоке **catch** выполняется только в том случае, если код в блоке **try** создает исключение типа, определенного в инструкцию **catch**.  
  
     На следующей схеме показано, как **try** и **catch** блоки обычно размещаются:  
  
     [!code-cpp[NVC_MFCExceptions#4](../mfc/codesnippet/CPP/exceptions-catching-and-deleting-exceptions_2.cpp)]  
  
     При возникновении исключения, элемент управления передает в первый блок **catch** объявление исключения, соответствующим типу исключения.  При необходимости можно различные типы обработки исключений с последующими блоками **catch** так, как показано ниже:  
  
     [!code-cpp[NVC_MFCExceptions#5](../mfc/codesnippet/CPP/exceptions-catching-and-deleting-exceptions_3.cpp)]  
  
 Дополнительные сведения см. в разделе [Исключения: Преобразование из исключения макросов MFC](../mfc/exceptions-converting-from-mfc-exception-macros.md).  
  
## См. также  
 [Обработка исключений](../mfc/exception-handling-in-mfc.md)