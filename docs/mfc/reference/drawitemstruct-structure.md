---
title: Структура DRAWITEMSTRUCT | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: reference
f1_keywords:
- DRAWITEMSTRUCT
dev_langs:
- C++
helpviewer_keywords:
- DRAWITEMSTRUCT structure [MFC]
ms.assetid: ba9ef1d4-aebb-45e9-b956-4b81a02e50f7
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: ff4596a52170d0c6d197a0bda431963b5f0e9344
ms.sourcegitcommit: 208d445fd7ea202de1d372d3f468e784e77bd666
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/29/2018
ms.locfileid: "37120945"
---
# <a name="drawitemstruct-structure"></a>DRAWITEMSTRUCT - структура
Структура `DRAWITEMSTRUCT` содержит сведения, необходимые окну-владельцу для определения способа рисования определяемого владельцем элемента управления или пункта меню.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
typedef struct tagDRAWITEMSTRUCT {  
    UINT CtlType;  
    UINT CtlID;  
    UINT itemID;  
    UINT itemAction;  
    UINT itemState;  
    HWND hwndItem;  
    HDC hDC;  
    RECT rcItem;  
    DWORD itemData;  
} DRAWITEMSTRUCT;  
```  
  
#### <a name="parameters"></a>Параметры  
 *CtlType*  
 Тип элемента управления. Ниже приведены значения для типов элементов управления.  
  
- ODT_BUTTON кнопки пользователем.  
  
- ODT_COMBOBOX определяемые владельцем поле со списком  
  
- Определяемые владельцем списка ODT_LISTBOX  
  
- ODT_MENU меню пользователем.  
  
- Элемент управления представления списка ODT_LISTVIEW  
  
- ODT_STATIC определяемый владельцем статический элемент управления  
  
- ODT_TAB вкладок  
  
 *CtlID*  
 Идентификатор элемента управления для поля со списком, списка или кнопки. Этот элемент не используется для меню.  
  
 *Идентификатор элемента*  
 Идентификатор пункта меню меню или индекс элемента в списке или поле со списком. Для пустого списка или поля со списком, этот член имеет отрицательное значение, что позволяет приложению рисовать только прямоугольник фокуса с координатами, заданными по `rcItem` несмотря на то, что нет элементов в элементе управления. Таким образом пользователю может быть показано, имеет ли этот список или поле со списком фокус ввода. Настройка битов в `itemAction` элемент определяет, будет ли прямоугольник рисоваться так, будто список или поле со списком фокус ввода.  
  
 *ItemAction*  
 Определяет необходимое действие рисования. Это будет один или несколько следующих битов.  
  
- ODA_DRAWENTIRE этот бит устанавливается, когда нужно отрисовать всего элемента управления.  
  
- ODA_FOCUS этот бит устанавливается, когда элемент управления получает или теряет фокус ввода. `itemState` Следует проверить элемент, чтобы определить, является ли элемент управления имеет фокус.  
  
- ODA_SELECT этот бит устанавливается, когда изменилось только состояние выбора. `itemState` Член должен проверить, чтобы определить новое состояние выбора.  
  
 *ItemState*  
 Указывает визуальное состояние элемента выполнения текущего действия рисования. То есть если элемент меню будет недоступна, флаг состояния ODS_GRAYED устанавливается. Ниже приведены возможные флаги состояния.  
  
- ODS_CHECKED этот бит устанавливается, если элемент меню будет проверяться. Этот бит используется только в меню.  
  
- ODS_DISABLED этот бит устанавливается, если элемент будет отображаться в отключена.  
  
- ODS_FOCUS этот бит устанавливается в том случае, если элемент имеет фокус ввода.  
  
- ODS_GRAYED этот бит устанавливается, если элемент недоступен. Этот бит используется только в меню.  
  
- ODS_SELECTED этот бит устанавливается, если выбрано состояние элемента.  
  
- ODS_COMBOBOXEDIT рисование выполняется в поле выбора (в элементе управления), ownerdrawn со списком.  
  
- ODS_DEFAULT элемент является элементом по умолчанию.  
  
 *hwndItem*  
 Указывает дескриптор окна элемента управления для полей со списком, списков и кнопок. Указывает дескриптор меню (HMENU), содержащий пункт меню.  
  
 *hDC*  
 Определяет контекст устройства. Этот контекст устройства должен использоваться при выполнении операций рисования в элементе управления.  
  
 *rcItem*  
 Прямоугольник в контексте устройства, заданные *hDC* член, который определяет границы элемента управления для отображения. Windows автоматически обрезает все, что владелец рисует в контексте устройства для полей со списком, списков и кнопок, но не обрезает пункты меню. При рисовании пунктов меню владелец не должен рисовать за пределами границ прямоугольника, определяемого `rcItem` член.  
  
 *itemData*  
 Для поля со списком или списка этот элемент содержит значение, которое было передано в список с помощью одной из следующих структур:  
  
- [CComboBox::AddString](../../mfc/reference/ccombobox-class.md#addstring)  
  
- [CComboBox::InsertString](../../mfc/reference/ccombobox-class.md#insertstring)  
  
- [CListBox::AddString](../../mfc/reference/clistbox-class.md#addstring)  
  
- [CListBox::InsertString](../../mfc/reference/clistbox-class.md#insertstring)  
  
 Для меню этот элемент содержит значение, которое было передано в меню с помощью одной из следующих структур:  
  
- [CMenu::AppendMenu](../../mfc/reference/cmenu-class.md#appendmenu)  
  
- [CMenu::InsertMenu](../../mfc/reference/cmenu-class.md#insertmenu)  
  
- [CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)  
  
## <a name="remarks"></a>Примечания  
 Окно-владелец-владельцем элемента управления или меню получает указатель на эту структуру как *lParam* WM_DRAWITEM сообщения.  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** winuser.h  
  
## <a name="see-also"></a>См. также  
 [Структуры, стили, обратные вызовы и схемы сообщений](../../mfc/reference/structures-styles-callbacks-and-message-maps.md)   
 [CWnd::OnDrawItem](../../mfc/reference/cwnd-class.md#ondrawitem)

