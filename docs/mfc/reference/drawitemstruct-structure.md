---
title: "Структура DRAWITEMSTRUCT | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "DRAWITEMSTRUCT"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "DRAWITEMSTRUCT - структура"
ms.assetid: ba9ef1d4-aebb-45e9-b956-4b81a02e50f7
caps.latest.revision: 11
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 12
---
# Структура DRAWITEMSTRUCT
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Структура `DRAWITEMSTRUCT` содержит сведения, необходимые окну\-владельцу для определения способа рисования определяемого владельцем элемента управления или пункта меню.  
  
## Синтаксис  
  
```  
  
typedef struct tagDRAWITEMSTRUCT {  
   UINT   
CtlType  
;  
   UINT   
CtlID  
;  
   UINT   
itemID  
;  
   UINT   
itemAction  
;  
   UINT   
itemState  
;  
   HWND   
hwndItem  
;  
   HDC   
hDC  
;  
   RECT   
rcItem  
;  
   DWORD   
itemData  
;  
} DRAWITEMSTRUCT;  
  
```  
  
#### Параметры  
 `CtlType`  
 Тип элемента управления. Ниже приведены значения для типов элементов управления.  
  
-   **ODT\_BUTTON** — определяемая владельцем кнопка  
  
-   **ODT\_COMBOBOX** — определяемое владельцем поле со списком  
  
-   **ODT\_LISTBOX** — определяемый владельцем список  
  
-   **ODT\_MENU** — определяемое владельцем меню  
  
-   **ODT\_LISTVIEW** — элемент управления "Представление списка"  
  
-   **ODT\_STATIC** — определяемый владельцем статический элемент управления  
  
-   **ODT\_TAB** — набор вкладок  
  
 `CtlID`  
 Идентификатор элемента управления для поля со списком, списка или кнопки. Этот элемент не используется для меню.  
  
 `itemID`  
 Идентификатор пункта меню меню или индекс элемента в списке или поле со списком. Для пустого списка или поля со списком этот элемент имеет отрицательное значение, что позволяет приложению рисовать только прямоугольник фокуса в координатах, заданных элементом **rcItem**, несмотря на то что в элементе управления нет элементов. Таким образом пользователю может быть показано, имеет ли этот список или поле со списком фокус ввода. Значение битов в элементе **itemAction** определяет, должен ли прямоугольник рисоваться так, как если бы фокус ввода был в списке или в поле со списком.  
  
 `itemAction`  
 Определяет необходимое действие рисования. Это будет один или несколько следующих битов.  
  
-   **ODA\_DRAWENTIRE** — этот бит устанавливается, когда должен быть нарисован весь элемент управления.  
  
-   **ODA\_FOCUS** — этот бит устанавливается в том случае, когда элемент управления получает или теряет фокус ввода. Чтобы определить, имеет ли элемент управления фокус, следует проверить элемент **ItemState**.  
  
-   **ODA\_SELECT** — этот бит устанавливается в том случае, когда изменилось только состояние выбора. Чтобы определить новое состояние выбора, следует проверить элемент **itemState**.  
  
 *itemState*  
 Указывает визуальное состояние элемента выполнения текущего действия рисования. То есть если пункт меню будет недоступен, будет установлен флаг состояния **ODS\_GRAYED**. Ниже приведены возможные флаги состояния.  
  
-   **ODS\_CHECKED** — этот бит устанавливается, если элемент меню будет проверяться. Этот бит используется только в меню.  
  
-   **ODS\_DISABLED** — этот бит устанавливается, если элемент будет  отображаться в отключенном состоянии.  
  
-   **ODS\_FOCUS** — этот бит устанавливается, если элемент имеет фокус ввода.  
  
-   **ODS\_GRAYED** — этот бит устанавливается, если элемент недоступен. Этот бит используется только в меню.  
  
-   **ODS\_SELECTED** — этот бит устанавливается, если элемент находится в выбранном состоянии.  
  
-   **ODS\_COMBOBOXEDIT** — рисование выполняется в поле выбора \(в элементе управления "Поле ввода"\) определяемого владельцем поля со списком.  
  
-   **ODS\_DEFAULT** — элемент является элементом по умолчанию.  
  
 `hwndItem`  
 Указывает дескриптор окна элемента управления для полей со списком, списков и кнопок. Указывает дескриптор меню \(`HMENU`\), содержащего пункт меню.  
  
 `hDC`  
 Определяет контекст устройства. Этот контекст устройства должен использоваться при выполнении операций рисования в элементе управления.  
  
 *rcItem*  
 Прямоугольник в контексте устройства, заданном элементом `hDC`, который определяет границы элемента управления для отображения. Windows автоматически обрезает все, что владелец рисует в контексте устройства для полей со списком, списков и кнопок, но не обрезает пункты меню. При рисовании пунктов меню владелец не должен выходить за границы прямоугольника, заданного элементом **rcItem**.  
  
 `itemData`  
 Для поля со списком или списка этот элемент содержит значение, которое было передано в список с помощью одной из следующих структур:  
  
-   [CComboBox::AddString](../Topic/CComboBox::AddString.md)  
  
-   [CComboBox::InsertString](../Topic/CComboBox::InsertString.md)  
  
-   [CListBox::AddString](../Topic/CListBox::AddString.md)  
  
-   [CListBox::InsertString](../Topic/CListBox::InsertString.md)  
  
 Для меню этот элемент содержит значение, которое было передано в меню с помощью одной из следующих структур:  
  
-   [CMenu::AppendMenu](../Topic/CMenu::AppendMenu.md)  
  
-   [CMenu::InsertMenu](../Topic/CMenu::InsertMenu.md)  
  
-   [CMenu::ModifyMenu](../Topic/CMenu::ModifyMenu.md)  
  
## Заметки  
 Окно\-владелец определяемого владельцем элемента управления или пункта меню получает указатель на эту структуру как параметр `lParam` сообщения `WM_DRAWITEM`.  
  
## Требования  
 **Заголовок:** winuser.h  
  
## См. также  
 [Структуры, стили, обратные вызовы и схемы сообщений](../../mfc/reference/structures-styles-callbacks-and-message-maps.md)   
 [CWnd::OnDrawItem](../Topic/CWnd::OnDrawItem.md)