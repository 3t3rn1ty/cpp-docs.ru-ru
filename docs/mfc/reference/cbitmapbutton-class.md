---
title: "CBitmapButton Class | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "reference"
f1_keywords: 
  - "CBitmapButton"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "растровые изображения, button controls"
  - "кнопки, растровое изображение"
  - "CBitmapButton class"
ms.assetid: 9ad6cb45-c3c4-4fb1-96d3-1fe3df7bbcfc
caps.latest.revision: 22
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 23
---
# CBitmapButton Class
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Создает управления, обозначенные bitmapped кнопки с образами, а не текста.  
  
## Синтаксис  
  
```  
class CBitmapButton : public CButton  
```  
  
## Члены  
  
### Открытые конструкторы  
  
|Имя|Описание|  
|---------|--------------|  
|[CBitmapButton::CBitmapButton](../Topic/CBitmapButton::CBitmapButton.md)|Создает объект `CBitmapButton`.|  
  
### Открытые методы  
  
|Имя|Описание|  
|---------|--------------|  
|[CBitmapButton::AutoLoad](../Topic/CBitmapButton::AutoLoad.md)|Связывает кнопку в диалоговом окне с объектом класса `CBitmapButton` загружает растровые изображения именем и указывает размер кнопки приспособления растрового изображения.|  
|[CBitmapButton::LoadBitmaps](../Topic/CBitmapButton::LoadBitmaps.md)|Инициализирует объект, загрузив один или несколько ресурсов с именами растрового изображения из файла ресурсов приложения и вложить растровые изображения к объекту.|  
|[CBitmapButton::SizeToContent](../Topic/CBitmapButton::SizeToContent.md)|Указывает размер кнопку, чтобы вместить растровое изображение.|  
  
## Заметки  
 Объекты `CBitmapButton` содержащими до 4 растрового изображения, содержащие образы для различных состояний кнопка может занять: вверх или вниз\), обычный \(или выбранный\), фокусируемый и отказано.  Только первое растровое изображение является обязательным. другие необязательные.  
  
 Образы Растровое изображение\- кнопки включают границу вокруг изображения, а также образа.  Граница обычно воспроизводит часть отображаться состояние кнопки.  Например, растровое изображение, обычно в качестве состояния, имеющего фокус вверх по одному для поднимающего состояния, но с возникновению вовнутрь или границы прямоугольника с толстой сплошной линией на границе.  Растровое изображение состояния обычно выглядит следующим отключенном одному для поднимающего вверх состояния, но имеет более низкую контраста \(например, уменьшен яркостьое или выделение меню отображается серым цветом\).  
  
 Эти растровые изображения могут быть любого размера, но обрабатываются так, как если бы они были одинаковым размером как растровое изображение для поднимающего вверх состояния.  
  
 Другие приложения требуются различные сочетания образам растрового изображения.  
  
|СТРЕЛКА ВВЕРХ|Вниз|Focused|Disabled|Приложение|  
|-------------------|----------|-------------|--------------|----------------|  
|×||||Растровое изображение|  
|×|×|||Кнопка без стиля **WS\_TABSTOP**|  
|×|×|×|×|Кнопка диалогового окна с любыми состояниями|  
|×|×|×||Кнопка диалогового окна с учетом **WS\_TABSTOP**|  
  
 Создание элемента управления растровое изображение\- кнопки установите стиль **BS\_OWNERDRAW** чтобы указать, что кнопка определяется пользователем.  Это приводит к тому, что Windows, которой необходимо отправлять сообщения `WM_MEASUREITEM` и `WM_DRAWITEM` для кнопки. границы обрабатывают эти сообщения и определяют внешний вид кнопки.  
  
### Создание элемента управления растровое изображение\- кнопки в клиентской области окна  
  
1.  Создайте один до 4 образа растрового изображения для кнопки.  
  
2.  Создайте объект [CBitmapButton](../Topic/CBitmapButton::CBitmapButton.md).  
  
3.  Вызовите функцию [Создание](../Topic/CButton::Create.md) для создания элемента управления "Кнопка" Windows и вложить его к объекту `CBitmapButton`.  
  
4.  Вызовите функцию\-член [LoadBitmaps](../Topic/CBitmapButton::LoadBitmaps.md), чтобы загрузить ресурсы растрового изображения после кнопку растрового изображения.  
  
### Активация управления растровое изображение\- кнопки в диалоговом окне  
  
1.  Создайте один до 4 образа растрового изображения для кнопки.  
  
2.  Создание шаблона диалогового окна, расположенная кнопку рисования владельцем, где нужно кнопку растрового изображения.  Размер кнопки в шаблоне не имеет значения.  
  
3.  Задайте заголовок кнопки на значение как "**MYIMAGE**" и задайте символ для кнопки, как **IDC\_MYIMAGE**.  
  
4.  В скрипте ресурса приложения, присвойте каждому из изображений, созданных для кнопки идентификатор, полученное путем добавления одного из букв "U", "D", "f" или "x" \(вверх, вниз, фокусируемый и заблокированных\) в строке, используемой для заголовка кнопки на шаге 3.  Для заголовка "**MYIMAGE** кнопки" например, идентификаторы будут "**MYIMAGEU**", "**MYIMAGED**", "**MYIMAGEF**" и "**MYIMAGEX**". Необходимо указать идентификатор **must** ваших растровых изображений в пределах двойных кавычек.  В противном случае редактор ресурсов присвоит целое число к ресурсу и MFC, произойдет сбой загрузки образа.  
  
5.  В классе диалогового окна приложения, производном от `CDialog`\(\) добавьте объект элемента `CBitmapButton`.  
  
6.  В процедуре [OnInitDialog](../Topic/CDialog::OnInitDialog.md) объекта `CDialog`, вызовите функцию [AutoLoad](../Topic/CBitmapButton::AutoLoad.md) объекта `CBitmapButton`, используя в качестве параметров идентификатор элемента управления кнопки и указатель **this** объекта `CDialog`.  
  
 Если необходимо обработать, сообщения уведомлений Windows, например **BN\_CLICKED**, отправленное элемента управления растровое изображение\- кнопки с родительским элементом \(обычно класс, производный от **CDialog\)** добавляет к `CDialog`\- производного объекта функцию\-член записи и обработчика сообщений сообщение\- сопоставления для каждого сообщения.  Уведомления, отправленные объектом `CBitmapButton` эти же, что и [CButton](../../mfc/reference/cbutton-class.md), переданные объектом.  
  
 Класс [CToolBar](../../mfc/reference/ctoolbar-class.md) принимает другой подход к кнопкам растрового изображения.  
  
 Дополнительные сведения о `CBitmapButton` см. в разделе [элементы управления](../../mfc/controls-mfc.md).  
  
## Иерархия наследования  
 [CObject](../Topic/CObject%20Class.md)  
  
 [CCmdTarget](../Topic/CCmdTarget%20Class.md)  
  
 [CWnd](../Topic/CWnd%20Class.md)  
  
 [CButton](../../mfc/reference/cbutton-class.md)  
  
 `CBitmapButton`  
  
## Требования  
 **Header:**  afxext.h  
  
## См. также  
 [MFC просматривает CTRLTEST](../../top/visual-cpp-samples.md)   
 [CButton Class](../../mfc/reference/cbutton-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)