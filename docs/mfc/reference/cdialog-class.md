---
title: "CDialog-класс | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-windows
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CDialog
- AFXWIN/CDialog
- AFXWIN/CDialog::CDialog
- AFXWIN/CDialog::Create
- AFXWIN/CDialog::CreateIndirect
- AFXWIN/CDialog::DoModal
- AFXWIN/CDialog::EndDialog
- AFXWIN/CDialog::GetDefID
- AFXWIN/CDialog::GotoDlgCtrl
- AFXWIN/CDialog::InitModalIndirect
- AFXWIN/CDialog::MapDialogRect
- AFXWIN/CDialog::NextDlgCtrl
- AFXWIN/CDialog::OnInitDialog
- AFXWIN/CDialog::OnSetFont
- AFXWIN/CDialog::PrevDlgCtrl
- AFXWIN/CDialog::SetDefID
- AFXWIN/CDialog::SetHelpID
- AFXWIN/CDialog::OnCancel
- AFXWIN/CDialog::OnOK
dev_langs:
- C++
helpviewer_keywords:
- CDialog [MFC], CDialog
- CDialog [MFC], Create
- CDialog [MFC], CreateIndirect
- CDialog [MFC], DoModal
- CDialog [MFC], EndDialog
- CDialog [MFC], GetDefID
- CDialog [MFC], GotoDlgCtrl
- CDialog [MFC], InitModalIndirect
- CDialog [MFC], MapDialogRect
- CDialog [MFC], NextDlgCtrl
- CDialog [MFC], OnInitDialog
- CDialog [MFC], OnSetFont
- CDialog [MFC], PrevDlgCtrl
- CDialog [MFC], SetDefID
- CDialog [MFC], SetHelpID
- CDialog [MFC], OnCancel
- CDialog [MFC], OnOK
ms.assetid: ca64b77e-2cd2-47e3-8eff-c2645ad578f9
caps.latest.revision: 
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 89c9670d19330e63a466c38a205a3122237e4f02
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="cdialog-class"></a>CDialog-класс
Базовый класс, используемый для отображения диалоговых окон на экране.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CDialog : public CWnd  
```  
  
## <a name="members"></a>Участники  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CDialog::CDialog](#cdialog)|Создает объект `CDialog`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CDialog::Create](#create)|Инициализирует `CDialog` объекта. Создает немодальное диалоговое окно и прикрепляет его к `CDialog` объекта.|  
|[CDialog::CreateIndirect](#createindirect)|Создает немодальное диалоговое окно на основе шаблона диалогового окна в памяти (не основанное на ресурсах).|  
|[CDialog::DoModal](#domodal)|Модальное диалоговое окно и возвращает после завершения.|  
|[CDialog::EndDialog](#enddialog)|Модальное диалоговое окно закрывается.|  
|[CDialog::GetDefID](#getdefid)|Возвращает идентификатор элемента управления, которые по умолчанию для диалогового окна.|  
|[CDialog::GotoDlgCtrl](#gotodlgctrl)|Перемещение фокуса к элементу управления диалогового окна указанного в диалоговом окне.|  
|[CDialog::InitModalIndirect](#initmodalindirect)|Создает модального диалогового окна на основе шаблона диалогового окна в памяти (не основанное на ресурсах). Параметры хранятся до функция `DoModal` вызывается.|  
|[CDialog::MapDialogRect](#mapdialogrect)|Преобразует единицы диалогового окна прямоугольника с экрана устройства.|  
|[CDialog::NextDlgCtrl](#nextdlgctrl)|Фокус перемещается к следующему элементу управления диалогового окна, в диалоговом окне.|  
|[CDialog::OnInitDialog](#oninitdialog)|Переопределите для ускорения инициализации диалогового окна.|  
|[CDialog::OnSetFont](#onsetfont)|Переопределите, чтобы указать шрифта, которая должна использоваться при рисовании текст элемента управления диалогового окна.|  
|[CDialog::PrevDlgCtrl](#prevdlgctrl)|Перемещение фокуса к предыдущему элементу управления диалогового окна, в диалоговом окне.|  
|[CDialog::SetDefID](#setdefid)|Кнопка элемента управления по умолчанию для диалогового окна изменяется на указанной кнопки.|  
|[CDialog::SetHelpID](#sethelpid)|Задает идентификатор контекстной справки для диалогового окна.|  
  
### <a name="protected-methods"></a>Защищенные методы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CDialog::OnCancel](#oncancel)|Переопределение для выполнения действие клавиш ESC или кнопку "Отмена". Значение по умолчанию закрывает диалоговое окно и **DoModal** возвращает **IDCANCEL**.|  
|[CDialog::OnOK](#onok)|Переопределите, чтобы выполнить действие "ОК" в модального диалогового окна. Значение по умолчанию закрывает диалоговое окно и `DoModal` возвращает **IDOK**.|  
  
## <a name="remarks"></a>Примечания  
 Диалоговые окна включают два типа: модальные и немодальные. Модального диалогового окна должны быть закрыты пользователем, прежде чем приложение продолжит работу. Немодальное диалоговое окно позволяет отобразить диалоговое окно и вернуться к другой задачи без отмены или удаление диалоговое окно.  
  
 Объект `CDialog` объект представляет собой сочетание шаблона диалогового окна и `CDialog`-производного класса. Использование редактора диалоговых окон для создания шаблона диалогового окна и сохранить ее в ресурсе, а затем используйте мастер добавления классов для создания класса, производного от `CDialog`.  
  
 Диалоговое окно «», как и любое другое окно получает сообщения из Windows. В диалоговом окне вы заинтересованы особенно при обработке сообщения уведомления из элементов управления в диалоговое окно «», это взаимодействие пользователя с диалоговым окном. Используйте окно свойств, чтобы выбрать, какие сообщения нужно дескриптор и добавит записи соответствующую схему сообщений и функции-члены обработчика сообщений в класс для вас. Необходимо написать код для конкретного приложения в функции-члены обработчика.  
  
 При желании можно всегда написать записей карты сообщений и функции-члены вручную.  
  
 В всех, кроме самых стандартных диалоговым окном добавьте переменные-члены для классов производном диалоговых окон для хранения данных, введенных в поле диалогового окна элементы управления со стороны пользователя или для отображения данных для пользователя. Создайте переменные-члены и связывать их с элементами управления, можно использовать мастер добавления переменной. В то же время выберите тип переменной и допустимый диапазон значений для каждой переменной. Мастер код добавляет переменных-членов классов производном диалоговых окон.  
  
 Сопоставление данных создается автоматически обрабатывать обмен данными между переменных-членов и элементов управления в диалоговое окно «». Сопоставление данных предоставляет функции, инициализирует элементы управления в диалоговом окне с использованием соответствующих значений, получения данных и проверки данных.  
  
 Создание модального диалогового окна, создайте объект в стеке, используя конструктор для класса производного диалоговое окно и затем вызовите `DoModal` Создание диалоговое окно и ее элементов управления. Если вы хотите создавать немодального диалогового окна, вызовите **создать** в конструкторе классов диалоговых окон.  
  
 Также можно создать шаблон в памяти с помощью [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры данных, как описано в Windows SDK. После создания `CDialog` , вызовите [CreateIndirect](#createindirect) Создание немодальный диалогового окна, или вызов [InitModalIndirect](#initmodalindirect) и [DoModal](#domodal) Создание модального диалоговое окно.  
  
 Сопоставление данных exchange и проверки записывается в переопределении `CWnd::DoDataExchange` , добавляется к новому классу диалогового окна. В разделе [DoDataExchange](../../mfc/reference/cwnd-class.md#dodataexchange) функции-члена `CWnd` для получения дополнительных сведений о функциональности и проверки.  
  
 Программист и вызова framework `DoDataExchange` косвенно посредством вызова [CWnd::UpdateData](../../mfc/reference/cwnd-class.md#updatedata).  
  
 Платформа вызывает `UpdateData` когда пользователь нажимает кнопку ОК, чтобы закрыть модальное диалоговое окно. (Данные не извлекаются при нажатии кнопки "Отмена"). Реализация по умолчанию [OnInitDialog](#oninitdialog) также вызывает `UpdateData` для задания начальных значений элементов управления. Обычно переопределяется `OnInitDialog` для дальнейшей инициализации элементов управления. `OnInitDialog`вызывается после создания элементов управления диалогового окна и непосредственно перед диалогового окна отображается поле.  
  
 Можно вызвать `CWnd::UpdateData` в любое время при выполнении модального или немодального диалогового окна.  
  
 Если вы разрабатываете диалоговое окно вручную, добавить необходимые переменные в классе производном диалоговое самостоятельно и добавить функции-члены для задания или получения этих значений.  
  
 Модальное диалоговое окно закрывается автоматически при нажатии кнопки OK или "Отмена", или когда код вызывает метод `EndDialog` функции-члена.  
  
 При реализации немодального диалогового окна всегда переопределять `OnCancel` функции-члена и вызовите `DestroyWindow` из внутри него. Не вызывайте базовый класс `CDialog::OnCancel`, так как он вызывает `EndDialog`, который будет сделать окно невидимым, но не приведет к удалению его. Следует также переопределить `PostNcDestroy` для безрежимные диалоговые окна для удаления **это**, поскольку обычно выделяется безрежимные диалоговые окна с **новый**. Модальные диалоговые окна, обычно создается в кадре и не обязательно `PostNcDestroy` очистки.  
  
 Дополнительные сведения о `CDialog`, см.:  
  
- [Диалоговые окна](../../mfc/dialog-boxes.md)  
  
-   Статья базы знаний Q262954: Практическое руководство: создание перемещаемом диалоговое окно с полосами прокрутки  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 `CDialog`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxwin.h  
  
##  <a name="cdialog"></a>CDialog::CDialog  
 Для создания на основе ресурсов модального диалогового окна, вызываемые либо открытого конструктора.  
  
```  
explicit CDialog(
    LPCTSTR lpszTemplateName,  
    CWnd* pParentWnd = NULL);

 
explicit CDialog(
    UINT nIDTemplate,  
    CWnd* pParentWnd = NULL);  
  
CDialog();
```  
  
### <a name="parameters"></a>Параметры  
 `lpszTemplateName`  
 Содержит строку, завершающуюся значением null, являющееся именем ресурса шаблона диалогового окна.  
  
 `nIDTemplate`  
 Содержит идентификатор ресурса шаблона диалогового окна.  
  
 `pParentWnd`  
 Указывает на объект window родительского или владелец (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
### <a name="remarks"></a>Примечания  
 Одна из форм конструктор предоставляет доступ к ресурс диалогового окна по имени шаблона. Другой конструктор предоставляет доступ по идентификатору шаблона, обычно с **IDD_** префикс (например, IDD_DIALOG1).  
  
 Создание модального диалогового окна из шаблона в памяти, сначала вызвать конструктор без параметров, защищенный, а затем вызвать `InitModalIndirect`.  
  
 После создания модального диалогового окна с помощью одного из указанных способов, вызовите метод `DoModal`.  
  
 Чтобы сконструировать немодального диалогового окна, используйте защищенный форму `CDialog` конструктор. Конструктор защищен, поскольку необходимо создать производный класс диалогового окна для реализации немодального диалогового окна. Конструирование немодального диалогового окна происходит в два этапа. Первый вызов конструктора; затем вызовите **создать** функции-члена для создания на основе ресурсов диалогового окна, или вызов `CreateIndirect` для создания диалогового окна из шаблона в памяти.  
  
##  <a name="create"></a>CDialog::Create  
 Вызовите **создать** Создание немодального диалогового окна с помощью из ресурса шаблона диалогового окна.  
  
```  
virtual BOOL Create(
    LPCTSTR lpszTemplateName,  
    CWnd* pParentWnd = NULL);

 
virtual BOOL Create(
    UINT nIDTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszTemplateName`  
 Содержит строку, завершающуюся значением null, являющееся именем ресурса шаблона диалогового окна.  
  
 `pParentWnd`  
 Указывает на родительский объект window (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `nIDTemplate`  
 Содержит идентификатор ресурса шаблона диалогового окна.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает ненулевое значение, если диалогового окна создания и инициализации были успешно; обе формы в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Можно поместить вызов **создать** внутри конструктора или вызов после конструктора вызове.  
  
 Две формы **создать** функции-члена предоставляются для доступа к ресурсу шаблона диалогового окна имя шаблона или шаблон Идентификационный номер (например, IDD_DIALOG1).  
  
 Для любой форме передайте указатель на объект родительского окна. Если `pParentWnd` — **NULL**, диалоговое окно будет создан с его родительским или владельца окна, равным главное окно приложения.  
  
 **Создать** функция-член возвращает сразу после его создает диалоговое окно.  
  
 Используйте **WS_VISIBLE** стиля в шаблон диалогового окна, если появится диалоговое окно, при создании родительского окна. В противном случае необходимо вызвать метод `ShowWindow`. Дополнительные стили диалогового окна и их приложения см. [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры в Windows SDK и [стили окна](../../mfc/reference/styles-used-by-mfc.md#window-styles) в *Справочник по библиотеке MFC*.  
  
 Используйте `CWnd::DestroyWindow` функции для уничтожения диалоговое окно, созданные **создать** функции.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#62](../../mfc/codesnippet/cpp/cdialog-class_1.cpp)]  
  
##  <a name="createindirect"></a>CDialog::CreateIndirect  
 Вызовите эту функцию-член для создания немодального диалогового окна из шаблона диалогового окна в памяти.  
  
```  
virtual BOOL CreateIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,  
    CWnd* pParentWnd = NULL,  
    void* lpDialogInit = NULL);

 
virtual BOOL CreateIndirect(
    HGLOBAL hDialogTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpDialogTemplate`  
 Указатель памяти, который содержит шаблон диалогового окна, используемый для создания диалогового окна. Этот шаблон находится в форме [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры и управления сведения, как описано в Windows SDK.  
  
 `pParentWnd`  
 Указывает родительские окна объекта диалогового окна (типа [CWnd](../../mfc/reference/cwnd-class.md)). Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `lpDialogInit`  
 Указывает на **DLGINIT** ресурсов.  
  
 `hDialogTemplate`  
 Содержит дескриптор глобальной памяти, содержащий шаблон диалогового окна. Этот шаблон находится в форме **DLGTEMPLATE** структуру и данные для каждого элемента управления в диалоговом окне.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если диалоговое окно создания и инициализирован успешно. в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 `CreateIndirect` Функция-член возвращает сразу после его создает диалоговое окно.  
  
 Используйте **WS_VISIBLE** стиля в шаблон диалогового окна, если появится диалоговое окно, при создании родительского окна. В противном случае необходимо вызвать метод `ShowWindow` заставить оно должно отображаться. Дополнительные сведения о как можно указать другие стили, диалоговое окно «» в шаблоне. в разделе [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры в Windows SDK.  
  
 Используйте `CWnd::DestroyWindow` функции для уничтожения диалоговое окно, созданные `CreateIndirect` функции.  
  
 Диалоговые окна, которые содержат элементы управления ActiveX требуются дополнительные сведения, предоставленные в **DLGINIT** ресурсов. Дополнительные сведения см. в статье базы знаний Q231591, "Практическое руководство: использование шаблона диалогового окна Создание диалогового окна MFC, элемент управления ActiveX.» Статьи базы знаний можно найти по адресу [http://support.microsoft.com](http://support.microsoft.com/).  
  
##  <a name="domodal"></a>CDialog::DoModal  
 Вызовите эту функцию-член для вызова модального диалогового окна и возвращает результат диалогового окна, после завершения.  
  
```  
virtual INT_PTR DoModal();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `int` Значение, указывающее значение `nResult` параметр, который был передан в [CDialog::EndDialog](#enddialog) функция-член, который используется, чтобы закрыть диалоговое окно. Возвращаемое значение-1, если функция не удалось создать диалоговое окно, или **IDABORT** Если возникла другая ошибка, в этом случае в окне вывода будет содержать сведения об ошибке из [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360).  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член обрабатывает все взаимодействие с пользователем во время активного диалоговым окном. Именно это и делает окно модальным; то есть пользователь не может взаимодействовать с других окон до закрытия диалогового.  
  
 Если пользователь нажимает одну из кнопок в диалоговом окне, например OK или "Отмена", функции-члена обработчик сообщений, таких как [OnOK](#onok) или [OnCancel](#oncancel), вызывается закрыть диалоговое окно. Значение по умолчанию `OnOK` функция-член будет проверки и обновления данных диалогового окна и закрыть диалоговое окно с результатом **IDOK**и значение по умолчанию `OnCancel` функция-член будет закрыть окно с результатом  **IDCANCEL** без проверки и обновления данных диалогового окна. Можно переопределить эти функции обработчик сообщений для изменения их поведения.  
  
> [!NOTE]
> `PreTranslateMessage`Теперь называется для обработки сообщений поле модальное диалоговое окно.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#63](../../mfc/codesnippet/cpp/cdialog-class_2.cpp)]  
  
##  <a name="enddialog"></a>CDialog::EndDialog  
 Вызовите эту функцию-член для завершения модального диалогового окна.  
  
```  
void EndDialog(int nResult);
```  
  
### <a name="parameters"></a>Параметры  
 `nResult`  
 Содержит значение, возвращаемое из диалогового окна вызывающему объекту `DoModal`.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член возвращает `nResult` как возвращаемое значение `DoModal`. Необходимо использовать `EndDialog` функция продолжить обработку при каждом создании модального диалогового окна.  
  
 Можно вызвать `EndDialog` в любое время, даже в [OnInitDialog](#oninitdialog), в этом случае следует закрыть окно перед ним отображается, или перед заданием фокус ввода.  
  
 `EndDialog`не закрывайте диалоговое окно немедленно. Вместо этого он устанавливает флаг, который направляет диалоговым окном, чтобы закрыть сразу возвращает текущий обработчик сообщений.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#64](../../mfc/codesnippet/cpp/cdialog-class_3.cpp)]  
  
 [!code-cpp[NVC_MFCControlLadenDialog#65](../../mfc/codesnippet/cpp/cdialog-class_4.cpp)]  
  
##  <a name="getdefid"></a>CDialog::GetDefID  
 Вызовите `GetDefID` функции-члена для получения идентификатора элемента управления, которые по умолчанию для диалогового окна.  
  
```  
DWORD GetDefID() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение ( `DWORD`). Если кнопки по умолчанию имеет значение идентификатора, содержащий старшее слово **DC_HASDEFID** и младшее слово содержит значение идентификатора. Если кнопки по умолчанию имеет значение идентификатора, возвращаемое значение — 0.  
  
### <a name="remarks"></a>Примечания  
 Обычно это кнопка "ОК".  
  
##  <a name="gotodlgctrl"></a>CDialog::GotoDlgCtrl  
 Перемещает фокус на указанный элемент управления в диалоговом окне.  
  
```  
void GotoDlgCtrl(CWnd* pWndCtrl);
```  
  
### <a name="parameters"></a>Параметры  
 `pWndCtrl`  
 Идентифицирует окно (управления), который должен получить фокус.  
  
### <a name="remarks"></a>Примечания  
 Чтобы получить указатель на элемент управления (дочернее окно) для передачи в качестве `pWndCtrl`, вызовите `CWnd::GetDlgItem` функция-член, который возвращает указатель на [CWnd](../../mfc/reference/cwnd-class.md) объекта.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CWnd::GetDlgItem](../../mfc/reference/cwnd-class.md#getdlgitem).  
  
##  <a name="initmodalindirect"></a>CDialog::InitModalIndirect  
 Вызовите эту функцию-член для инициализации объекта модальное диалоговое окно, с помощью шаблона диалогового окна, который можно создать в памяти.  
  
```  
BOOL InitModalIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,  
    CWnd* pParentWnd = NULL,  
    void* lpDialogInit = NULL);

 
    BOOL InitModalIndirect(
    HGLOBAL hDialogTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpDialogTemplate`  
 Указатель памяти, который содержит шаблон диалогового окна, используемый для создания диалогового окна. Этот шаблон находится в форме [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры и управления сведения, как описано в Windows SDK.  
  
 `hDialogTemplate`  
 Содержит дескриптор глобальной памяти, содержащий шаблон диалогового окна. Этот шаблон находится в форме **DLGTEMPLATE** структуру и данные для каждого элемента управления в диалоговом окне.  
  
 `pParentWnd`  
 Указывает на объект window родительского или владелец (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `lpDialogInit`  
 Указывает на **DLGINIT** ресурсов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если объект диалогового окна был создан и инициализирован успешно. в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Создание модального диалогового окна косвенно, выделить блок глобальной памяти и заполнить шаблон диалогового окна. Затем вызовите пустых `CDialog` конструктор для создания объекта диалогового окна. Затем вызовите `InitModalIndirect` для хранения маркер в шаблон диалогового окна в памяти. Создается и отображается диалоговое окно Windows более поздняя, при [DoModal](#domodal) вызвать функцию-член.  
  
 Диалоговые окна, которые содержат элементы управления ActiveX требуются дополнительные сведения, предоставленные в **DLGINIT** ресурсов. Дополнительные сведения см. в статье базы знаний Q231591, "Практическое руководство: использование шаблона диалогового окна Создание диалогового окна MFC, элемент управления ActiveX.» Статьи базы знаний можно найти по адресу [http://support.microsoft.com](http://support.microsoft.com/).  
  
##  <a name="mapdialogrect"></a>CDialog::MapDialogRect  
 Вызов преобразования единицы диалогового окна прямоугольника экрана устройства.  
  
```  
void MapDialogRect(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает на [RECT](../../mfc/reference/rect-structure1.md) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , содержащий диалоговым окном координаты для преобразования.  
  
### <a name="remarks"></a>Примечания  
 С точки зрения текущего диалогового окна базовой единицей производными среднее ширину и высоту символов в шрифта для текста диалогового окна указаны единицы диалогового окна. Одна единица — четверти ширины базы единицы диалогового окна, а одна единица — одну восьмую высоты базовой единицы диалогового окна.  
  
 **GetDialogBaseUnits** Windows функция возвращает сведения о размере для системного шрифта, но можно указать другой шрифт в каждом диалоговом при использовании **DS_SETFONT** стиля в файл определения ресурсов. `MapDialogRect` Функция Windows использует соответствующий шрифт для данным диалоговым окном.  
  
 `MapDialogRect` Функция-член заменяет единицы диалогового окна в `lpRect` с экрана устройства (в пикселях), чтобы прямоугольник можно использовать для создания диалогового окна или разместить элемент управления в поле.  
  
##  <a name="nextdlgctrl"></a>CDialog::NextDlgCtrl  
 Фокус перемещается к следующему элементу управления в диалоговом окне.  
  
```  
void NextDlgCtrl() const;  
```  
  
### <a name="remarks"></a>Примечания  
 Если фокус находится на последний элемент управления в диалоговом окне, он перемещает к первому элементу управления.  
  
##  <a name="oncancel"></a>CDialog::OnCancel  
 Этот метод вызывается платформой, когда пользователь щелкает **отменить** или при нажатии клавиши ESC в диалоговом окне модальные и немодальные.  
  
```  
virtual void OnCancel();
```  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для выполнения действий (например, восстановление старые данные) когда пользователь закрывает диалоговое окно, нажав кнопку **отменить** или при нажатии клавиши ESC. Значение по умолчанию закрывает модального диалогового окна, вызвав [EndDialog](#enddialog) и вызывает [DoModal](#domodal) для возврата IDCANCEL.  
  
 При реализации **отменить** кнопку в поле немодального диалогового окна, необходимо переопределить `OnCancel` метод и вызовите [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает `EndDialog`, который будет сделать невидимыми диалоговое окно, но не удалить, если она.  
  
> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в приложении, который компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, в разделе [класс CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#66](../../mfc/codesnippet/cpp/cdialog-class_5.cpp)]  
  
##  <a name="oninitdialog"></a>CDialog::OnInitDialog  
 Этот метод вызывается в ответ на `WM_INITDIALOG` сообщение.  
  
```  
virtual BOOL OnInitDialog();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Включение приложения фокус ввода для элемента управления в диалоговом окне. Если `OnInitDialog` возвращает ненулевое Windows устанавливает фокус ввода в расположение по умолчанию первый элемент управления в диалоговом окне. Приложение может возвращать значение 0 только в том случае, если он задан явно фокус ввода для элемента управления в диалоговом окне.  
  
### <a name="remarks"></a>Примечания  
 Windows отправляет `WM_INITDIALOG` сообщение в диалоговом окне во время [создать](#create), [CreateIndirect](#createindirect), или [DoModal](#domodal) вызовы, которые происходят непосредственно перед диалоговое окно отображается.  
  
 Переопределите этот метод, если вы хотите выполнять специальную обработку при инициализации диалоговым окном. В переопределенная версия вызвать метод базового класса `OnInitDialog` , но игнорируйте его возвращаемое значение. Обычно возвращают `TRUE` переопределенный метод.  
  
 Вызовов Windows `OnInitDialog` функции с помощью процедуры стандартное глобального-диалоговое окно Общие для всех диалоговых окнах библиотеки Microsoft Foundation Class. Не вызывает этой функции через карту сообщений и поэтому не требуется элемент карты сообщений для этого метода.  
  
> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в приложении, который компилируется в разделе [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. Дополнительные сведения об изменениях в `CFileDialog` под [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] разделе [класс CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#67](../../mfc/codesnippet/cpp/cdialog-class_6.cpp)]  
  
##  <a name="onok"></a>CDialog::OnOK  
 Вызывается, когда пользователь нажимает кнопку **ОК** (кнопка с Идентификатором IDOK).  
  
```  
virtual void OnOK();
```  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для выполнения действий при **ОК** кнопка активна. Если диалоговое окно содержит автоматические данные проверки и exchange, реализация по умолчанию этот метод проверяет данные диалогового окна и обновляет соответствующие переменные в приложении.  
  
 При реализации **ОК** кнопку в поле немодального диалогового окна, необходимо переопределить `OnOK` метод и вызовите [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает [EndDialog](#enddialog) который делает окно невидимым, но не удаляются.  
  
> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в приложении, который компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, в разделе [класс CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog#68](../../mfc/codesnippet/cpp/cdialog-class_7.cpp)]  
  
##  <a name="onsetfont"></a>CDialog::OnSetFont  
 Определяет шрифт, который будет использовать элемент управления диалогового окна во время рисования текста.  
  
```  
Virtual void OnSetFont(CFont* pFont);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pFont`  
 Задает указатель шрифт, который будет использоваться в качестве шрифта по умолчанию для всех элементов управления в этом окне.  
  
### <a name="remarks"></a>Примечания  
 Диалоговое окно будет использовать указанный шрифт по умолчанию для всех элементов управления.  
  
 Редактор диалоговых окон обычно задает шрифт диалогового окна как часть ресурса шаблона диалогового окна.  
  
> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в приложении, который компилируется в разделе [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. Дополнительные сведения об изменениях в `CFileDialog` под [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] разделе [класс CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
##  <a name="prevdlgctrl"></a>CDialog::PrevDlgCtrl  
 Устанавливает фокус к предыдущему элементу управления в диалоговом окне.  
  
```  
void PrevDlgCtrl() const;  
```  
  
### <a name="remarks"></a>Примечания  
 Если фокус находится на первый элемент управления в диалоговом окне, он перемещается к последнему элемента управления в поле.  
  
##  <a name="setdefid"></a>CDialog::SetDefID  
 Изменяет кнопка элемента управления по умолчанию для диалогового окна.  
  
```  
void SetDefID(UINT nID);
```  
  
### <a name="parameters"></a>Параметры  
 `nID`  
 Указывает идентификатор кнопка элемента управления, который будет использоваться по умолчанию.  
  
##  <a name="sethelpid"></a>CDialog::SetHelpID  
 Задает идентификатор контекстной справки для диалогового окна.  
  
```  
void SetHelpID(UINT nIDR);
```  
  
### <a name="parameters"></a>Параметры  
 *nIDR*  
 Указывает идентификатор контекстной справки.  
  
## <a name="see-also"></a>См. также  
 [Образец DLGCBR32 MFC](../../visual-cpp-samples.md)   
 [Пример MFC DLGTEMPL](../../visual-cpp-samples.md)   
 [CWnd-класс](../../mfc/reference/cwnd-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)

