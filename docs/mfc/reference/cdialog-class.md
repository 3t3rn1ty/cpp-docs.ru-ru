---
title: "Класс CDialog | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CDialog
dev_langs:
- C++
helpviewer_keywords:
- modal dialog boxes, creating
- MFC dialog boxes, base class
- modeless dialog boxes, creating
- modeless dialog boxes, displaying
- CDialog class
ms.assetid: ca64b77e-2cd2-47e3-8eff-c2645ad578f9
caps.latest.revision: 23
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 0e0c08ddc57d437c51872b5186ae3fc983bb0199
ms.openlocfilehash: 0944d815e8aca591f2a09c09af60fa591a9b1a6d
ms.lasthandoff: 02/24/2017

---
# <a name="cdialog-class"></a>CDialog-класс
Базовый класс, используемый для отображения диалоговых окон на экране.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CDialog : public CWnd  
```  
  
## <a name="members"></a>Члены  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CDialog::CDialog](#cdialog)|Создает объект `CDialog`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CDialog::Create](#create)|Инициализирует `CDialog` объекта. Создает немодальное диалоговое окно и присоединяет его к `CDialog` объекта.|  
|[CDialog::CreateIndirect](#createindirect)|Создает немодальное диалоговое окно на основе шаблона диалоговых окон в памяти (не ресурсов на основе).|  
|[CDialog::DoModal](#domodal)|Модальное диалоговое окно и возвращает завершении.|  
|[CDialog::EndDialog](#enddialog)|Закрывает модального диалогового окна.|  
|[CDialog::GetDefID](#getdefid)|Возвращает идентификатор элемента управления, которые по умолчанию для диалогового окна.|  
|[CDialog::GotoDlgCtrl](#gotodlgctrl)|Перемещение фокуса к элементу управления заданного диалоговых окон в диалоговом окне.|  
|[CDialog::InitModalIndirect](#initmodalindirect)|Создает модального диалогового окна из шаблона диалоговых окон в памяти (не ресурсов на основе). Параметры хранятся, пока функция `DoModal` вызывается.|  
|[CDialog::MapDialogRect](#mapdialogrect)|Преобразует единицы диалогового прямоугольника экрана единиц.|  
|[CDialog::NextDlgCtrl](#nextdlgctrl)|Перемещение фокуса к следующему элементу управления диалоговых окон, в диалоговом окне.|  
|[CDialog::OnInitDialog](#oninitdialog)|Переопределите для ускорения инициализации диалогового окна.|  
|[CDialog::OnSetFont](#onsetfont)|Переопределение, чтобы указать, которая должна использоваться при отрисовке текстовый элемент управления "диалоговое окно" шрифт.|  
|[CDialog::PrevDlgCtrl](#prevdlgctrl)|Перемещение фокуса к предыдущему элементу управления диалоговых окон, в диалоговом окне.|  
|[CDialog::SetDefID](#setdefid)|Изменения указанного pushbutton кнопка элемента управления по умолчанию для диалогового окна.|  
|[CDialog::SetHelpID](#sethelpid)|Задает идентификатор контекстной справки для диалогового окна.|  
  
### <a name="protected-methods"></a>Защищенные методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CDialog::OnCancel](#oncancel)|Переопределение для выполнения действия ключа ESC кнопки "Отмена". Значение по умолчанию закрывает диалоговое окно и **DoModal** возвращает **IDCANCEL**.|  
|[CDialog::OnOK](#onok)|Переопределение для выполнения действий кнопку OK в модального диалогового окна. Значение по умолчанию закрывает диалоговое окно и `DoModal` возвращает **IDOK**.|  
  
## <a name="remarks"></a>Примечания  
 Диалоговые окна бывают двух типов: модальные и немодальные. Прежде чем приложение продолжит работу, модального диалогового окна должны быть закрыты пользователем. Немодальное диалоговое окно позволяет пользователю открыть диалоговое окно и вернуться к другой задачи без отмены или удаление диалоговое окно.  
  
 Объект `CDialog` объект представляет собой сочетание шаблона диалогового окна и `CDialog`-производного класса. Используйте редактор диалоговых окон для создания шаблона диалогового окна и сохранить его в виде ресурса, а затем используйте мастер добавления классов для создания класса, производного от `CDialog`.  
  
 Диалоговое окно, как любое другое окно получает сообщения из Windows. В диалоговом окне являются заинтересовались обработки сообщений уведомления от элементов управления диалогового окна, потому, что это взаимодействие пользователя с диалоговым окном. Позволяет выбрать, какие сообщения требуется маркер и добавит записи соответствующие сопоставления сообщений и обработчика сообщений функции-члены в класс для вас окна «Свойства». Необходимо написать код приложения в функции-члены обработчика.  
  
 При желании можно всегда написать записей сопоставления сообщений и функции-члены вручную.  
  
 Во всех, кроме самых тривиальных диалоговое добавьте переменные-члены для классов производном диалоговых окон для хранения данных, введенных в элементах управления диалогового окна пользователем или для отображения данных для пользователя. Создайте переменные-члены и связать их с элементами управления, можно использовать мастер добавления переменной. В то же время выберите тип переменной и допустимый диапазон значений для каждой переменной. Код мастер добавляет переменные-члены классов производном диалоговых окон.  
  
 Сопоставление данных создается автоматически обрабатывать обмен данными между переменные-члены и элементы управления диалогового окна. Сопоставление данных предоставляет функции для инициализации элементов управления в диалоговом окне с соответствующими значениями, получения данных и проверки данных.  
  
 Для создания модального диалогового окна, создайте объект в стеке, используя конструктор для класса производного диалоговое окно и затем вызовите `DoModal` создать диалоговое окно и ее элементов управления. Если вы хотите создать немодального диалогового окна, вызвать **создать** в конструкторе классов диалоговых окон.  
  
 Также можно создать шаблон в памяти с помощью [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры данных, как описано в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)]. После создания `CDialog` , вызовите [CreateIndirect](#createindirect) Создание немодальных диалоговых окон или вызов [InitModalIndirect](#initmodalindirect) и [DoModal](#domodal) для создания модального диалогового окна.  
  
 Сопоставление данных exchange и проверки записывается в переопределении `CWnd::DoDataExchange` , добавляется к новому классу диалогового окна. В разделе [DoDataExchange](../../mfc/reference/cwnd-class.md#dodataexchange) функции-члена `CWnd` для получения дополнительных сведений о функциональности и проверки.  
  
 Программист и вызова framework `DoDataExchange` косвенно посредством вызова [CWnd::UpdateData](../../mfc/reference/cwnd-class.md#updatedata).  
  
 Платформа вызывает функцию `UpdateData` когда пользователь щелкает кнопку ОК, чтобы закрыть модальное диалоговое окно. (Данные не извлекаются при нажатии кнопки «Отмена»). Реализация по умолчанию [OnInitDialog](#oninitdialog) также вызывает `UpdateData` для задания начальных значений элементов управления. Обычно переопределяется `OnInitDialog` для дальнейшей инициализации элементов управления. `OnInitDialog`вызывается после создания элементов управления диалоговых окон и непосредственно перед диалогового окна отображается окно.  
  
 Можно вызвать `CWnd::UpdateData` в любой момент во время выполнения модальное или немодальное окно.  
  
 При разработке диалоговое окно вручную, вы добавьте необходимые переменные-члены в класс производный диалоговое самостоятельно и добавить функции-члены для задания или получения этих значений.  
  
 Модальное диалоговое окно закрывается автоматически при нажатии кнопки ОК или "Отмена", или когда код вызывает метод `EndDialog` функции-члена.  
  
 При реализации немодального диалогового окна всегда переопределять `OnCancel` функция-член и вызов `DestroyWindow` из внутри него. Не вызывайте базовый класс `CDialog::OnCancel`, так как он вызывает `EndDialog`, который сделает диалоговое окно невидимым, но не будут уничтожены. Необходимо также переопределить `PostNcDestroy` немодальных диалоговых окон, чтобы удалить **это**, поскольку обычно выделяется безрежимные диалоговые окна с **новый**. Модальные диалоговые окна обычно создаются в кадре и не обязательно `PostNcDestroy` очистки.  
  
 Дополнительные сведения о `CDialog`, см.:  
  
- [Диалоговые окна](../../mfc/dialog-boxes.md)  
  
-   Статья базы знаний Q262954: Практическое руководство: создание перемещаемом диалоговые окна с полосами прокрутки  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 `CDialog`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxwin.h  
  
##  <a name="a-namecdialoga--cdialogcdialog"></a><a name="cdialog"></a>CDialog::CDialog  
 Для создания на основе ресурсов модальным диалоговым окном, вызовите любой форме открытого конструктора.  
  
```  
explicit CDialog(
    LPCTSTR lpszTemplateName,  
    CWnd* pParentWnd = NULL);

 
explicit CDialog(
    UINT nIDTemplate,  
    CWnd* pParentWnd = NULL);  
  
CDialog();
```  
  
### <a name="parameters"></a>Параметры  
 `lpszTemplateName`  
 Содержит нулем строку, имя ресурс шаблона диалоговых окон.  
  
 `nIDTemplate`  
 Содержит идентификатор ресурс шаблона диалоговых окон.  
  
 `pParentWnd`  
 Указывает на объект окна родительского или владелец (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
### <a name="remarks"></a>Примечания  
 Одна форма конструктора предоставляет доступ к ресурс диалогового окна по имени шаблона. Другой конструктор предоставляет доступ по ИД шаблона, обычно с **IDD_** префикс (например, IDD_DIALOG1).  
  
 Для создания модального диалогового окна с помощью шаблона в памяти, сначала вызовите конструктор без параметров, защищенные, а затем вызвать `InitModalIndirect`.  
  
 После создания модального диалогового окна с помощью одного из перечисленных выше методов, вызовите метод `DoModal`.  
  
 Для создания немодального диалогового окна, использовать защищенный форму `CDialog` конструктор. Конструктор защищен, поскольку необходимо создать производный класс диалоговых окон для реализации немодального диалогового окна. Создание немодального диалогового окна осуществляется в два этапа. Первый вызов конструктора; затем вызовите **создать** функции-члена для создания на основе ресурсов диалогового окна, или вызовите `CreateIndirect` для создания диалогового окна из шаблона в памяти.  
  
##  <a name="a-namecreatea--cdialogcreate"></a><a name="create"></a>CDialog::Create  
 Вызов **создать** Создание немодального диалогового окна с помощью шаблона диалоговых окон из ресурса.  
  
```  
virtual BOOL Create(
    LPCTSTR lpszTemplateName,  
    CWnd* pParentWnd = NULL);

 
virtual BOOL Create(
    UINT nIDTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszTemplateName`  
 Содержит нулем строку, имя ресурс шаблона диалоговых окон.  
  
 `pParentWnd`  
 Указывает родительский объект окна (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `nIDTemplate`  
 Содержит идентификатор ресурс шаблона диалоговых окон.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Обе формы возвращает ненулевое значение, если создание диалоговых окон и инициализации были успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Можно поместить вызов **создать** внутри конструктора или вызова вызывается через конструктор.  
  
 Две формы **создать** функции-члена предоставляются для доступа в ресурс шаблона диалоговых окон, имя шаблона или идентификатор шаблона (например, IDD_DIALOG1).  
  
 Для любой форме передайте указатель родительского окна объекта. Если `pParentWnd` — **NULL**, диалоговое окно будет создаваться с его владельцу или родительского окна, равным главного окна приложения.  
  
 **Создать** функция-член возвращает сразу после создания диалоговое окно.  
  
 Используйте **WS_VISIBLE** стиля в шаблоне диалогового Если появится диалоговое окно, при создании родительского окна. В противном случае, необходимо вызвать метод `ShowWindow`. Дополнительные стили диалоговых окон и своего приложения см. [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] и [стили окна](../../mfc/reference/window-styles.md) в *Справочник по библиотеке MFC*.  
  
 Используйте `CWnd::DestroyWindow` функция уничтожить созданный диалоговым окном **создать** функции.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#62;](../../mfc/codesnippet/cpp/cdialog-class_1.cpp)]  
  
##  <a name="a-namecreateindirecta--cdialogcreateindirect"></a><a name="createindirect"></a>CDialog::CreateIndirect  
 Вызовите эту функцию-член для создания немодального диалогового окна из шаблона диалоговых окон в памяти.  
  
```  
virtual BOOL CreateIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,  
    CWnd* pParentWnd = NULL,  
    void* lpDialogInit = NULL);

 
virtual BOOL CreateIndirect(
    HGLOBAL hDialogTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpDialogTemplate`  
 Указатель памяти, который содержит диалоговых шаблон, используемый для создания диалогового окна. Этот шаблон предназначен в виде [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры и адресную информацию, как описано в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
 `pParentWnd`  
 Указывает объект родительского окна объекта диалогового окна (типа [CWnd](../../mfc/reference/cwnd-class.md)). Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `lpDialogInit`  
 Указывает **DLGINIT** ресурсов.  
  
 `hDialogTemplate`  
 Содержит дескриптор глобальной памяти, содержащей шаблон диалоговых окон. Этот шаблон предназначен в виде **DLGTEMPLATE** структуру и данные для каждого элемента управления в диалоговом окне.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если диалоговое окно был создан и инициализирован успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 `CreateIndirect` Функция-член возвращает сразу после создания диалоговое окно.  
  
 Используйте **WS_VISIBLE** стиля в шаблоне диалогового Если появится диалоговое окно, при создании родительского окна. В противном случае, необходимо вызвать метод `ShowWindow` заставить его отображения. Дополнительные сведения на как можно указать другие стили, диалоговое окно «» в шаблоне в разделе [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) в структуре [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
 Используйте `CWnd::DestroyWindow` функция уничтожить созданный диалоговым окном `CreateIndirect` функции.  
  
 Диалоговые окна, содержащих элементы управления ActiveX требуются дополнительные сведения, предоставленные в **DLGINIT** ресурсов. Дополнительные сведения см. в статье базы знаний Q231591, «Практическое руководство: использование шаблона диалогового окна Создание диалогового окна MFC с элементом управления ActiveX.» Статьи базы знаний, доступны в документации по Visual Studio библиотеки MSDN или в [http://support.microsoft.com](http://support.microsoft.com/).  
  
##  <a name="a-namedomodala--cdialogdomodal"></a><a name="domodal"></a>CDialog::DoModal  
 Вызов этой функции-члена для вызова модального диалогового окна и возвращают результат диалогового после завершения.  
  
```  
virtual INT_PTR DoModal();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `int` Значение, указывающее значение `nResult` параметр, который был передан в [CDialog::EndDialog](#enddialog) функция-член, который используется, чтобы закрыть диалоговое окно. Возвращаемое значение –&1;, если функция не удалось создать диалоговое окно, или **IDABORT** Если возникла другая ошибка, в этом случае в окне вывода будет содержать сведения об ошибке из [GetLastError](http://msdn.microsoft.com/library/windows/desktop/ms679360).  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член обрабатывает все взаимодействие с пользователем при активном диалоговом окне. Именно это и делает окно модальным; то есть до закрытия диалогового пользователь не может взаимодействовать с другими окнами.  
  
 Если пользователь нажимает одну из кнопок в диалоговом окне, например ОК или Отмена функцию-член обработчик сообщений, таких как [OnOK](#onok) или [OnCancel](#oncancel), вызывается закрыть диалоговое окно. По умолчанию `OnOK` функция-член будет проверки и обновления данных диалоговых и закрыть окно с результатами **IDOK**и значение по умолчанию `OnCancel` функция-член будет закрыть окно с результатами **IDCANCEL** без проверки и обновления данных диалоговых окон. Можно переопределить эти функции обработчика сообщений для изменения их поведения.  
  
> [!NOTE]
> `PreTranslateMessage`Теперь называется для обработки сообщений модальное диалоговое окно.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#63;](../../mfc/codesnippet/cpp/cdialog-class_2.cpp)]  
  
##  <a name="a-nameenddialoga--cdialogenddialog"></a><a name="enddialog"></a>CDialog::EndDialog  
 Вызовите эту функцию-член для завершения модального диалогового окна.  
  
```  
void EndDialog(int nResult);
```  
  
### <a name="parameters"></a>Параметры  
 `nResult`  
 Содержит значение, возвращаемое из диалогового окна вызывающему объекту `DoModal`.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член возвращает `nResult` как возвращаемое значение `DoModal`. Необходимо использовать `EndDialog` для завершения обработки при создании модального диалогового окна.  
  
 Можно вызвать `EndDialog` в любое время, даже в [OnInitDialog](#oninitdialog), тогда следует закрыть диалоговое окно перед ней показано или перед заданием фокус ввода.  
  
 `EndDialog`не закрывайте диалоговое окно немедленно. Вместо этого он задает флаг, который направляет диалоговым окном, чтобы закрыть сразу возвращает текущий обработчик сообщений.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#64;](../../mfc/codesnippet/cpp/cdialog-class_3.cpp)]  
  
 [!code-cpp[NVC_MFCControlLadenDialog&#65;](../../mfc/codesnippet/cpp/cdialog-class_4.cpp)]  
  
##  <a name="a-namegetdefida--cdialoggetdefid"></a><a name="getdefid"></a>CDialog::GetDefID  
 Вызов `GetDefID` функции-члена для получения идентификатора элемента управления, которые по умолчанию для диалогового окна.  
  
```  
DWORD GetDefID() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение ( `DWORD`). Если кнопка по умолчанию имеет значение идентификатора, старшее слово содержит **DC_HASDEFID** и младшее слово содержит значение идентификатора. Если кнопка по умолчанию имеет значение идентификатора, возвращаемое значение — 0.  
  
### <a name="remarks"></a>Примечания  
 Обычно это кнопка «OK».  
  
##  <a name="a-namegotodlgctrla--cdialoggotodlgctrl"></a><a name="gotodlgctrl"></a>CDialog::GotoDlgCtrl  
 Перемещение фокуса на указанный элемент управления в диалоговом окне.  
  
```  
void GotoDlgCtrl(CWnd* pWndCtrl);
```  
  
### <a name="parameters"></a>Параметры  
 `pWndCtrl`  
 Определяет окно (элемент управления), который должен получить фокус.  
  
### <a name="remarks"></a>Примечания  
 Чтобы получить указатель на элемент управления (дочернего окна) передается в качестве `pWndCtrl`, вызовите `CWnd::GetDlgItem` функция-член, который возвращает указатель на [CWnd](../../mfc/reference/cwnd-class.md) объекта.  
  
### <a name="example"></a>Пример  
  В примере показано [CWnd::GetDlgItem](../../mfc/reference/cwnd-class.md#getdlgitem).  
  
##  <a name="a-nameinitmodalindirecta--cdialoginitmodalindirect"></a><a name="initmodalindirect"></a>CDialog::InitModalIndirect  
 Вызовите эту функцию-член для инициализации объекта модальное диалоговое окно, с помощью шаблона диалоговых окон, конструкции в памяти.  
  
```  
BOOL InitModalIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,  
    CWnd* pParentWnd = NULL,  
    void* lpDialogInit = NULL);

 
    BOOL InitModalIndirect(
    HGLOBAL hDialogTemplate,  
    CWnd* pParentWnd = NULL);
```  
  
### <a name="parameters"></a>Параметры  
 `lpDialogTemplate`  
 Указатель памяти, который содержит диалоговых шаблон, используемый для создания диалогового окна. Этот шаблон предназначен в виде [DLGTEMPLATE](http://msdn.microsoft.com/library/windows/desktop/ms645394) структуры и адресную информацию, как описано в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
 `hDialogTemplate`  
 Содержит дескриптор глобальной памяти, содержащей шаблон диалоговых окон. Этот шаблон предназначен в виде **DLGTEMPLATE** структуру и данные для каждого элемента управления в диалоговом окне.  
  
 `pParentWnd`  
 Указывает на объект окна родительского или владелец (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это **NULL**, главное окно приложения имеет значение родительского окна объекта диалогового окна.  
  
 `lpDialogInit`  
 Указывает **DLGINIT** ресурсов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если диалоговое окно объект был создан и инициализирован успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Создание модального диалогового окна косвенно, выделить глобальный блок памяти и заполнить его шаблон диалогового окна. Затем вызовите пустых `CDialog` конструктор для создания объекта диалоговых окон. Затем вызовите `InitModalIndirect` для хранения этого дескриптора для шаблона диалоговых окон в памяти. Диалоговое окно Windows будет создан и отображен впоследствии при [DoModal](#domodal) вызывается функция-член.  
  
 Диалоговые окна, содержащих элементы управления ActiveX требуются дополнительные сведения, предоставленные в **DLGINIT** ресурсов. Дополнительные сведения см. в статье базы знаний Q231591, «Практическое руководство: использование шаблона диалогового окна Создание диалогового окна MFC с элементом управления ActiveX.» Статьи базы знаний, доступны в документации по Visual Studio библиотеки MSDN или в [http://support.microsoft.com](http://support.microsoft.com/).  
  
##  <a name="a-namemapdialogrecta--cdialogmapdialogrect"></a><a name="mapdialogrect"></a>CDialog::MapDialogRect  
 Вызов преобразования единицы диалогового прямоугольника экрана единиц.  
  
```  
void MapDialogRect(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает [RECT](../../mfc/reference/rect-structure1.md) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , содержащий диалоговым окном координаты для преобразования.  
  
### <a name="remarks"></a>Примечания  
 С точки зрения текущего диалогового базовой единицей производными от среднюю ширину и высоту символов шрифта для текста диалоговое указаны единиц диалоговых окон. Одна единица — одну четверть ширины базы единицы диалогового, а одна единица — одну восьмую высота основы единицы диалогового.  
  
 **GetDialogBaseUnits** Windows функция возвращает сведения о размере шрифта системы, но можно указать другой шрифт в каждом диалоговом при использовании **DS_SETFONT** стиль в файле определения ресурсов. `MapDialogRect` Функции Windows использует соответствующий шрифт для текущего окна.  
  
 `MapDialogRect` Функция-член заменяет единицы диалоговых окон в `lpRect` с экрана устройства (в пикселях), чтобы прямоугольник можно использовать для создания диалогового окна или разместить элемент управления в поле.  
  
##  <a name="a-namenextdlgctrla--cdialognextdlgctrl"></a><a name="nextdlgctrl"></a>CDialog::NextDlgCtrl  
 Перемещение фокуса к следующему элементу управления в диалоговом окне.  
  
```  
void NextDlgCtrl() const;  
```  
  
### <a name="remarks"></a>Примечания  
 Если фокус находится на последний элемент управления в диалоговом окне, он перемещает к первому элементу управления.  
  
##  <a name="a-nameoncancela--cdialogoncancel"></a><a name="oncancel"></a>CDialog::OnCancel  
 Платформа вызывает этот метод, когда пользователь нажимает **отменить** или клавиши ESC в модальное или немодальное окно.  
  
```  
virtual void OnCancel();
```  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для выполнения действий (например, при восстановлении старых данных) когда пользователь закрывает диалоговое окно, нажав кнопку **отменить** или при нажатии клавиши ESC. Значение по умолчанию закрывает модального диалогового окна путем вызова [EndDialog](#enddialog) и вызывает [DoModal](#domodal) для возврата IDCANCEL.  
  
 При реализации **отменить** кнопку в поле немодального диалогового окна, необходимо переопределить `OnCancel` метод и вызвать [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает `EndDialog`, который будет сделать диалоговое окно невидимым, но не уничтожить его.  
  
> [!NOTE]
>  Этот метод нельзя переопределить при использовании `CFileDialog` объекта в программе, которая компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#66;](../../mfc/codesnippet/cpp/cdialog-class_5.cpp)]  
  
##  <a name="a-nameoninitdialoga--cdialogoninitdialog"></a><a name="oninitdialog"></a>CDialog::OnInitDialog  
 Этот метод вызывается в ответ на `WM_INITDIALOG` сообщение.  
  
```  
virtual BOOL OnInitDialog();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Включение приложения фокус ввода для элемента управления в диалоговом окне. Если `OnInitDialog` возвращает ненулевое значение, Windows устанавливает фокус ввода на расположение по умолчанию, первый элемент управления в диалоговом окне. Приложение может возвращают 0 только в том случае, если он явно установлен фокус ввода для элемента управления в диалоговом окне.  
  
### <a name="remarks"></a>Примечания  
 Windows отправляет `WM_INITDIALOG` сообщение в окно во время [создать](#create), [CreateIndirect](#createindirect), или [DoModal](#domodal) вызовы, которые происходят непосредственно перед откроется диалоговое окно.  
  
 Переопределите этот метод, если требуется выполнять специальную обработку при инициализации диалоговое окно. Переопределенные версии сначала вызвать базовый класс `OnInitDialog` , но игнорируйте его возвращаемое значение. Обычно возвращают `TRUE` из переопределенного метода.  
  
 Вызовы Windows `OnInitDialog` функции с помощью процедуры стандартное глобального-диалоговое окно Общие для всех диалоговых окон библиотеки Microsoft Foundation Class. Не вызывает эту функцию через карту сообщения и поэтому не требуется элемент карты сообщений для этого метода.  
  
> [!NOTE]
>  Этот метод нельзя переопределить при использовании `CFileDialog` объекта в программе, которая компилируется в разделе [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. Дополнительные сведения об изменениях в `CFileDialog` под [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#67;](../../mfc/codesnippet/cpp/cdialog-class_6.cpp)]  
  
##  <a name="a-nameonoka--cdialogonok"></a><a name="onok"></a>CDialog::OnOK  
 Вызывается, когда пользователь нажимает кнопку **ОК** (кнопка с Идентификатором IDOK).  
  
```  
virtual void OnOK();
```  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для выполнения действий при **ОК** активируется кнопка. Если диалоговое окно содержит данные автоматической проверки и exchange, реализация по умолчанию этот метод проверяет данные диалогового окна и обновляет соответствующие переменные в приложении.  
  
 При реализации **ОК** кнопку в поле немодального диалогового окна, необходимо переопределить `OnOK` метод и вызвать [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает [EndDialog](#enddialog) которых делает окно невидимым, но не удаляются.  
  
> [!NOTE]
>  Этот метод нельзя переопределить при использовании `CFileDialog` объекта в программе, которая компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCControlLadenDialog&#68;](../../mfc/codesnippet/cpp/cdialog-class_7.cpp)]  
  
##  <a name="a-nameonsetfonta--cdialogonsetfont"></a><a name="onsetfont"></a>CDialog::OnSetFont  
 Указывает шрифт, который будет использовать элемент управления "диалоговое окно" при рисовании текста.  
  
```  
Virtual void OnSetFont(CFont* pFont);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pFont`  
 Задает указатель на шрифт, который будет использоваться в качестве шрифта по умолчанию для всех элементов управления в этом диалоговом окне.  
  
### <a name="remarks"></a>Примечания  
 Диалоговое окно будет использовать указанный шрифт по умолчанию для всех элементов управления.  
  
 Редактор диалоговых окон обычно устанавливает шрифт диалогового как часть ресурс шаблона диалоговых окон.  
  
> [!NOTE]
>  Этот метод нельзя переопределить при использовании `CFileDialog` объекта в программе, которая компилируется в разделе [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)]. Дополнительные сведения об изменениях в `CFileDialog` под [!INCLUDE[wiprlhext](../../c-runtime-library/reference/includes/wiprlhext_md.md)] разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).  
  
##  <a name="a-nameprevdlgctrla--cdialogprevdlgctrl"></a><a name="prevdlgctrl"></a>CDialog::PrevDlgCtrl  
 Устанавливает фокус на предыдущий элемент управления в диалоговом окне.  
  
```  
void PrevDlgCtrl() const;  
```  
  
### <a name="remarks"></a>Примечания  
 Если фокус находится на первый элемент управления в диалоговом окне, он перемещается к последнему элемента управления в поле.  
  
##  <a name="a-namesetdefida--cdialogsetdefid"></a><a name="setdefid"></a>CDialog::SetDefID  
 Изменяет элемент управления кнопка по умолчанию для диалогового окна.  
  
```  
void SetDefID(UINT nID);
```  
  
### <a name="parameters"></a>Параметры  
 `nID`  
 Указывает идентификатор кнопка элемент управления, который будет использоваться по умолчанию.  
  
##  <a name="a-namesethelpida--cdialogsethelpid"></a><a name="sethelpid"></a>CDialog::SetHelpID  
 Задает идентификатор контекстной справки для диалогового окна.  
  
```  
void SetHelpID(UINT nIDR);
```  
  
### <a name="parameters"></a>Параметры  
 *nIDR*  
 Указывает идентификатор контекстной справки.  
  
## <a name="see-also"></a>См. также  
 [Образец DLGCBR32 MFC](../../visual-cpp-samples.md)   
 [Пример MFC DLGTEMPL](../../visual-cpp-samples.md)   
 [CWnd-класс](../../mfc/reference/cwnd-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)


