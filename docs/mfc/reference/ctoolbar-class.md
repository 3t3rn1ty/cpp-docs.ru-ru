---
title: CToolBar-класс | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: reference
f1_keywords:
- CToolBar
- AFXEXT/CToolBar
- AFXEXT/CToolBar::CToolBar
- AFXEXT/CToolBar::CommandToIndex
- AFXEXT/CToolBar::Create
- AFXEXT/CToolBar::CreateEx
- AFXEXT/CToolBar::GetButtonInfo
- AFXEXT/CToolBar::GetButtonStyle
- AFXEXT/CToolBar::GetButtonText
- AFXEXT/CToolBar::GetItemID
- AFXEXT/CToolBar::GetItemRect
- AFXEXT/CToolBar::GetToolBarCtrl
- AFXEXT/CToolBar::LoadBitmap
- AFXEXT/CToolBar::LoadToolBar
- AFXEXT/CToolBar::SetBitmap
- AFXEXT/CToolBar::SetButtonInfo
- AFXEXT/CToolBar::SetButtons
- AFXEXT/CToolBar::SetButtonStyle
- AFXEXT/CToolBar::SetButtonText
- AFXEXT/CToolBar::SetHeight
- AFXEXT/CToolBar::SetSizes
dev_langs:
- C++
helpviewer_keywords:
- CToolBar [MFC], CToolBar
- CToolBar [MFC], CommandToIndex
- CToolBar [MFC], Create
- CToolBar [MFC], CreateEx
- CToolBar [MFC], GetButtonInfo
- CToolBar [MFC], GetButtonStyle
- CToolBar [MFC], GetButtonText
- CToolBar [MFC], GetItemID
- CToolBar [MFC], GetItemRect
- CToolBar [MFC], GetToolBarCtrl
- CToolBar [MFC], LoadBitmap
- CToolBar [MFC], LoadToolBar
- CToolBar [MFC], SetBitmap
- CToolBar [MFC], SetButtonInfo
- CToolBar [MFC], SetButtons
- CToolBar [MFC], SetButtonStyle
- CToolBar [MFC], SetButtonText
- CToolBar [MFC], SetHeight
- CToolBar [MFC], SetSizes
ms.assetid: e868da26-5e07-4607-9651-e2f863ad9059
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 2a80ea4cb188d879b9af0a7901ffbe89b8673df6
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="ctoolbar-class"></a>CToolBar-класс
Панели элементов управления, имеющие строку растровых кнопок и необязательные разделители.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CToolBar : public CControlBar  
```  
  
## <a name="members"></a>Участники  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CToolBar::CToolBar](#ctoolbar)|Создает объект `CToolBar`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CToolBar::CommandToIndex](#commandtoindex)|Возвращает индекс кнопки с идентификатором данной команды.|  
|[CToolBar::Create](#create)|Создает панель инструментов Windows и прикрепляет его к `CToolBar` объекта.|  
|[CToolBar::CreateEx](#createex)|Создает `CToolBar` дополнительные стили для внедренного объекта `CToolBarCtrl` объекта.|  
|[CToolBar::GetButtonInfo](#getbuttoninfo)|Извлекает идентификатор, стиль и номер изображения кнопки.|  
|[CToolBar::GetButtonStyle](#getbuttonstyle)|Получает стиль для кнопки.|  
|[CToolBar::GetButtonText](#getbuttontext)|Возвращает текст, который будет отображаться на кнопке.|  
|[CToolBar::GetItemID](#getitemid)|Возвращает идентификатор команды кнопки или разделителя по указанному индексу.|  
|[CToolBar::GetItemRect](#getitemrect)|Возвращает прямоугольник, отображаемое для элемента с указанным индексом.|  
|[CToolBar::GetToolBarCtrl](#gettoolbarctrl)|Предоставляет прямой доступ к базовой стандартного элемента управления.|  
|[CToolBar::LoadBitmap](#loadbitmap)|Загружает точечный рисунок, содержащая кнопку битовой карты изображения.|  
|[CToolBar::LoadToolBar](#loadtoolbar)|Загружает ресурс панели инструментов, созданные с помощью редактора ресурсов.|  
|[CToolBar::SetBitmap](#setbitmap)|Задает растровое изображение.|  
|[CToolBar::SetButtonInfo](#setbuttoninfo)|Задает идентификатор, стиль и номер изображения кнопки.|  
|[CToolBar::SetButtons](#setbuttons)|Задает кнопку Стили и индекс изображения кнопок внутри точечного рисунка.|  
|[CToolBar::SetButtonStyle](#setbuttonstyle)|Задает стиль для кнопки.|  
|[CToolBar::SetButtonText](#setbuttontext)|Задает текст, который будет отображаться на кнопке.|  
|[CToolBar::SetHeight](#setheight)|Задает высоту панели инструментов.|  
|[CToolBar::SetSizes](#setsizes)|Задает размер кнопки и их растровые изображения.|  
  
## <a name="remarks"></a>Примечания  
 Кнопки может играть кнопок, флажок кнопки или переключателей. `CToolBar` Эти объекты объединены обычно внедренных объектов окна фрейма, производный от класса [CFrameWnd](../../mfc/reference/cframewnd-class.md) или [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md).  
  
 [CToolBar::GetToolBarCtrl](#gettoolbarctrl), функция-член, новые для MFC 4.0, можно воспользоваться преимуществами поддержки управления Windows для настройки панели инструментов и дополнительные функциональные возможности. `CToolBar` функции-члены обеспечивают большую часть функций общих элементов управления Windows; Тем не менее, при вызове `GetToolBarCtrl`, вы предоставляете панелей инструментов даже несколько характеристик панелей инструментов Windows 95/98. При вызове `GetToolBarCtrl`, он возвращает ссылку на `CToolBarCtrl` объекта. В разделе [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) Дополнительные сведения о разработке с помощью стандартных элементов управления Windows. Дополнительные общие сведения о стандартных элементах управления см. в разделе [стандартные элементы управления](http://msdn.microsoft.com/library/windows/desktop/bb775493) в Windows SDK.  
  
 Visual C++ предоставляет два способа создания панели инструментов. Создание ресурса панели инструментов, с помощью редактора ресурсов, выполните следующие действия.  
  
1.  Создание ресурса панели инструментов.  
  
2.  Создать `CToolBar` объекта.  
  
3.  Вызовите [создать](#create) (или [CreateEx](#createex)) функции для создания панели инструментов Windows и присоединить его к `CToolBar` объекта.  
  
4.  Вызовите [LoadToolBar](#loadtoolbar) для загрузки ресурса панели инструментов.  
  
 В противном случае выполните следующие действия.  
  
1.  Создать `CToolBar` объекта.  
  
2.  Вызовите [создать](#create) (или [CreateEx](#createex)) функции для создания панели инструментов Windows и присоединить его к `CToolBar` объекта.  
  
3.  Вызовите [LoadBitmap](#loadbitmap) для загрузки точечного рисунка, который содержит изображения кнопки панели инструментов.  
  
4.  Вызовите [SetButtons](#setbuttons) задать стиль кнопки и связывания каждая кнопка с изображением в битовой карте.  
  
 Все изображения кнопки на панели инструментов, взяты из одного точечного рисунка, который должен содержать одно изображение для каждой кнопки. Все образы должны быть одного размера; значение по умолчанию — 16 пикселей в ширину и 15 пикселей в высоту. Изображения должны представлять в точечном рисунке рядом друг с другом.  
  
 `SetButtons` Функция принимает указатель на массив идентификаторов элементов управления и целое число, указывающее количество элементов в массиве. Функция присваивает идентификатор каждой кнопки значение соответствующего элемента массива и присваивает каждой кнопки индекс образа, который определяет положение изображения кнопки в растровое изображение. Если элемент массива имеет значение **ID_SEPARATOR**, индекс образа: не назначается.  
  
 Порядок изображений в битовой карте обычно представляет порядок, в котором они отображаются на экране, но можно использовать [SetButtonInfo](#setbuttoninfo) функции, чтобы изменить связь между заказами изображений и рисование.  
  
 Все кнопки панели инструментов имеют одинаковый размер. Значение по умолчанию — 24 x 22 пикселя в соответствии с *рекомендации по интерфейсу Windows для программного проектирования*. Для формирования границы вокруг изображения используется дополнительного пространства между измерениями изображения и кнопки.  
  
 Каждая кнопка имеет одно изображение. Различные кнопки состояния и стили (нажатой вверх, вниз, отключено, отключенные вниз и неопределенным) создаются из этого одного изображения. Несмотря на то, что эти файлы могут содержать любой цвет, можно добиться наилучших результатов с изображениями в черный цвет и оттенков серого.  
  
> [!WARNING]
> `CToolBar` поддерживает растровые изображения с максимальным размером 16 цветов. При загрузке образа в редакторе панелей инструментов, Visual Studio автоматически преобразует изображение в точечный рисунок 16 цветов, при необходимости и выводит предупреждение, если изображение было выполнено преобразование. При использовании изображения с цветов больше 16 (с помощью внешний редактор позволяет редактировать изображение), приложение может работать непредвиденным образом.  
  
 Кнопки панели инструментов имитировать кнопок по умолчанию. Тем не менее кнопки панели инструментов также можно имитировать кнопок флажков и переключателей. Кнопки флажок имеет три состояния: checked, снят или не определен. Переключатели имеют только два состояния: установлен и снят.  
  
 Чтобы задать отдельные кнопки или стиль разделителя не указывает на массив, вызовите [GetButtonStyle](#getbuttonstyle) для получения стиль, а затем вызвать [SetButtonStyle](#setbuttonstyle) вместо `SetButtons`. `SetButtonStyle` может пригодиться, если вы хотите изменить стиль кнопки во время выполнения.  
  
 Чтобы назначить текст, отображаемый на кнопке, вызовите [GetButtonText](#getbuttontext) для получения текста для отображения на кнопке, а затем вызвать [SetButtonText](#setbuttontext) для задания текста.  
  
 Чтобы создать кнопку флажок, назначить его стиль **TBBS_CHECKBOX** или использовать `CCmdUI` объекта `SetCheck` функции-члена `ON_UPDATE_COMMAND_UI` обработчика. Вызов `SetCheck` превратится в кнопку флажок кнопки. Передайте `SetCheck` аргумент 0 для флажок снят, 1 для отмеченных или 2 для неопределенного.  
  
 Чтобы создать переключатель, вызовите [CCmdUI](../../mfc/reference/ccmdui-class.md) объекта [SetRadio](../../mfc/reference/ccmdui-class.md#setradio) функции-члена из `ON_UPDATE_COMMAND_UI` обработчика. Передайте `SetRadio` аргумент 0 для unchecked или ненулевое значение, для проверки. Для обеспечения поведения взаимно исключают друг друга группа переключателей, необходимо иметь `ON_UPDATE_COMMAND_UI` обработчики для всех кнопок в группе.  
  
 Дополнительные сведения об использовании `CToolBar`, см. в статье [реализация панели инструментов MFC](../../mfc/mfc-toolbar-implementation.md) и [Технические заметки 31: панелей элементов управления](../../mfc/tn031-control-bars.md).  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 [CControlBar](../../mfc/reference/ccontrolbar-class.md)  
  
 `CToolBar`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxext.h  
  
##  <a name="commandtoindex"></a>  CToolBar::CommandToIndex  
 Эта функция-член возвращает индекс первой кнопки панели инструментов, начиная с позиции 0, совпадает с Идентификатором команды `nIDFind`.  
  
```  
int CommandToIndex(UINT nIDFind) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIDFind`  
 Идентификатор команды кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс кнопки, или -1, если нет кнопка имеет идентификатор данной команды.  
  
##  <a name="create"></a>  CToolBar::Create  
 Эта функция-член создает панель инструментов Windows (дочернего окна) и связывает его с `CToolBar` объекта.  
  
```  
virtual BOOL Create(
    CWnd* pParentWnd,  
    DWORD dwStyle = WS_CHILD | WS_VISIBLE | CBRS_TOP,  
    UINT nID = AFX_IDW_TOOLBAR);
```  
  
### <a name="parameters"></a>Параметры  
 `pParentWnd`  
 Указатель окна, которое является родительским элементом панели инструментов.  
  
 `dwStyle`  
 Стиль панели инструментов. Существуют следующие стили дополнительных инструментов поддерживается:  
  
- `CBRS_TOP` Строка управления находится в верхней части окна фрейма.  
  
- `CBRS_BOTTOM` Панель элементов управления — в нижней части окна фрейма.  
  
- `CBRS_NOALIGN` Панель элементов управления не меняет свое положение при изменении размеров родительского.  
  
- `CBRS_TOOLTIPS` Панель элементов управления отображаются всплывающие подсказки.  
  
- **CBRS_SIZE_DYNAMIC** панели элементов управления является динамическим.  
  
- **CBRS_SIZE_FIXED** фиксированной панель элементов управления.  
  
- **CBRS_FLOATING** плавающей панели элементов управления.  
  
- `CBRS_FLYBY` Строка состояния отображает сведения о кнопке.  
  
- **CBRS_HIDE_INPLACE** панели элементов управления не отображается для пользователя.  
  
 `nID`  
 Идентификатор дочернего окна панели инструментов  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Он также задает высоту панели инструментов в значения по умолчанию.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#179](../../mfc/codesnippet/cpp/ctoolbar-class_1.cpp)]  
  
##  <a name="createex"></a>  CToolBar::CreateEx  
 Эта функция вызывается для создания панели инструментов Windows (дочернего окна) и связать его с `CToolBar` объекта.  
  
```  
virtual BOOL CreateEx(
    CWnd* pParentWnd,  
    DWORD dwCtrlStyle = TBSTYLE_FLAT,  
    DWORD dwStyle = WS_CHILD | WS_VISIBLE | CBRS_ALIGN_TOP,  
    CRect rcBorders = CRect(
    0, 
    0, 
    0, 
    0), 
    UINT nID = AFX_IDW_TOOLBAR);
```  
  
### <a name="parameters"></a>Параметры  
 `pParentWnd`  
 Указатель окна, которое является родительским элементом панели инструментов.  
  
 `dwCtrlStyle`  
 Дополнительные стили для создания внедренного [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) объекта. По умолчанию это значение равно **TBSTYLE_FLAT**. Полный список стили панели инструментов см. в разделе `dwStyle`.  
  
 `dwStyle`  
 Стиль панели инструментов. В разделе [панели инструментов и стили кнопок](http://msdn.microsoft.com/library/windows/desktop/bb760439) в Windows SDK список соответствующие стили.  
  
 *rcBorders*  
 Объект [CRect](../../atl-mfc-shared/reference/crect-class.md) объект, определяющий ширину границы окна инструментов. Эти границы, присваивается 0,0,0,0 по умолчанию, тем самым в результате чего окно инструментов с границы отсутствуют.  
  
 `nID`  
 Идентификатор дочернего окна панели инструментов  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Он также задает высоту панели инструментов в значения по умолчанию.  
  
 Используйте `CreateEx`, а не [создать](#create), когда определенные стили должны присутствовать во время создания панели инструментов внедренные. Например, задать `dwCtrlStyle` для **TBSTYLE_FLAT &#124; TBSTYLE_TRANSPARENT** для создания панели инструментов, похожа на панели инструментов Internet Explorer 4.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#180](../../mfc/codesnippet/cpp/ctoolbar-class_2.cpp)]  
  
##  <a name="ctoolbar"></a>  CToolBar::CToolBar  
 Эта функция-член создает `CToolBar` и устанавливает размеры по умолчанию.  
  
```  
CToolBar();
```  
  
### <a name="remarks"></a>Примечания  
 Вызовите [создать](#create) функции-члена для создания окна инструментов.  
  
##  <a name="getbuttoninfo"></a>  CToolBar::GetButtonInfo  
 Эта функция-член возвращает идентификатор элемента управления, стиль и индекс изображения кнопки панели инструментов или разделитель в расположении, заданном *nIndex.*  
  
```  
void GetButtonInfo(
    int nIndex,  
    UINT& nID,  
    UINT& nStyle,  
    int& iImage) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки панели инструментов или разделитель, сведения о которой требуется получить.  
  
 `nID`  
 Ссылка на **UINT** присваивается идентификатор команды кнопки.  
  
 `nStyle`  
 Ссылка на **UINT** равно стиль кнопки.  
  
 `iImage`  
 Ссылка на целое число, имеет значение индекса изображения кнопки в растровое изображение.  
  
### <a name="remarks"></a>Примечания  
 Эти значения присваиваются переменным, ссылается `nID`, `nStyle`, и `iImage`. Индекс изображения — это положение изображения в растровое изображение, содержащее изображения для кнопок панели инструментов. Первое изображение находится в положении 0.  
  
 Если `nIndex` определяет разделитель, `iImage` равно ширину разделителя в пикселях.  
  
##  <a name="getbuttonstyle"></a>  CToolBar::GetButtonStyle  
 Вызовите эту функцию-член для извлечения стиль кнопки или разделителя на панели инструментов.  
  
```  
UINT GetButtonStyle(int nIndex) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки или разделителя стиля toolbar требуется получить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Стиль кнопки или разделителя, определяемое `nIndex`.  
  
### <a name="remarks"></a>Примечания  
 Стиль кнопки определяет, как кнопка появляется, и как реагирует на ввод данных пользователем. В разделе [SetButtonStyle](#setbuttonstyle) примеры стилей кнопок.  
  
##  <a name="getbuttontext"></a>  CToolBar::GetButtonText  
 Вызовите эту функцию-член для извлечения текста, отображаемого на кнопке.  
  
```  
CString GetButtonText(int nIndex) const;  
  
void GetButtonText(
    int nIndex,  
    CString& rString) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс извлекаемого текст.  
  
 `rString`  
 Ссылку на [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект, который будет содержать текст, который требуется получить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CString` объект, содержащий текст кнопки.  
  
### <a name="remarks"></a>Примечания  
 Вторая форма этого элемента функция заливки `CString` вместе с текстом строки.  
  
##  <a name="getitemid"></a>  CToolBar::GetItemID  
 Эта функция-член возвращает идентификатор команды кнопки или разделителя, определяемое `nIndex`.  
  
```  
UINT GetItemID(int nIndex) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс элемента, идентификатор которого требуется получить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Идентификатор команды кнопки или разделителя, определяемое `nIndex`.  
  
### <a name="remarks"></a>Примечания  
 Возвращать в качестве разделителей **ID_SEPARATOR**.  
  
##  <a name="getitemrect"></a>  CToolBar::GetItemRect  
 Эта функция-член заполняет `RECT` , адрес которого содержится в структуре `lpRect` с координатами кнопку или разделитель, определяемое `nIndex`.  
  
```  
virtual void GetItemRect(
    int nIndex,  
    LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс элемента (кнопку или разделителя), прямоугольник, координаты которого должны быть получены.  
  
 `lpRect`  
 Адрес [RECT](../../mfc/reference/rect-structure1.md) структура, которая будет содержать координаты элемента.  
  
### <a name="remarks"></a>Примечания  
 Координаты задаются в пикселях относительно верхнего левого угла панели инструментов.  
  
 Используйте `GetItemRect` для получения координат разделителя, необходимо заменить на поле со списком или другого элемента управления.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CToolBar::SetSizes](#setsizes).  
  
##  <a name="gettoolbarctrl"></a>  CToolBar::GetToolBarCtrl  
 Эта функция-член обеспечивает прямой доступ к базовой стандартного элемента управления.  
  
```  
CToolBarCtrl& GetToolBarCtrl() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ссылка на объект `CToolBarCtrl`.  
  
### <a name="remarks"></a>Примечания  
 Используйте `GetToolBarCtrl` воспользоваться преимуществами функциональные возможности стандартного элемента управления панель инструментов Windows и воспользоваться преимуществами поддержки [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) предоставляет для настройки панели инструментов.  
  
 Дополнительные сведения об использовании стандартных элементов управления см. в статье [элементов управления](../../mfc/controls-mfc.md) и [стандартные элементы управления](http://msdn.microsoft.com/library/windows/desktop/bb775493) в Windows SDK.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocViewSDI#15](../../mfc/codesnippet/cpp/ctoolbar-class_3.cpp)]  
  
##  <a name="loadbitmap"></a>  CToolBar::LoadBitmap  
 Вызовите эту функцию-член для загрузки растрового изображения, определяемое `lpszResourceName` или `nIDResource`.  
  
```  
BOOL LoadBitmap(LPCTSTR lpszResourceName);  
BOOL LoadBitmap(UINT nIDResource);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszResourceName`  
 Указатель на имя ресурса для загрузки растрового изображения.  
  
 `nIDResource`  
 Идентификатор ресурса точечного рисунка для загрузки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Точечный рисунок должен содержать одно изображение для каждой кнопки панели инструментов. Если изображения имеют размера standard (16 пикселей в ширину и 15 пикселей в высоту), вызов [SetSizes](#setsizes) задание размеров кнопки и изображений.  
  
> [!WARNING]
> `CToolBar` поддерживает растровые изображения с максимальным размером 16 цветов. При загрузке образа в редакторе панелей инструментов, Visual Studio автоматически преобразует изображение в точечный рисунок 16 цветов, при необходимости и выводит предупреждение, если изображение было выполнено преобразование. При использовании изображения с цветов больше 16 (с помощью внешний редактор позволяет редактировать изображение), приложение может работать непредвиденным образом.  
  
##  <a name="loadtoolbar"></a>  CToolBar::LoadToolBar  
 Вызовите эту функцию-член для загрузки инструментов, определяемое `lpszResourceName` или `nIDResource`.  
  
```  
BOOL LoadToolBar(LPCTSTR lpszResourceName);  
BOOL LoadToolBar(UINT nIDResource);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszResourceName`  
 Указатель на имя ресурса панели инструментов для загрузки.  
  
 `nIDResource`  
 Идентификатор ресурса панели инструментов для загрузки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 В разделе [редактор панелей инструментов](../../windows/toolbar-editor.md) в Дополнительные сведения о создании ресурса панели инструментов.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CToolBar::CreateEx](#createex).  
  
##  <a name="setbitmap"></a>  CToolBar::SetBitmap  
 Вызовите эту функцию-член для задания точечного рисунка для панели инструментов.  
  
```  
BOOL SetBitmap(HBITMAP hbmImageWell);
```  
  
### <a name="parameters"></a>Параметры  
 *hbmImageWell*  
 Дескриптор точечного рисунка, который связан с панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Например, вызов `SetBitmap` изменение растровый рисунок после пользователь предпринимает действие на документ, который изменяет действие кнопки.  
  
##  <a name="setbuttoninfo"></a>  CToolBar::SetButtonInfo  
 Вызовите эту функцию-член для задания идентификатора команды, стиль и номер изображения кнопки.  
  
```  
void SetButtonInfo(
    int nIndex,  
    UINT nID,  
    UINT nStyle,  
    int iImage);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Отсчитываемый от нуля индекс кнопки или разделителя, для которого требуется задать сведения.  
  
 `nID`  
 Значение, для которой идентификатор команды кнопки.  
  
 `nStyle`  
 Новый стиль кнопки. Поддерживаются следующие стили кнопок:  
  
- **TBBS_BUTTON** стандартные pushbutton (по умолчанию)  
  
- **TBBS_SEPARATOR** разделителя  
  
- **TBBS_CHECKBOX** кнопку флажок устанавливается автоматически  
  
- **TBBS_GROUP** отмечает начало группе кнопок  
  
- **TBBS_CHECKGROUP** отмечает начало группы кнопок флажков  
  
- **TBBS_DROPDOWN** создает кнопку раскрывающегося списка.  
  
- **TBBS_AUTOSIZE** Ширина кнопки рассчитывается на основе текст кнопки, а не размер изображения.  
  
- **TBBS_NOPREFIX** на кнопке отображается надпись не будет иметь префикс сочетаний клавиш, связанных с ним.  
  
 `iImage`  
 Новый индекс для изображения кнопки в растровое изображение.  
  
### <a name="remarks"></a>Примечания  
 Для разделителей, который имеет стиль **TBBS_SEPARATOR**, эта функция задает ширину разделителя в пикселях для значения, хранящегося в `iImage`.  
  
> [!NOTE]
>  Можно также задать с помощью состояния кнопки `nStyle` параметра, однако из-за состояния кнопки управляются [ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui) обработчик, любые состояния, заданный с помощью `SetButtonInfo` будут потеряны во время следующей простоя Обработка. В разделе [обновление объектов пользовательского интерфейса](../../mfc/how-to-update-user-interface-objects.md) и [TN031: панелей элементов управления](../../mfc/tn031-control-bars.md) для получения дополнительной информации.  
  
 Сведения о растровых изображений и кнопок, в разделе [CToolBar](../../mfc/reference/ctoolbar-class.md) Обзор и [CToolBar::LoadBitmap](#loadbitmap).  
  
##  <a name="setbuttons"></a>  CToolBar::SetButtons  
 Эта функция-член задает идентификатор команды для каждой кнопки панели инструментов для значения, указанного в соответствующий элемент массива `lpIDArray`.  
  
```  
BOOL SetButtons(
    const UINT* lpIDArray,  
    int nIDCount);
```  
  
### <a name="parameters"></a>Параметры  
 `lpIDArray`  
 Указатель на массив идентификаторов команд. Это может быть **NULL** выделить пустой кнопок.  
  
 `nIDCount`  
 Число элементов в массиве, на который указывает `lpIDArray`.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Если элемент массива имеет значение **ID_SEPARATOR**, разделитель создается в соответствующей позиции на панели инструментов. Эта функция также задает для каждой кнопки стиля **TBBS_BUTTON** и стиль каждого разделителя **TBBS_SEPARATOR**и назначает индекс изображения для каждой кнопки. Индекс изображения определяет положение изображения кнопки в растровое изображение.  
  
 Необходимо учитывать для разделителей в битовой карте, так как эта функция не назначает индексов изображения для разделителей. Если кнопки панели инструментов в позициях 0, 1, 3 и разделитель в позиции 2, изображения с позициями 0, 1 и 2 в точечного рисунка назначаются кнопок в позиции 0, 1 и 3 соответственно.  
  
 Если `lpIDArray` — **NULL**, эта функция выделяет место для числа элементов, заданные `nIDCount`. Используйте [SetButtonInfo](#setbuttoninfo) установить атрибуты каждого элемента.  
  
##  <a name="setbuttonstyle"></a>  CToolBar::SetButtonStyle  
 Вызовите эту функцию-член требуется задать стиль кнопки или разделителя или к группе кнопок.  
  
```  
void SetButtonStyle(
    int nIndex,  
    UINT nStyle);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки или разделителя, сведения о которой требуется задать.  
  
 `nStyle`  
 Стиль кнопки. Поддерживаются следующие стили кнопок:  
  
- **TBBS_BUTTON** стандартные pushbutton (по умолчанию)  
  
- **TBBS_SEPARATOR** разделителя  
  
- **TBBS_CHECKBOX** кнопку флажок устанавливается автоматически  
  
- **TBBS_GROUP** отмечает начало группе кнопок  
  
- **TBBS_CHECKGROUP** отмечает начало группы кнопок флажков  
  
- **TBBS_DROPDOWN** создает кнопку раскрывающегося списка  
  
- **TBBS_AUTOSIZE** Ширина кнопки рассчитывается на основе текст кнопки, а не размер изображения  
  
- **TBBS_NOPREFIX** на кнопке отображается надпись не будет иметь префикс сочетаний клавиш, связанных с ним  
  
### <a name="remarks"></a>Примечания  
 Стиль кнопки определяет, как кнопка появляется, и как реагирует на ввод данных пользователем.  
  
 Перед вызовом метода `SetButtonStyle`, вызовите [GetButtonStyle](#getbuttonstyle) функция-член для извлечения стиль кнопки или разделителя.  
  
> [!NOTE]
>  Можно также задать с помощью состояния кнопки `nStyle` параметра, однако из-за состояния кнопки управляются [ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui) обработчик, любые состояния, заданный с помощью `SetButtonStyle` будут потеряны во время следующей простоя Обработка. В разделе [обновление объектов пользовательского интерфейса](../../mfc/how-to-update-user-interface-objects.md) и [TN031: панелей элементов управления](../../mfc/tn031-control-bars.md) для получения дополнительной информации.  
  
##  <a name="setbuttontext"></a>  CToolBar::SetButtonText  
 Вызывайте эту функцию для задания текста на кнопке.  
  
```  
BOOL SetButtonText(
    int nIndex,  
    LPCTSTR lpszText);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки, текст которого требуется задать.  
  
 `lpszText`  
 Указывает необходимый текст на кнопке.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CToolBar::GetToolBarCtrl](#gettoolbarctrl).  
  
##  <a name="setheight"></a>  CToolBar::SetHeight  
 Эта функция-член задает высоту панели инструментов на значение, в пикселях, указанный в `cyHeight`.  
  
```  
void SetHeight(int cyHeight);
```  
  
### <a name="parameters"></a>Параметры  
 `cyHeight`  
 Высота в пикселях на панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 После вызова метода [SetSizes](#setsizes), используйте эту функцию-член, чтобы переопределить высоту стандартной панели инструментов. Если высота слишком мал, будет обрезан кнопок в нижней.  
  
 Если эта функция не вызывается, платформа использует размер кнопки для определения высоты панели инструментов.  
  
##  <a name="setsizes"></a>  CToolBar::SetSizes  
 Вызовите эту функцию-член присвоено кнопки панели инструментов размер в пикселях, указанный в *sizeButton*.  
  
```  
void SetSizes(
    SIZE sizeButton,  
    SIZE sizeImage);
```  
  
### <a name="parameters"></a>Параметры  
 *sizeButton*  
 Размер в пикселях каждой кнопки.  
  
 `sizeImage`  
 Размер в пикселях каждого изображения.  
  
### <a name="remarks"></a>Примечания  
 `sizeImage` Параметр должен содержать размер в пикселях изображений в точечном рисунке панели инструментов. Измерения в *sizeButton* должно быть достаточным для хранения изображения, а также 7 пикселей по ширине дополнительных и 6 пикселей лишние в высоту. Эта функция также задает высоту панели инструментов, чтобы вместить кнопок.  
  
 Вызовите эту функцию-член только для панели инструментов, которые не соответствуют *рекомендации по интерфейсу Windows для программного проектирования* рекомендации для размеров кнопки и изображения.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCListView#8](../../atl/reference/codesnippet/cpp/ctoolbar-class_4.cpp)]  
  
## <a name="see-also"></a>См. также  
 [Пример MFC CTRLBARS](../../visual-cpp-samples.md)   
 [Образец DLGCBR32 MFC](../../visual-cpp-samples.md)   
 [Пример MFC DOCKTOOL ПОКАЗАНА](../../visual-cpp-samples.md)   
 [CControlBar-класс](../../mfc/reference/ccontrolbar-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)   
 [CToolBarCtrl-класс](../../mfc/reference/ctoolbarctrl-class.md)   
 [Класс CControlBar](../../mfc/reference/ccontrolbar-class.md)
