---
title: "Класс CToolBar | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CToolBar
- AFXEXT/CToolBar
- AFXEXT/CToolBar::CToolBar
- AFXEXT/CToolBar::CommandToIndex
- AFXEXT/CToolBar::Create
- AFXEXT/CToolBar::CreateEx
- AFXEXT/CToolBar::GetButtonInfo
- AFXEXT/CToolBar::GetButtonStyle
- AFXEXT/CToolBar::GetButtonText
- AFXEXT/CToolBar::GetItemID
- AFXEXT/CToolBar::GetItemRect
- AFXEXT/CToolBar::GetToolBarCtrl
- AFXEXT/CToolBar::LoadBitmap
- AFXEXT/CToolBar::LoadToolBar
- AFXEXT/CToolBar::SetBitmap
- AFXEXT/CToolBar::SetButtonInfo
- AFXEXT/CToolBar::SetButtons
- AFXEXT/CToolBar::SetButtonStyle
- AFXEXT/CToolBar::SetButtonText
- AFXEXT/CToolBar::SetHeight
- AFXEXT/CToolBar::SetSizes
dev_langs:
- C++
helpviewer_keywords:
- Windows toolbar common controls [C++]
- control bars [C++], CToolBar class
- toolbars [C++], CToolBar class
- buttons [C++], MFC toolbars
- bitmaps [C++], button controls
- CToolBar class
- Windows common controls [C++], CToolBar class
ms.assetid: e868da26-5e07-4607-9651-e2f863ad9059
caps.latest.revision: 26
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 4fafe461008e3545243d693e0d9e34acd57163e0
ms.openlocfilehash: d7fea85426eef09f3694bd26e037acaaccc63f01
ms.lasthandoff: 02/24/2017

---
# <a name="ctoolbar-class"></a>CToolBar-класс
Панели элементов управления, имеющие строку растровых кнопок и необязательные разделители.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CToolBar : public CControlBar  
```  
  
## <a name="members"></a>Члены  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CToolBar::CToolBar](#ctoolbar)|Создает объект `CToolBar`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CToolBar::CommandToIndex](#commandtoindex)|Возвращает индекс кнопки с идентификатором данной команды.|  
|[CToolBar::Create](#create)|Панель инструментов Windows создает и присоединяет его к `CToolBar` объекта.|  
|[CToolBar::CreateEx](#createex)|Создает `CToolBar` объектов с помощью дополнительных стилей для embedded `CToolBarCtrl` объекта.|  
|[CToolBar::GetButtonInfo](#getbuttoninfo)|Извлекает идентификатор, стиль и номер изображения кнопки.|  
|[CToolBar::GetButtonStyle](#getbuttonstyle)|Получает стиль для кнопки.|  
|[CToolBar::GetButtonText](#getbuttontext)|Получает текст, который будет отображаться на кнопке.|  
|[CToolBar::GetItemID](#getitemid)|Возвращает идентификатор команды кнопки или разделитель по указанному индексу.|  
|[CToolBar::GetItemRect](#getitemrect)|Возвращает прямоугольник, отображаемое для элемента с указанным индексом.|  
|[CToolBar::GetToolBarCtrl](#gettoolbarctrl)|Предоставляет прямой доступ к базовой стандартного элемента управления.|  
|[CToolBar::LoadBitmap](#loadbitmap)|Загружает растровый рисунок, содержащая изображения, кнопка с рисунком.|  
|[CToolBar::LoadToolBar](#loadtoolbar)|Загружает ресурс панели инструментов, созданные с помощью редактора ресурсов.|  
|[CToolBar::SetBitmap](#setbitmap)|Задает точечный рисунок.|  
|[CToolBar::SetButtonInfo](#setbuttoninfo)|Задает идентификатор, стиль и номер изображения кнопки.|  
|[CToolBar::SetButtons](#setbuttons)|Задает кнопки, стили и индекс изображения кнопки внутри точечного рисунка.|  
|[CToolBar::SetButtonStyle](#setbuttonstyle)|Задает стиль для кнопки.|  
|[CToolBar::SetButtonText](#setbuttontext)|Задает текст, который будет отображаться на кнопке.|  
|[CToolBar::SetHeight](#setheight)|Задает высоту элемента панели инструментов.|  
|[CToolBar::SetSizes](#setsizes)|Задает размеры кнопки и их точечных рисунков.|  
  
## <a name="remarks"></a>Примечания  
 Кнопки может выступать в качестве кнопок, кнопок, флажков или переключателей. `CToolBar`Эти объекты объединены обычно embedded фреймового окна объектов, производных от класса [CFrameWnd](../../mfc/reference/cframewnd-class.md) или [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md).  
  
 [CToolBar::GetToolBarCtrl](#gettoolbarctrl), функция-член, новые 4.0 MFC позволяет воспользоваться преимуществами поддержки общих элементов управления Windows для настройки панели инструментов и дополнительную функциональность. `CToolBar`функции-члены предоставить большую часть функциональных возможностей Windows стандартных элементов управления; Тем не менее, при вызове метода `GetToolBarCtrl`, можно предоставить панелей инструментов даже больше, чем характеристики панели инструментов Windows 95/98. При вызове `GetToolBarCtrl`, будет возвращена ссылка на `CToolBarCtrl` объект. В разделе [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) Дополнительные сведения о разработке с помощью общих элементов управления Windows. Дополнительные сведения об элементах управления в разделе [Общие элементы управления](http://msdn.microsoft.com/library/windows/desktop/bb775493) в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
 Visual C++ предоставляет два способа создания панели инструментов. Создание ресурса панели инструментов, с помощью редактора ресурсов, выполните следующие действия.  
  
1.  Создание ресурса панели инструментов.  
  
2.  Создать `CToolBar` объекта.  
  
3.  Вызов [создать](#create) (или [CreateEx](#createex)) функции для создания панели инструментов Windows и присоединить его к `CToolBar` объекта.  
  
4.  Вызов [LoadToolBar](#loadtoolbar) для загрузки ресурса панели инструментов.  
  
 В противном случае выполните следующие действия.  
  
1.  Создать `CToolBar` объекта.  
  
2.  Вызов [создать](#create) (или [CreateEx](#createex)) функции для создания панели инструментов Windows и присоединить его к `CToolBar` объекта.  
  
3.  Вызов [LoadBitmap](#loadbitmap) для загрузки точечного рисунка, содержащий изображения кнопок панели инструментов.  
  
4.  Вызов [SetButtons](#setbuttons) для задания стиля кнопки и связать каждую кнопку с изображением в точечном рисунке.  
  
 Все изображения кнопки на панели инструментов, взяты из одной точечного рисунка, который должен содержать один образ для каждой кнопки. Все изображения должны быть одинакового размера; значение по умолчанию — 16 пикселей в ширину и 15 пикселов в высоту. Образы должны быть одновременно в точечном рисунке.  
  
 `SetButtons` Функция принимает указатель на массив идентификаторов элементов управления и целое число, определяющее количество элементов в массиве. Функция присваивает идентификатор каждой кнопки значение соответствующего элемента массива и присваивает каждой кнопки индекс образа, который определяет положение изображения кнопки в растровое изображение. Если элемент массива имеет значение **ID_SEPARATOR**, назначенный не индекс образа.  
  
 Порядок изображений в битовой карте обычно является порядок, в котором они отображаются на экране, но можно использовать [SetButtonInfo](#setbuttoninfo) функции, чтобы изменить связь между заказами изображений и рисования.  
  
 Все кнопки панели инструментов имеют одинаковый размер. Значение по умолчанию — 24 x 22 пикселя в соответствии с *Windows интерфейс рекомендации по разработке программного обеспечения*. Любое дополнительное пространство между измерениями изображения и кнопки используется для формирования границы вокруг изображения.  
  
 Каждая кнопка имеет один образ. Различные кнопки состояний и стили (нажатом вверх, вниз, отключено, отключенные вниз и не определено) создаются из этого одного образа. Несмотря на то, что точечные рисунки могут быть любой цвет, можно достичь наилучших результатов с изображениями в черный и оттенков серого.  
  
> [!WARNING]
> `CToolBar`поддерживает растровые изображения с максимальным размером 16 цветов. При загрузке образа в редакторе панелей инструментов, Visual Studio автоматически конвертирует изображение точечного рисунка 16 цветов, при необходимости и выводится предупреждение, если было выполнено преобразование изображения. При использовании изображения с более чем 16 цветов (используя внешний редактор для редактирования изображения), приложение может работать непредсказуемым образом.  
  
 Кнопки панели инструментов имитации кнопок по умолчанию. Тем не менее кнопки панели инструментов также можно имитировать кнопки флажков и переключателей. Флажок кнопки имеют три возможных состояния: checked, снят или не определен. Переключатели иметь только два состояния: установлен и снят.  
  
 Чтобы задать отдельные кнопки или стиль разделителя не указывает на массив, вызовите [GetButtonStyle](#getbuttonstyle) можно получить стиль, а затем вызвать [SetButtonStyle](#setbuttonstyle) вместо `SetButtons`. `SetButtonStyle`может пригодиться, если вы хотите изменить стиль кнопки во время выполнения.  
  
 Чтобы назначить текст, отображаемый на кнопке, вызовите [GetButtonText](#getbuttontext) для получения текст, отображаемый на кнопке, а затем вызвать [SetButtonText](#setbuttontext) для задания текста.  
  
 Чтобы создать кнопку флажок, назначьте его стиль **TBBS_CHECKBOX** или использовать `CCmdUI` объекта `SetCheck` функции-члена `ON_UPDATE_COMMAND_UI` обработчика. Вызов `SetCheck` примет pushbutton кнопку флажка. Передайте `SetCheck` аргумент 0 этот флажок снят, 1 для отмеченных или 2 для неопределенным.  
  
 Чтобы создать переключатель, вызовите [CCmdUI](../../mfc/reference/ccmdui-class.md) объекта [SetRadio](../../mfc/reference/ccmdui-class.md#setradio) функции-члена из `ON_UPDATE_COMMAND_UI` обработчика. Передайте `SetRadio` аргумент 0 unchecked или ненулевое значение для проверки. Для обеспечения поведения взаимоисключающими группа переключателей, необходимо иметь `ON_UPDATE_COMMAND_UI` обработчики для всех кнопок в группе.  
  
 Дополнительные сведения об использовании `CToolBar`, см. в статье [реализация панели инструментов MFC](../../mfc/mfc-toolbar-implementation.md) и [Технические заметки 31: панелей элементов управления](../../mfc/tn031-control-bars.md).  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CCmdTarget](../../mfc/reference/ccmdtarget-class.md)  
  
 [CWnd](../../mfc/reference/cwnd-class.md)  
  
 [CControlBar](../../mfc/reference/ccontrolbar-class.md)  
  
 `CToolBar`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** файле afxext.h  
  
##  <a name="commandtoindex"></a>CToolBar::CommandToIndex  
 Эта функция-член возвращает индекс первой кнопки панели инструментов, начиная с позиции 0, чей идентификатор команды совпадает `nIDFind`.  
  
```  
int CommandToIndex(UINT nIDFind) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIDFind`  
 Идентификатор команды кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс кнопки или -1, если нет кнопка имеет идентификатор данной команды.  
  
##  <a name="create"></a>CToolBar::Create  
 Эта функция-член, создает панель инструментов Windows (дочернего окна) и связывает его с `CToolBar` объекта.  
  
```  
virtual BOOL Create(
    CWnd* pParentWnd,  
    DWORD dwStyle = WS_CHILD | WS_VISIBLE | CBRS_TOP,  
    UINT nID = AFX_IDW_TOOLBAR);
```  
  
### <a name="parameters"></a>Параметры  
 `pParentWnd`  
 Указатель на окно, являющейся родительским элементом панели инструментов.  
  
 `dwStyle`  
 Стиль панели инструментов. Существуют следующие стили дополнительных инструментов поддерживается:  
  
- `CBRS_TOP`Панель находится в верхней части окна фрейма.  
  
- `CBRS_BOTTOM`Панель элементов управления — в нижней части окна фрейма.  
  
- `CBRS_NOALIGN`При изменении размера родительской панели элементов управления не перемещен.  
  
- `CBRS_TOOLTIPS`Панель отображает всплывающие подсказки.  
  
- **CBRS_SIZE_DYNAMIC** панели элементов управления является динамическим.  
  
- **CBRS_SIZE_FIXED** предопределенной панели элементов управления.  
  
- **CBRS_FLOATING** плавающей панели элементов управления.  
  
- `CBRS_FLYBY`Строка состояния отображает сведения о кнопке.  
  
- **CBRS_HIDE_INPLACE** панель управления не отображается для пользователя.  
  
 `nID`  
 Идентификатор дочернего окна панели инструментов  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Он также задает значение по умолчанию высота панели инструментов.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView&#179;](../../mfc/codesnippet/cpp/ctoolbar-class_1.cpp)]  
  
##  <a name="createex"></a>CToolBar::CreateEx  
 Эта функция вызывается для создания панели инструментов Windows (дочернего окна) и связать его с `CToolBar` объекта.  
  
```  
virtual BOOL CreateEx(
    CWnd* pParentWnd,  
    DWORD dwCtrlStyle = TBSTYLE_FLAT,  
    DWORD dwStyle = WS_CHILD | WS_VISIBLE | CBRS_ALIGN_TOP,  
    CRect rcBorders = CRect(
    0, 
    0, 
    0, 
    0), 
    UINT nID = AFX_IDW_TOOLBAR);
```  
  
### <a name="parameters"></a>Параметры  
 `pParentWnd`  
 Указатель на окно, являющейся родительским элементом панели инструментов.  
  
 `dwCtrlStyle`  
 Дополнительные стили для создания внедренных [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) объекта. По умолчанию это значение имеет значение **TBSTYLE_FLAT**. Полный список стили панели инструментов, в разделе `dwStyle`.  
  
 `dwStyle`  
 Стиль панели инструментов. В разделе [панели инструментов и стили кнопок](http://msdn.microsoft.com/library/windows/desktop/bb760439) в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)] список соответствующие стили.  
  
 *rcBorders*  
 Объект [CRect](../../atl-mfc-shared/reference/crect-class.md) , определяющий ширину границы окна инструментов. Эти границы задаются 0,0,0,0 по умолчанию, таким образом, окно инструментов с границы отсутствуют.  
  
 `nID`  
 Идентификатор дочернего окна панели инструментов  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Он также задает значение по умолчанию высота панели инструментов.  
  
 Используйте `CreateEx`, вместо [создать](#create), когда определенные стили должны присутствовать во время создания панели инструментов embedded. Например, задать `dwCtrlStyle` для **TBSTYLE_FLAT | TBSTYLE_TRANSPARENT** для создания панели инструментов, аналогичной панели инструментов Internet Explorer 4.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView&#180;](../../mfc/codesnippet/cpp/ctoolbar-class_2.cpp)]  
  
##  <a name="ctoolbar"></a>CToolBar::CToolBar  
 Эта функция-член создает `CToolBar` и устанавливает размеры по умолчанию.  
  
```  
CToolBar();
```  
  
### <a name="remarks"></a>Примечания  
 Вызов [создать](#create) функции-члена для создания окна инструментов.  
  
##  <a name="getbuttoninfo"></a>CToolBar::GetButtonInfo  
 Эта функция-член возвращает идентификатор элемента управления, стиль и индекс изображения кнопки панели инструментов или разделитель в расположении, заданном *nIndex.*  
  
```  
void GetButtonInfo(
    int nIndex,  
    UINT& nID,  
    UINT& nStyle,  
    int& iImage) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки панели инструментов или разделитель, сведения о которой требуется получить.  
  
 `nID`  
 Ссылка на **UINT** присваивается идентификатор команды кнопки.  
  
 `nStyle`  
 Ссылка на **UINT** присваивается стиль кнопки.  
  
 `iImage`  
 Ссылка на целое число, значение индекса изображения кнопки внутри точечного рисунка.  
  
### <a name="remarks"></a>Примечания  
 Эти значения присваиваются переменным, ссылается `nID`, `nStyle`, и `iImage`. Индекс изображения — это положение изображения в растровое изображение, которое содержит изображения для кнопок панели инструментов. Первое изображение находится в позиции 0.  
  
 Если `nIndex` указывает разделитель, `iImage` присваивается ширину разделителя в пикселях.  
  
##  <a name="getbuttonstyle"></a>CToolBar::GetButtonStyle  
 Вызовите эту функцию-член для получения стиль кнопки или разделителя на панели инструментов.  
  
```  
UINT GetButtonStyle(int nIndex) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс стиль кнопки или разделителя инструментов для извлечения.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Стиль кнопки или разделитель, задаваемый `nIndex`.  
  
### <a name="remarks"></a>Примечания  
 Стиль кнопки определяет вид кнопки и как он реагирует на ввод данных пользователем. В разделе [SetButtonStyle](#setbuttonstyle) примеры стили кнопок.  
  
##  <a name="getbuttontext"></a>CToolBar::GetButtonText  
 Вызовите эту функцию-член для извлечения текста, отображаемого на кнопке.  
  
```  
CString GetButtonText(int nIndex) const;  
  
void GetButtonText(
    int nIndex,  
    CString& rString) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс извлекаемого текст.  
  
 `rString`  
 Ссылку на [CString](../../atl-mfc-shared/reference/cstringt-class.md) объекта, который будет содержать текст, который требуется получить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CString` объект, содержащий текст кнопки.  
  
### <a name="remarks"></a>Примечания  
 Вторая форма этого члена функции заливки `CString` вместе с текстом строки.  
  
##  <a name="getitemid"></a>CToolBar::GetItemID  
 Эта функция-член возвращает идентификатор команды кнопку или разделитель, задаваемый `nIndex`.  
  
```  
UINT GetItemID(int nIndex) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс элемента, идентификатор которой требуется извлечь.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Идентификатор команды, кнопку или разделитель, задаваемый `nIndex`.  
  
### <a name="remarks"></a>Примечания  
 Разделители вернуть **ID_SEPARATOR**.  
  
##  <a name="getitemrect"></a>CToolBar::GetItemRect  
 Эта функция-член заполняет `RECT` , адрес которого содержится в структуре `lpRect` с координатами кнопку или разделитель, задаваемый `nIndex`.  
  
```  
virtual void GetItemRect(
    int nIndex,  
    LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс элемента (кнопку или разделитель) прямоугольника, координаты которого должны быть получены.  
  
 `lpRect`  
 Адрес [RECT](../../mfc/reference/rect-structure1.md) структура, которая будет содержать координаты элемента.  
  
### <a name="remarks"></a>Примечания  
 Координаты измеряются в пикселях относительно верхнего левого угла панели инструментов.  
  
 Используйте `GetItemRect` для получения координат нужно заменить списком или другой элемент управления разделителем.  
  
### <a name="example"></a>Пример  
  В примере показано [CToolBar::SetSizes](#setsizes).  
  
##  <a name="gettoolbarctrl"></a>CToolBar::GetToolBarCtrl  
 Эта функция-член предоставляет прямой доступ к базовой стандартного элемента управления.  
  
```  
CToolBarCtrl& GetToolBarCtrl() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ссылка на объект `CToolBarCtrl`.  
  
### <a name="remarks"></a>Примечания  
 Используйте `GetToolBarCtrl` преимуществами функциональные возможности стандартного элемента управления панели инструментов Windows и пользоваться преимуществами поддержки [CToolBarCtrl](../../mfc/reference/ctoolbarctrl-class.md) предоставляет для настройки панели инструментов.  
  
 Дополнительные сведения об использовании стандартных элементов управления см. в статье [управления](../../mfc/controls-mfc.md) и [Общие элементы управления](http://msdn.microsoft.com/library/windows/desktop/bb775493) в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocViewSDI&#15;](../../mfc/codesnippet/cpp/ctoolbar-class_3.cpp)]  
  
##  <a name="loadbitmap"></a>CToolBar::LoadBitmap  
 Вызов этой функции-члена для загрузки точечного рисунка, заданные `lpszResourceName` или `nIDResource`.  
  
```  
BOOL LoadBitmap(LPCTSTR lpszResourceName);  
BOOL LoadBitmap(UINT nIDResource);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszResourceName`  
 Указатель на имя ресурса для загрузки точечного рисунка.  
  
 `nIDResource`  
 Идентификатор ресурса растрового изображения для загрузки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Точечный рисунок должен содержать один образ для каждой кнопки панели инструментов. Если изображения не от обычного размера (16 пикселей в ширину и 15 пикселов), вызов [SetSizes](#setsizes) задание размеров кнопки и изображениями.  
  
> [!WARNING]
> `CToolBar`поддерживает растровые изображения с максимальным размером 16 цветов. При загрузке образа в редакторе панелей инструментов, Visual Studio автоматически конвертирует изображение точечного рисунка 16 цветов, при необходимости и выводится предупреждение, если было выполнено преобразование изображения. При использовании изображения с более чем 16 цветов (используя внешний редактор для редактирования изображения), приложение может работать непредсказуемым образом.  
  
##  <a name="loadtoolbar"></a>CToolBar::LoadToolBar  
 Вызов этой функции-члена для загрузки панели инструментов, определяемое `lpszResourceName` или `nIDResource`.  
  
```  
BOOL LoadToolBar(LPCTSTR lpszResourceName);  
BOOL LoadToolBar(UINT nIDResource);
```  
  
### <a name="parameters"></a>Параметры  
 `lpszResourceName`  
 Указатель на имя ресурса для загрузки панели инструментов.  
  
 `nIDResource`  
 Идентификатор ресурса панели инструментов для загрузки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 В разделе [редактор панелей инструментов](../../windows/toolbar-editor.md) в Дополнительные сведения о создании ресурса панели инструментов.  
  
### <a name="example"></a>Пример  
  В примере показано [CToolBar::CreateEx](#createex).  
  
##  <a name="setbitmap"></a>CToolBar::SetBitmap  
 Вызовите эту функцию-член для задания растровое изображение панели инструментов.  
  
```  
BOOL SetBitmap(HBITMAP hbmImageWell);
```  
  
### <a name="parameters"></a>Параметры  
 *hbmImageWell*  
 Дескриптор растрового изображения, который связан с панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Например, вызов `SetBitmap` изменение растровый рисунок после пользователь предпринимает действие на документ, который изменяет действие кнопки.  
  
##  <a name="setbuttoninfo"></a>CToolBar::SetButtonInfo  
 Вызовите эту функцию-член идентификатор команды, стиль и номер изображения кнопки.  
  
```  
void SetButtonInfo(
    int nIndex,  
    UINT nID,  
    UINT nStyle,  
    int iImage);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Отсчитываемый от нуля индекс кнопки или разделителя, для которого будет устанавливаться сведения.  
  
 `nID`  
 Значение, задаваемое для кнопки идентификатор команды.  
  
 `nStyle`  
 Новый стиль кнопки. Поддерживаются следующие стили кнопок:  
  
- **TBBS_BUTTON** стандартные pushbutton (по умолчанию)  
  
- **TBBS_SEPARATOR** разделителя  
  
- **TBBS_CHECKBOX** кнопку флажок устанавливается автоматически  
  
- **TBBS_GROUP** отмечает начало группа кнопок  
  
- **TBBS_CHECKGROUP** отмечает начало группы кнопок флажка.  
  
- **TBBS_DROPDOWN** создает кнопку раскрывающегося списка.  
  
- **TBBS_AUTOSIZE** Ширина кнопки будет вычисляться на основе текст кнопки, а не размер изображения.  
  
- **TBBS_NOPREFIX** accelerator префикс, связанный с ним не будет текст кнопки.  
  
 `iImage`  
 Новый индекс для изображение кнопки внутри точечного рисунка.  
  
### <a name="remarks"></a>Примечания  
 Для разделителей, которые имеют стиль **TBBS_SEPARATOR**, эта функция задает ширину разделителя в пикселях для значения, хранящегося в `iImage`.  
  
> [!NOTE]
>  Можно также задать с помощью состояния кнопок `nStyle` параметр, однако из-за состояния кнопок управляются [ON_UPDATE_COMMAND_UI](http://msdn.microsoft.com/library/c4de3c21-2d2e-4b89-a4ce-d0c0e2d9edc4) обработчик, любое состояние, заданный с помощью `SetButtonInfo` будут потеряны во время следующей обработки бездействия. В разделе [обновление объектов пользовательского интерфейса как](../../mfc/how-to-update-user-interface-objects.md) и [TN031: панелей элементов управления](../../mfc/tn031-control-bars.md) Дополнительные сведения.  
  
 Сведения о растровых изображений и кнопок, в разделе [CToolBar](../../mfc/reference/ctoolbar-class.md) Обзор и [CToolBar::LoadBitmap](#loadbitmap).  
  
##  <a name="setbuttons"></a>CToolBar::SetButtons  
 Эта функция-член задает идентификатор команды для каждой кнопки панели инструментов для значения, указанного в соответствующий элемент массива `lpIDArray`.  
  
```  
BOOL SetButtons(
    const UINT* lpIDArray,  
    int nIDCount);
```  
  
### <a name="parameters"></a>Параметры  
 `lpIDArray`  
 Указатель на массив идентификаторов команд. Он может быть **NULL** выделить пустой кнопок.  
  
 `nIDCount`  
 Число элементов массива, на который указывает `lpIDArray`.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Если элемент массива имеет значение **ID_SEPARATOR**, разделитель создается в соответствующей позиции на панели инструментов. Эта функция также задает стиль для каждой кнопки **TBBS_BUTTON** и стиль каждого разделителя **TBBS_SEPARATOR**и присваивает индекс изображения для каждой кнопки. Индекс изображения указывает положение изображения кнопки внутри точечного рисунка.  
  
 Необходимо учетную запись для разделителей в битовой карте, так как эта функция не назначает индексов изображения для разделителей. Если кнопки панели инструментов в позиции 0, 1, 3 и разделителя в позиции 2, изображения с позициями 0, 1 и 2 в своей битовой карте назначаются кнопок в позиции 0, 1 и 3 соответственно.  
  
 Если `lpIDArray` — **NULL**, эта функция выделяет место для количество элементов, определяемое `nIDCount`. Используйте [SetButtonInfo](#setbuttoninfo) , чтобы задать атрибуты каждого элемента.  
  
##  <a name="setbuttonstyle"></a>CToolBar::SetButtonStyle  
 Вызовите эту функцию-член для задания стиля кнопки или разделителя или группы кнопок.  
  
```  
void SetButtonStyle(
    int nIndex,  
    UINT nStyle);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки или разделителя, сведения о которых требуется задать.  
  
 `nStyle`  
 Стиль кнопки. Поддерживаются следующие стили кнопок:  
  
- **TBBS_BUTTON** стандартные pushbutton (по умолчанию)  
  
- **TBBS_SEPARATOR** разделителя  
  
- **TBBS_CHECKBOX** кнопку флажок устанавливается автоматически  
  
- **TBBS_GROUP** отмечает начало группа кнопок  
  
- **TBBS_CHECKGROUP** отмечает начало группы кнопок флажка.  
  
- **TBBS_DROPDOWN** создает кнопку раскрывающегося списка  
  
- **TBBS_AUTOSIZE** Ширина кнопки будет вычисляться на основе текст кнопки, а не размер изображения  
  
- **TBBS_NOPREFIX** accelerator префикс, связанный с ним не будет текст кнопки  
  
### <a name="remarks"></a>Примечания  
 Стиль кнопки определяет вид кнопки и как он реагирует на ввод данных пользователем.  
  
 Перед вызовом метода `SetButtonStyle`, вызовите [GetButtonStyle](#getbuttonstyle) функции-члена для получения стиль кнопки или разделителя.  
  
> [!NOTE]
>  Можно также задать с помощью состояния кнопок `nStyle` параметр, однако из-за состояния кнопок управляются [ON_UPDATE_COMMAND_UI](http://msdn.microsoft.com/library/c4de3c21-2d2e-4b89-a4ce-d0c0e2d9edc4) обработчик, любое состояние, заданный с помощью `SetButtonStyle` будут потеряны во время следующей обработки бездействия. В разделе [обновление объектов пользовательского интерфейса как](../../mfc/how-to-update-user-interface-objects.md) и [TN031: панелей элементов управления](../../mfc/tn031-control-bars.md) Дополнительные сведения.  
  
##  <a name="setbuttontext"></a>CToolBar::SetButtonText  
 Эта функция вызывается для задания текста на кнопке.  
  
```  
BOOL SetButtonText(
    int nIndex,  
    LPCTSTR lpszText);
```  
  
### <a name="parameters"></a>Параметры  
 `nIndex`  
 Индекс кнопки, для которых задается.  
  
 `lpszText`  
 Указывает текст на кнопке.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="example"></a>Пример  
  В примере показано [CToolBar::GetToolBarCtrl](#gettoolbarctrl).  
  
##  <a name="setheight"></a>CToolBar::SetHeight  
 Эта функция-член задает высоту панели инструментов значение в пикселях, указанного в `cyHeight`.  
  
```  
void SetHeight(int cyHeight);
```  
  
### <a name="parameters"></a>Параметры  
 `cyHeight`  
 Высота в пикселях на панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 После вызова метода [SetSizes](#setsizes), использовать эту функцию-член для переопределения высоту стандартной панели инструментов. Если высота слишком мал, будет обрезан кнопки в нижней.  
  
 Если эта функция не вызывается, платформа использует размер кнопки для определения высоты панели инструментов.  
  
##  <a name="setsizes"></a>CToolBar::SetSizes  
 Вызовите эту функцию-член для установки кнопки панели инструментов размер в пикселях, указанного в *sizeButton*.  
  
```  
void SetSizes(
    SIZE sizeButton,  
    SIZE sizeImage);
```  
  
### <a name="parameters"></a>Параметры  
 *sizeButton*  
 Размер в точках для каждой кнопки.  
  
 `sizeImage`  
 Размер в пикселях каждого изображения.  
  
### <a name="remarks"></a>Примечания  
 `sizeImage` Параметр должен содержать размер в пикселях изображений в растровое изображение панели инструментов. Измерения в *sizeButton* должно быть достаточным для хранения изображения, а также дополнительный ширина 7 и 6 пикселей дополнительных в высоту. Эта функция также устанавливает высоту панели инструментов, чтобы вместить кнопки.  
  
 Это функция-член вызывается только для панели инструментов, которые не соответствуют *Windows интерфейс рекомендации по разработке программного обеспечения* рекомендации для размера кнопки и изображения.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCListView №&8;](../../atl/reference/codesnippet/cpp/ctoolbar-class_4.cpp)]  
  
## <a name="see-also"></a>См. также  
 [Пример MFC CTRLBARS](../../visual-cpp-samples.md)   
 [Образец DLGCBR32 MFC](../../visual-cpp-samples.md)   
 [Пример MFC DOCKTOOL ПОКАЗАНА](../../visual-cpp-samples.md)   
 [CControlBar-класс](../../mfc/reference/ccontrolbar-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)   
 [CToolBarCtrl-класс](../../mfc/reference/ctoolbarctrl-class.md)   
 [CControlBar-класс](../../mfc/reference/ccontrolbar-class.md)

