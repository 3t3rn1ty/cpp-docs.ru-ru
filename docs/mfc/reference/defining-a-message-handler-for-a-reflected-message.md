---
title: "Определение обработчика сообщений для отраженного сообщения | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- vc.codewiz.defining.msg.msghandler
dev_langs:
- C++
helpviewer_keywords:
- messages, reflected
- message handling, reflected messages
ms.assetid: 5a403528-58c5-46e7-90d5-4a77f0ab9b9c
caps.latest.revision: 9
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 040985df34f2613b4e4fae29498721aef15d50cb
ms.openlocfilehash: 0033c75d351aa201a0c18e81395d764b9d45761b
ms.lasthandoff: 02/24/2017

---
# <a name="defining-a-message-handler-for-a-reflected-message"></a>Определение обработчика сообщений для отраженного сообщения
После создания нового класса элемента управления MFC для него можно определить обработчик сообщений. Обработчики отраженных сообщений позволяют классу элемента управления обрабатывать собственные сообщения до получения сообщения является родительским элементом. Можно использовать MFC [CWnd::SendMessage](../../mfc/reference/cwnd-class.md#sendmessage) функции для отправки сообщений от элемента управления в родительское окно.  
  
 Эта функциональная возможность, вы можете, например, создать поле со списком, будет перерисовывает себя, а не полагается на родительского окна, чтобы сделать (рисование владельцем). Дополнительные сведения об отраженных сообщениях см. в разделе [обработка сообщений отражены](../../mfc/handling-reflected-messages.md).  
  
 Для создания [управления ActiveX](../../mfc/activex-controls-on-the-internet.md) с одинаковой функциональностью, необходимо создать проект для элемента управления ActiveX.  
  
> [!NOTE]
>  Не удается добавить отраженное сообщение (OCM_*сообщения*) для ActiveX управления с помощью окна свойств, как описано ниже. Необходимо вручную добавить эти сообщения.  
  
### <a name="to-define-a-message-handler-for-a-reflected-message-from-the-properties-window"></a>Определение обработчика сообщений для отраженного сообщения в окне «Свойства»  
  
1.  Добавьте в проект MFC элемент управления, например список, контейнер элементов управления, панель инструментов или дерево.  
  
2.  В представлении классов щелкните имя класса элемента управления.  
  
3.  В [окно свойств](/visualstudio/ide/reference/properties-window), отображается имя класса элемента управления в **имя класса** списка.  
  
4.  Щелкните **сообщений** кнопку, чтобы отобразить список сообщений Windows, можно добавить к элементу управления.  
  
5.  Прокрутите вниз список сообщений в окне "Свойства", пока не появится заголовок **отражен**. Щелкнуть **категории** кнопку и свернуть окно, чтобы увидеть **отражен** заголовок.  
  
6.  Выберите отраженное сообщение, для которого требуется определить обработчик. Отраженные сообщения помечаются знаком равенства (=).  
  
7.  Щелкните ячейку в столбце справа в окне «Свойства», чтобы отобразить предлагаемое имя обработчика как \<добавьте настроек*HandlerName*. (Например, **= WM_CTLCOLOR** обработчик сообщений предлагает \<добавьте настроек**CtlColor**).  
  
8.  Щелкните предлагаемое имя, чтобы принять. Обработчик добавляется в проект.  
  
     Отображаются имена обработчиков сообщений, добавленные в правом столбце окна отраженных сообщений.  
  
9. Чтобы изменить или удалить обработчик сообщений, повторите шаги с 4 по 7. Щелкните ячейку, содержащую имя обработчика, чтобы изменить или удалить и выберите соответствующую задачу.  
  
## <a name="see-also"></a>См. также  
 [Сопоставление сообщений с функциями](../../mfc/reference/mapping-messages-to-functions.md)   
 [Добавление функциональных возможностей с помощью мастеров кода](../../ide/adding-functionality-with-code-wizards-cpp.md)   
 [Добавление класса](../../ide/adding-a-class-visual-cpp.md)   
 [Добавление функции-члена](../../ide/adding-a-member-function-visual-cpp.md)   
 [Добавление переменной-члена](../../ide/adding-a-member-variable-visual-cpp.md)   
 [Переопределение виртуальной функции](../../ide/overriding-a-virtual-function-visual-cpp.md)   
 [Обработчик сообщений MFC](../../mfc/reference/adding-an-mfc-message-handler.md)   
 [Перемещение по структуре класса](../../ide/navigating-the-class-structure-visual-cpp.md)

