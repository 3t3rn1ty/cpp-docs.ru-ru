---
title: "Класс CMFCToolBarButton | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
dev_langs:
- C++
helpviewer_keywords:
- CMFCToolBarButton class
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
caps.latest.revision: 34
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 4fafe461008e3545243d693e0d9e34acd57163e0
ms.openlocfilehash: 0139779cd00a514684c20b2c589d96247a532733
ms.lasthandoff: 02/24/2017

---
# <a name="cmfctoolbarbutton-class"></a>Класс CMFCToolBarButton
Предоставляет функции кнопок панели инструментов.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CMFCToolBarButton : public CObject  
```  
  
## <a name="members"></a>Члены  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Создает и инициализирует объект `CMFCToolBarButton`.|  
|`CMFCToolBarButton::~CMFCToolBarButton`|Деструктор.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Указывает, является ли пользователь можно разместить кнопку на панели инструментов или меню во время настройки.|  
|[CMFCToolBarButton::CanBeStored](#canbestored)|Указывает, можно ли хранить кнопки.|  
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Указывает, может ли пользователь растянуть кнопки во время настройки.|  
|[CMFCToolBarButton::CompareWith](#comparewith)|Сравнивает данный экземпляр с указанным `CMFCToolBarButton` объекта.|  
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Копирует свойства кнопки панели инструментов, для текущей кнопки.|  
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Создает `CMFCToolBarButton` объекта из предоставленного `COleDataObject` объекта.|  
|`CMFCToolBarButton::CreateObject`|Используется платформой для создания динамического экземпляра этого типа класса.|  
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Разрешает или запрещает ввод с помощью мыши и клавиатуры.|  
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Копирует текст из кнопки панели инструментов меню.|  
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Получает формат глобального буфера обмена для приложения.|  
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Получает дескриптор окна, связанный с кнопкой панели инструментов.|  
|[CMFCToolBarButton::GetImage](#getimage)|Извлекает индекс изображения кнопки.|  
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Получает область клиентской области кнопки, которые должны быть перерисованы.|  
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Извлекает родительское окно кнопки.|  
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Получает список команд, которые пользователь не может настроить.|  
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Получает размер текста кнопки.|  
|[CMFCToolBarButton::HasFocus](#hasfocus)|Определяет, имеет ли кнопки текущий фокус ввода.|  
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Определяет, отображается ли границы кнопки, когда пользователь выбирает кнопку.|  
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Определяет отображение изображения на кнопке.|  
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Определяет, отображается ли метка текста на кнопке.|  
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Определяет, отображать ли кнопку подменю.|  
|[CMFCToolBarButton::IsEditable](#iseditable)|Определяет, можно ли настроить кнопки.|  
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Определяет отображение кнопки с расширенной рамкой.|  
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Определяет, является ли кнопки в первой позиции в его группе.|  
|[CMFCToolBarButton::IsHidden](#ishidden)|Определяет, является ли кнопка скрыта.|  
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Определяет, находится ли кнопки на горизонтальной панели инструментов.|  
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Указывает, является ли последняя позиция в группе кнопку кнопки.|  
|[CMFCToolBarButton::IsLocked](#islocked)|Определяет, является ли кнопки на заблокированный (ненастраиваемый) панели инструментов.|  
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Определяет, является ли кнопки владельца дескриптора указанного окна.|  
|[CMFCToolBarButton::IsVisible](#isvisible)|Определяет, видима ли кнопка панели инструментов.|  
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Определяет, видима ли базовый дескриптор окна, кнопки.|  
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Указывает, обрабатывает ли кнопки [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщение.|  
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Вызывается инфраструктурой при добавлении кнопки **Настройка** диалоговое окно.|  
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Указывает, можно ли перетаскивать кнопки.|  
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Указывает, является ли пользователь может удалить кнопку на панель инструментов целевой.|  
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.|  
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Вызывается платформой для обработки [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщений.|  
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Вызывается инфраструктурой при вставке кнопки в панели инструментов.|  
|[CMFCToolBarButton::OnClick](#onclick)|Вызывается инфраструктурой при нажатии кнопки мыши.|  
|[CMFCToolBarButton::OnClickUp](#onclickup)|Вызывается платформой, когда пользователь отпускает кнопку мыши.|  
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Вызывается инфраструктурой при обработке родительского инструментов `WM_HELPHITTEST` сообщение.|  
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Вызывается инфраструктурой при обработке родительского инструментов `WM_CTLCOLOR` сообщение.|  
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Позволяет кнопка изменить предоставленный меню, когда приложение отображает контекстное меню на панели инструментов родительской.|  
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Вызывается инфраструктурой при обработке инструментов родительского [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщений.|  
|[CMFCToolBarButton::OnDraw](#ondraw)|Вызывается платформой для отображения кнопки с помощью указанного стили и параметры.|  
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Вызывается платформой для отображения кнопки в **команды** области **Настройка** диалоговое окно.|  
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Вызывается платформой для извлечения текста всплывающая подсказка для кнопки.|  
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Вызывается инфраструктурой при изменении глобальных шрифта.|  
|[CMFCToolBarButton::OnMove](#onmove)|Вызывается инфраструктурой при перемещении родительского инструментов.|  
|[CMFCToolBarButton::OnShow](#onshow)|Вызывается инфраструктурой при кнопка становится видимым или невидимым.|  
|[CMFCToolBarButton::OnSize](#onsize)|Вызывается инфраструктурой при инструментов родительской изменении ее размера или положения и это изменение требует кнопки для изменения размера.|  
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Вызывается платформой, когда родительский инструментов необходимо определить, является ли точки в ограничивающем прямоугольнике кнопки.|  
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Вызывается средой во время обновления инструментов родительской его текст всплывающей подсказки.|  
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Вызывается инфраструктурой при выполнения операции и перетащите кнопку.|  
|[CMFCToolBarButton::Rect](#rect)|Возвращает прямоугольник, ограничивающий кнопки.|  
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Задает значение по умолчанию изображение, связанное с кнопкой.|  
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Сохраняет состояние кнопки панели инструментов.|  
|[CMFCToolBarButton::Serialize](#serialize)|Считывает этот объект из архива и записывает его в архив. (Переопределяет [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|  
|[CMFCToolBarButton::SetACCData](#setaccdata)|Заполняет предоставленный `CAccessibilityData` объекта специальных возможностей данными из кнопки панели инструментов.|  
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Переименовывает формат глобального буфера обмена.|  
|[CMFCToolBarButton::SetImage](#setimage)|Задает индекс изображения кнопки.|  
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Задает список команд, которые пользователь не может настроить.|  
|[CMFCToolBarButton::SetRadio](#setradio)|Вызывается платформой, когда кнопка изменяет состояние выбора.|  
|[CMFCToolBarButton::SetRect](#setrect)|Задает кнопки, ограничивающего прямоугольника.|  
|[CMFCToolBarButton::SetStyle](#setstyle)|Задает стиль кнопки.|  
|[CMFCToolBarButton::SetVisible](#setvisible)|Указывает, видима ли кнопка.|  
|[CMFCToolBarButton::Show](#show)|Показывает или скрывает кнопку.|  
  
### <a name="data-members"></a>Элементы данных  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::m_bImage](#m_bimage)|Указывает, отображается ли изображение на кнопке.|  
|[CMFCToolBarButton::m_bText](#m_btext)|Указывает, отображается ли метка текста на кнопке.|  
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Указывает, отображается ли текстовую метку под изображения на кнопке.|  
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Указывает, имеет ли кнопки изображения, определяемых пользователем.|  
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Указывает, отображаются ли кнопки его полный текст метки, даже если он не помещается в ограничивающий прямоугольник.|  
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Указывает, помещается ли рядом с разделителем в следующей строке.|  
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Указывает, включены ли многострочный текст метки.|  
|[CMFCToolBarButton::m_nID](#m_nid)|Идентификатор команды кнопки.|  
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|Стиль кнопки.|  
|[CMFCToolBarButton::m_strText](#m_strtext)|Текст метки кнопки.|  
  
## <a name="remarks"></a>Примечания  
 Объект `CMFCToolbarButton` объект является элементом управления, который находится на панели инструментов. Его поведение аналогично, обычные кнопки. Этот объект можно назначить изображение и текст метки. Кнопки панели инструментов могут также иметь идентификатор команды. Когда пользователь нажимает кнопку панели инструментов, платформа выполняет команду, которая указывает этот идентификатор.  
  
 Как правило, можно настроить кнопки панели инструментов: пользователь может перетаскивать кнопки с одной панели инструментов на другую и скопируйте, вставьте, удаление и изменение текстовых меток и изображений. Чтобы предотвратить Настройка панели инструментов, панели инструментов можно заблокировать одним из двух способов. Любой набор `bLocked` флаг `TRUE` при вызове [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar), или добавьте идентификатор команды отдельной кнопки в глобальный список команд, защищенных с помощью [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) метод.  
  
 `CMFCToolBarButton`объекты отображения изображений из глобальной коллекции изображений панели инструментов в приложении. Эти коллекции обслуживаются с панели инструментов родительского [CMFCToolBar класса](../../mfc/reference/cmfctoolbar-class.md). Дополнительные сведения см. в разделе [CMFCToolBarImages класса](../../mfc/reference/cmfctoolbarimages-class.md).  
  
 При нажатии кнопки панели инструментов, его родительской панели инструментов обрабатывает сообщение мыши и передает соответствующие действия для кнопки. Если кнопка имеет идентификатор допустимая команда, панели инструментов родительской отправляет `WM_COMMAND` сообщение родительского фрейма.  
  
 `CMFCToolBarButton` Класс является базовым классом для других классов кнопки панели инструментов, таких как [класса CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), [класса CMFCToolBarEditBoxButton](../../mfc/reference/cmfctoolbareditboxbutton-class.md), и [CMFCToolBarComboBoxButton класса](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).  
  
## <a name="example"></a>Пример  
 Ниже приведен пример, как настроить `CMFCToolBarButton` объектов с помощью различных методов в `CMFCToolBarButton` класса. В примере показано включение мыши и ввод с клавиатуры, задать индекс изображения кнопки, задать ограничивающий прямоугольник кнопки и отображения кнопки. Этот фрагмент кода является частью [вкладок образец](../../visual-cpp-samples.md).  
  
 [!code-cpp[NVC_MFC_TabControl&#1;](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]  
[!code-cpp[NVC_MFC_TabControl&#2;](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxtoolbarbutton.h  
  
##  <a name="canbedropped"></a>CMFCToolBarButton::CanBeDropped  
 Указывает, является ли пользователь можно разместить кнопку на панели инструментов или меню во время настройки.  
  
```  
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pToolbar`  
 Не используется.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 По умолчанию кнопки панели инструментов можно перетаскивать на каждый настраиваемый (то есть незаблокированными) панели инструментов.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод и возвращать `FALSE` Если вы хотите запретить изменение положения кнопки пользователем.  
  
##  <a name="canbestored"></a>CMFCToolBarButton::CanBeStored  
 Определяет, можно ли хранить кнопки.  
  
```  
virtual BOOL CanBeStored() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа использует этот метод для определения, может ли кнопки участвовать в операции и перетащите.  
  
 Реализация по умолчанию возвращает значение `TRUE`. Переопределите этот метод, если кнопки не может храниться как часть операции и перетаскивания. Дополнительные сведения об операциях и перетащите см. в разделе [перетаскивания и Drop (OLE)](../../mfc/drag-and-drop-ole.md).  
  
##  <a name="canbestretched"></a>CMFCToolBarButton::CanBeStretched  
 Указывает, может ли пользователь растянуть кнопки во время настройки.  
  
```  
virtual BOOL CanBeStretched() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод используется платформой для определения, может ли быть растянуто кнопки в режим настройки.  
  
 Реализация по умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` переменной ширины элемента управления как поле со списком или ползунок.  
  
 Дополнительные сведения о режиме настройки в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).  
  
##  <a name="cmfctoolbarbutton"></a>CMFCToolBarButton::CMFCToolBarButton  
 Создает и инициализирует объект `CMFCToolBarButton`.  
  
```  
CMFCToolBarButton(
    UINT uiID,  
    int iImage,  
    LPCTSTR lpszText=NULL,  
    BOOL bUserButton=FALSE,  
    BOOL bLocked=FALSE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `uiID`  
 Идентификатор команды кнопки.  
  
 [in] `iImage`  
 Индекс изображения кнопки в коллекции изображений.  
  
 [in] `lpszText`  
 Текст метки кнопки. Может быть `NULL`.  
  
 [in] `bUserButton`  
 Логическое значение, определяющее кнопку, определяемых пользователем. Если этот параметр равен `TRUE`, кнопки определяется пользователем. В противном случае — это изображение кнопки загружается из ресурса.  
  
 [in] `bLocked`  
 Логическое значение, определяющее, можно ли настроить кнопки. Если этот параметр равен `TRUE`, кнопки не может быть изменена. В противном случае можно настроить кнопку.  
  
##  <a name="comparewith"></a>CMFCToolBarButton::CompareWith  
 Сравнивает данный экземпляр с указанным `CMFCToolBarButton` объекта.  
  
```  
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;  
```  
  
### <a name="parameters"></a>Параметры  
 [in] `other`  
 Ссылка на объект, сравниваемый с данным экземпляром.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если предоставленный объект равен значению данного экземпляра; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию определяет, равен ли идентификатор команды, предоставленного объекта идентификатор команды этого экземпляра. Переопределите этот метод, если необходимо выполнить дополнительную обработку для определения двух `CMFCToolBarButton` объекты равны.  
  
##  <a name="copyfrom"></a>CMFCToolBarButton::CopyFrom  
 Копирует свойства кнопки панели инструментов, для текущей кнопки.  
  
```  
virtual void CopyFrom(const CMFCToolBarButton& src);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `src`  
 Ссылка «источник» для копирования.  
  
### <a name="remarks"></a>Примечания  
 Этот метод служит для копирования другой кнопки панели инструментов эта кнопка панели инструментов.  
  
##  <a name="createfromoledata"></a>CMFCToolBarButton::CreateFromOleData  
 Создает `CMFCToolBarButton` объекта из предоставленного `COleDataObject` объекта.  
  
```  
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDataObject`  
 Объект источника данных OLE.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Созданный модуль чтения `CMFCToolBarButton`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод используется платформой для передачи данных в различных форматах. Например `CMFCOutlookBarPane::OnDragOver` метод использует этот метод для выполнения операций и перетаскивания.  
  
##  <a name="enablewindow"></a>CMFCToolBarButton::EnableWindow  
 Разрешает или запрещает ввод с помощью мыши и клавиатуры.  
  
```  
virtual void EnableWindow(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bEnable`  
 Присвойте этому параметру значение `TRUE` Включение входных данных, или `FALSE` для отключения входных данных.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает метод `EnableWindow` функции, чтобы включить или отключить возможность ввода данных. Дополнительные сведения см. в разделе [EnableWindow](http://msdn.microsoft.com/library/windows/desktop/ms646291) в [!INCLUDE[winSDK](../../atl/includes/winsdk_md.md)].  
  
##  <a name="exporttomenubutton"></a>CMFCToolBarButton::ExportToMenuButton  
 Копирует текст из кнопки панели инструментов меню.  
  
```  
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;  
```  
  
### <a name="parameters"></a>Параметры  
 [in] `menuButton`  
 Ссылка на кнопке меню целевой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы скопировать текст из кнопки на панели инструментов кнопку меню. Реализация по умолчанию копирует текст метки кнопки. Если текстовая метка пуст, этот метод копирует текст подсказки для кнопки.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод, если требуется выполнить дополнительные действия, когда платформа преобразует объект, который является производным от [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) для кнопки меню.  
  
##  <a name="getclipboardformat"></a>CMFCToolBarButton::GetClipboardFormat  
 Получает формат глобального буфера обмена для приложения.  
  
```  
static CLIPFORMAT __stdcall GetClipboardFormat();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Глобальный `CLIPFORMAT` значение для приложения.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для извлечения формат буфера обмена для операций передачи данных OLE. Например [CMFCToolBarButton::CreateFromOleData](#createfromoledata) метод использует этот метод для копирования данных из исходного объекта данных OLE.  
  
 Этот метод задает глобальный `CLIPFORMAT` значение при первом вызове этого метода. Все последующие вызовы этого метода возвращают это значение.  
  
 Чтобы разрешить и-операций перетаскивания между приложениями, вызовите [CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname) метод.  
  
 Дополнительные сведения о буферы обмена в MFC см. в разделе [буфер обмена](../../mfc/clipboard.md).  
  
##  <a name="gethwnd"></a>CMFCToolBarButton::GetHwnd  
 Получает дескриптор окна, связанный с кнопкой панели инструментов.  
  
```  
virtual HWND GetHwnd();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор окна, связанный с кнопкой панели инструментов или `NULL` Если маркеры не связанное окно кнопки панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает `NULL`. Переопределите этот метод, чтобы возвратить дескриптор окна для конкретного элемента управления.  
  
##  <a name="getimage"></a>CMFCToolBarButton::GetImage  
 Извлекает индекс изображения кнопки.  
  
```  
int GetImage() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс изображения, связанного с этой кнопки.  
  
### <a name="remarks"></a>Примечания  
 Если кнопка имеет изображения, определяемые пользователем (то есть, если `bUserButton` было `TRUE` в конструкторе), возвращаемый индекс указывает образ в коллекцию изображений, определяемые пользователем (см. [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). В противном случае — индекс указывает образ в коллекции изображений, которые загружаются из файла ресурсов (см. [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Дополнительные сведения о файлах ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).  
  
##  <a name="getinvalidaterect"></a>CMFCToolBarButton::GetInvalidateRect  
 Получает область клиентской области кнопки, которые должны быть перерисованы.  
  
```  
virtual const CRect GetInvalidateRect() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CRect` , определяющий область, должны быть перерисованы.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этого метода возвращает всей клиентской области. Переопределите этот метод, если требуется другой области перерисовку.  
  
##  <a name="getparentwnd"></a>CMFCToolBarButton::GetParentWnd  
 Извлекает родительское окно кнопки.  
  
```  
CWnd* GetParentWnd() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Родительское окно кнопки.  
  
##  <a name="getprotectedcommands"></a>CMFCToolBarButton::GetProtectedCommands  
 Получает список команд, которые пользователь не может настроить.  
  
```  
static const CList<UINT,UINT>& GetProtectedCommands();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Список защищенных команд.  
  
### <a name="remarks"></a>Примечания  
 В режиме настройки платформа отключает панель инструментов кнопки команд, которые защищены. Пользователь не может выполнять и перетащите и редактирования операции отключенных кнопок панели инструментов.  
  
 Используйте [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) защищенный метод, чтобы определить список команд.  
  
##  <a name="gettextsize"></a>CMFCToolBarButton::GetTextSize  
 Получает размер текста кнопки.  
  
```  
SIZE GetTextSize() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `SIZE` , содержащий размер в пикселях текст кнопки.  
  
##  <a name="hasfocus"></a>CMFCToolBarButton::HasFocus  
 Определяет, имеет ли кнопки текущий фокус ввода.  
  
```  
virtual BOOL HasFocus() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка имеет фокус ввода; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этого метода возвращает ненулевое значение, если фокус ввода кнопки или является окном дочернего или потомка окна, которое имеет фокус ввода. Можно переопределить эту функцию, чтобы изменить это поведение.  
  
##  <a name="havehotborder"></a>CMFCToolBarButton::HaveHotBorder  
 Определяет, отображается ли границы кнопки, когда пользователь выбирает кнопку.  
  
```  
virtual BOOL HaveHotBorder() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для определения, должен ли кнопки панели инструментов отображать свои границы при его выборе.  
  
 Реализация по умолчанию возвращает значение `TRUE`. Можно переопределить этот метод, чтобы изменить это поведение.  
  
##  <a name="isdrawimage"></a>CMFCToolBarButton::IsDrawImage  
 Определяет отображение изображения на кнопке.  
  
```  
BOOL IsDrawImage() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если изображение отображается на кнопке; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает `FALSE` Если кнопки панели инструментов нет никакого связанные изображения ( [CMFCToolBarButton::GetImage](#getimage) возвращает -1) или если [CMFCToolBarButton::m_bImage](#m_bimage) равен `FALSE`.  
  
##  <a name="isdrawtext"></a>CMFCToolBarButton::IsDrawText  
 Определяет, отображается ли метка текста на кнопке.  
  
```  
BOOL IsDrawText() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если метки отображаются; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает `FALSE` Если кнопки панели инструментов не имеет связанный с ним текст метки ( [CMFCToolBarButton::m_strText](#m_strtext) пуст) или [CMFCToolBarButton::m_bText](#m_btext) равен `FALSE`.  
  
##  <a name="isdroppeddown"></a>CMFCToolBarButton::IsDroppedDown  
 Определяет, отображать ли кнопку подменю.  
  
```  
virtual BOOL IsDroppedDown() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` Если элемент управления отображает вложенное меню.  
  
##  <a name="iseditable"></a>CMFCToolBarButton::IsEditable  
 Определяет, можно ли настроить кнопки.  
  
```  
virtual BOOL IsEditable() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка может настраиваться пользователем; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить, можно настроить кнопку панели инструментов с помощью и перетащите или изменить операции пользователя.  
  
 Реализация по умолчанию возвращает `FALSE` идентификатор команды кнопки в случае стандартной команды (это можно определить путем вызова `IsStandardCommand` функции) или команды является идентификатор в списке защищенных команды. Дополнительные сведения о защищенных команды в разделе [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) и [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).  
  
 Переопределите этот метод для настройки ее поведения.  
  
##  <a name="isextrasize"></a>CMFCToolBarButton::IsExtraSize  
 Определяет отображение кнопки с расширенной рамкой.  
  
```  
virtual BOOL IsExtraSize() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопки панели инструментов могут отображаться с расширенной рамкой; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Дополнительный объем использовать несколько обложки границы кнопки панели инструментов (например, round кнопки).  
  
 Если пользователь перемещает этой кнопки с одной панели инструментов на другой, платформа вызывает [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод. [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод устанавливает флаг дополнительный объем новой родительской панели инструментов (Дополнительные сведения см. в разделе [CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).  
  
##  <a name="isfirstingroup"></a>CMFCToolBarButton::IsFirstInGroup  
 Определяет, является ли кнопки в первой позиции в его группе.  
  
```  
virtual BOOL IsFirstInGroup() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE`Если кнопка первой кнопки в группе кнопок; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод определяет *группы* как соседних набор кнопок, которые располагаются в той же строке и ограниченных разделителями или границы панели инструментов. Этот метод возвращает `FALSE` Если кнопки панели инструментов указывает на **Настройка** кнопки. Дополнительные сведения о **Настройка** кнопку см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).  
  
 Вызов [CMFCToolBarButton::IsLastInGroup](#islastingroup) метод, чтобы определить, является ли кнопки в последней позиции в его группе.  
  
##  <a name="ishidden"></a>CMFCToolBarButton::IsHidden  
 Определяет, является ли кнопка скрыта.  
  
```  
BOOL IsHidden() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка скрыта (невидимым); в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод при инструментов родительской растягивается для определения, видима ли кнопка панели инструментов.  
  
 Если задан кнопку, чтобы быть невидимым с помощью [CMFCToolBarButton::SetVisible](#setvisible) метод использования [CMFCToolBarButton::IsVisible](#isvisible) для определения, видима ли кнопка панели инструментов.  
  
 По умолчанию отображаются все кнопки панели инструментов. Используйте [CMFCToolBarButton::Show](#show) метод, чтобы скрыть или Показать кнопки панели инструментов.  
  
##  <a name="ishorizontal"></a>CMFCToolBarButton::IsHorizontal  
 Определяет, находится ли кнопки на горизонтальной панели инструментов.  
  
```  
BOOL IsHorizontal() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопки панели инструментов находится на горизонтальной панели инструментов; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить расположение кнопок панели инструментов.  
  
 Этот метод возвращает `m_bHorz` элемент данных. Значение по умолчанию `m_bHorz` данные-член `TRUE`; сбрасывается при каждом вызове [CMFCToolBarButton::OnDraw](#ondraw) метод.  
  
##  <a name="islastingroup"></a>CMFCToolBarButton::IsLastInGroup  
 Указывает, является ли последняя позиция в группе кнопку кнопки.  
  
```  
virtual BOOL IsLastInGroup() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE`Если кнопка последней кнопки в группе кнопок; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод определяет *группы* как соседних набор кнопок, которые располагаются в той же строке и ограниченных разделителями или границы панели инструментов этот метод возвращает `FALSE` Если нет родительской панели инструментов содержит кнопки панели инструментов или кнопки панели инструментов ссылается на **Настройка** кнопки. Дополнительные сведения о **Настройка** кнопку см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).  
  
 Вызов [CMFCToolBarButton::IsFirstInGroup](#isfirstingroup) метод, чтобы определить, является ли кнопки в первой позиции в его группе.  
  
##  <a name="islocked"></a>CMFCToolBarButton::IsLocked  
 Определяет, является ли кнопки на заблокированный (ненастраиваемый) панели инструментов.  
  
```  
BOOL IsLocked() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка заблокированные панели инструментов; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить, можно настроить кнопку панели инструментов с помощью и перетащите или изменить операции пользователя. Присвойте атрибуту заблокированные панели инструментов родительской с помощью [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) метод. Платформа передает значение этого атрибута в конструктор каждой кнопки панели инструментов ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)), он добавляет в панели инструментов родительской.  
  
##  <a name="isownerof"></a>CMFCToolBarButton::IsOwnerOf  
 Определяет, является ли кнопки владельца дескриптора указанного окна.  
  
```  
virtual BOOL IsOwnerOf(HWND hwnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `hwnd`  
 Дескриптор окна.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка владельца предоставленным дескриптором окна; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает ненулевое значение, если `hwnd` ссылается на дескриптор окна прямой или является дочерним для элемента, связанного с кнопкой дескриптор окна. Этот метод возвращает 0, если `hwnd` — `NULL`.  
  
##  <a name="isvisible"></a>CMFCToolBarButton::IsVisible  
 Определяет, видима ли кнопка панели инструментов.  
  
```  
BOOL IsVisible() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка панели инструментов является видимой; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Можно отобразить или скрыть кнопку панели инструментов с помощью [CMFCToolBarButton::SetVisible](#setvisible) метод. Вызов [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метода на панели инструментов родительской после вызова [CMFCToolBarButton::SetVisible](#setvisible) повторно вычислять макет родительской панели инструментов.  
  
##  <a name="iswindowvisible"></a>CMFCToolBarButton::IsWindowVisible  
 Определяет, видима ли базовый дескриптор окна, кнопки.  
  
```  
virtual BOOL IsWindowVisible();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если базовый дескриптор окна, кнопки видима. в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает ненулевое значение, если атрибут стили базовый дескриптор окна содержит `WS_VISIBLE` стиль. Этот метод возвращает `FALSE` Если базовый дескриптор окна, кнопки `NULL`.  
  
##  <a name="m_bimage"></a>CMFCToolBarButton::m_bImage  
 Указывает, отображается ли изображение на кнопке.  
  
```  
BOOL m_bImage;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных задано значение `TRUE`, платформа отображает изображение, связанное с кнопкой панели инструментов; в противном случае платформа не отображает изображение. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bImage](#m_bimage) метод.  
  
##  <a name="m_btext"></a>CMFCToolBarButton::m_bText  
 Указывает, отображается ли метка текста на кнопке.  
  
```  
BOOL m_bText;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных задано значение `TRUE`, платформа отображает текстовую метку кнопки панели инструментов; в противном случае платформа не отображает текстовую метку. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bText](#m_btext) метод.  
  
##  <a name="m_btextbelow"></a>CMFCToolBarButton::m_bTextBelow  
 Указывает, отображается ли текстовую метку под изображения на кнопке.  
  
```  
BOOL m_bTextBelow;  
```  
  
### <a name="remarks"></a>Примечания  
 Если значение переменной-члена `TRUE`, платформа отображает текст кнопки под этим изображением. Значение по умолчанию для этого элемента — `FALSE`.  
  
##  <a name="m_buserbutton"></a>CMFCToolBarButton::m_bUserButton  
 Указывает, имеет ли кнопки изображения, определяемые пользователем  
  
```  
BOOL m_bUserButton;  
```  
  
### <a name="remarks"></a>Примечания  
 Значение этого элемента данных `TRUE` когда кнопка имеет пользовательские изображения, связанные с ним.  
  
##  <a name="m_bwholetext"></a>CMFCToolBarButton::m_bWholeText  
 Указывает, отображаются ли кнопки его полный текст метки, даже если он не помещается в ограничивающий прямоугольник.  
  
```  
BOOL m_bWholeText;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных задано значение `TRUE`, платформа отображается метка полный текст путем увеличения кнопки. В противном случае — платформа усекает и добавляет многоточие ( **... **) к метке.  
  
##  <a name="m_bwrap"></a>CMFCToolBarButton::m_bWrap  
 Указывает, помещается ли рядом с разделителем в следующей строке.  
  
```  
BOOL m_bWrap;  
```  
  
### <a name="remarks"></a>Примечания  
 Этот элемент данных задает платформу `TRUE` при кнопки панели инструментов не подходит для текущей строки или при задании макета (например, определенного числа кнопки панели инструментов в одной строке).  
  
 Платформа помещает эту кнопку в следующей строке, если значение этого элемента данных `TRUE` и панели инструментов, закрепленные по горизонтали или с плавающей запятой.  
  
 Значение по умолчанию для этого элемента данных — `FALSE`.  
  
##  <a name="m_bwraptext"></a>CMFCToolBarButton::m_bWrapText  
 Указывает, включены ли многострочный текст метки.  
  
```  
AFX_IMPORT_DATA static BOOL m_bWrapText;  
```  
  
### <a name="remarks"></a>Примечания  
 При этом статической переменной-члена `TRUE`, платформа включает все панели инструментов для отображения меток многострочный текст на кнопках панели инструментов.  
  
 Значение по умолчанию для этого элемента данных — `FALSE`.  
  
##  <a name="m_nid"></a>CMFCToolBarButton::m_nID  
 Идентификатор команды кнопки.  
  
```  
UINT m_nID;  
```  
  
### <a name="remarks"></a>Примечания  
 Идентификатор команды-1 указывает на то, что кнопки разделителя. Все разделители кнопок имеют `TBBS_SEPARATOR` стиль. В разделе [CMFCToolBarButton::m_nStyle](#m_nstyle) Дополнительные сведения о стилях кнопки.  
  
##  <a name="m_nstyle"></a>CMFCToolBarButton::m_nStyle  
 Стиль кнопки.  
  
```  
UINT m_nStyle;  
```  
  
### <a name="remarks"></a>Примечания  
 В разделе [стили элемента управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) список имеющихся на панели инструментов кнопку Стили.  
  
##  <a name="m_strtext"></a>CMFCToolBarButton::m_strText  
 Текст метки кнопки.  
  
```  
CString m_strText;  
```  
  
### <a name="remarks"></a>Примечания  
 Этот элемент данных содержит текст метки кнопки. Текстовая метка может быть пустым.  
  
##  <a name="notifycommand"></a>CMFCToolBarButton::NotifyCommand  
 Указывает, обрабатывает ли кнопки [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщение.  
  
```  
virtual BOOL NotifyCommand(int iNotifyCode);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iNotifyCode`  
 Сообщение уведомления, связанный с командой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, когда он собирается отправить [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщение родительского окна.  
  
 По умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` Если необходимо обработать `WM_COMMAND` сообщений или `FALSE` для указания, что родительский инструментов должен обрабатывать сообщения.  
  
##  <a name="onaddtocustomizepage"></a>CMFCToolBarButton::OnAddToCustomizePage  
 Вызывается инфраструктурой при добавлении кнопки **Настройка** диалоговое окно.  
  
```  
virtual void OnAddToCustomizePage();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, если требуется выполнить какие-либо действия при добавлении кнопки **Настройка** диалоговое окно.  
  
##  <a name="onbeforedrag"></a>CMFCToolBarButton::OnBeforeDrag  
 Указывает, можно ли перетаскивать кнопки.  
  
```  
virtual BOOL OnBeforeDrag() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE`Если можно перетащить кнопки; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, прежде чем пользователь начинает перетаскивать кнопки.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод для возврата `FALSE` отключение перетаскивания кнопки.  
  
##  <a name="onbeforedrop"></a>CMFCToolBarButton::OnBeforeDrop  
 Указывает, является ли пользователь может удалить кнопку на панель инструментов целевой.  
  
```  
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pTarget`  
 Целевой объект операции перетаскивания и drop.  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE`Если можно перетаскивать кнопки на панели инструментов заданным целевым объектом. в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод перед помещении кнопки на панели инструментов.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод для возврата `FALSE` отключение операция перетаскивания для указанного целевого объекта.  
  
##  <a name="oncalculatesize"></a>CMFCToolBarButton::OnCalculateSize  
 Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.  
  
```  
virtual SIZE OnCalculateSize(
    CDC* pDC,  
    const CSize& sizeDefault,  
    BOOL bHorz);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `sizeDefault`  
 По умолчанию размер кнопки.  
  
 [in] `bHorz`  
 Состояние закрепления панели инструментов родительской. Этот параметр является `TRUE` Если панель закреплена горизонтально или является перемещаемой или `FALSE` Если вертикально закрепленной панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 A `SIZE` структуру, содержащую размеры кнопки, в пикселях.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить размер кнопки панели инструментов для заданного контекста устройств и закрепление состояния.  
  
 Реализация по умолчанию считает, что размеры text и image (если они отображаются), text и image позиций (текст ниже или в правой части изображения) и панель инструментов закрепить состояния.  
  
 Переопределите этот метод, если вы хотите предоставить размер нестандартные кнопки (например, кнопку «Изменить поле»).  
  
##  <a name="oncancelmode"></a>CMFCToolBarButton::OnCancelMode  
 Вызывается платформой для обработки [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщений.  
  
```  
virtual void OnCancelMode();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, если требуется обрабатывать [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщений.  
  
##  <a name="onchangeparentwnd"></a>CMFCToolBarButton::OnChangeParentWnd  
 Вызывается инфраструктурой при вставке кнопки в панели инструментов.  
  
```  
virtual void OnChangeParentWnd(CWnd* pWndParent);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWndParent`  
 Новый родительского окна.  
  
### <a name="remarks"></a>Примечания  
 Кнопки вставляется в панели инструментов, например, когда пользователь перетаскивает его с одной панели инструментов на другую панель инструментов.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий.  
  
##  <a name="onclick"></a>CMFCToolBarButton::OnClick  
 Вызывается инфраструктурой при нажатии кнопки мыши.  
  
```  
virtual BOOL OnClick(
    CWnd* pWnd,  
    BOOL bDelay=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки панели инструментов.  
  
 [in] `bDelay`  
 `TRUE`Если сообщения должны обрабатываться с задержкой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, когда пользователь щелкает кнопку панели инструментов.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопка обрабатывает сообщения нажмите кнопку.  
  
##  <a name="onclickup"></a>CMFCToolBarButton::OnClickUp  
 Вызывается платформой, когда пользователь отпускает кнопку мыши.  
  
```  
virtual BOOL OnClickUp();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, когда пользователь отпускает кнопку панели инструментов.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопка обрабатывает сообщения нажмите кнопку.  
  
##  <a name="oncontexthelp"></a>CMFCToolBarButton::OnContextHelp  
 Вызывается инфраструктурой при обработке родительского инструментов `WM_HELPHITTEST` сообщение.  
  
```  
virtual BOOL OnContextHelp(CWnd* pWnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопка обрабатывает сообщение справки.  
  
 Дополнительные сведения о `WM_HELPHITTEST` сообщений см. в разделе [TN028: поддержка справки контекстно-зависимые](../../mfc/tn028-context-sensitive-help-support.md).  
  
##  <a name="onctlcolor"></a>CMFCToolBarButton::OnCtlColor  
 Вызывается инфраструктурой при обработке родительского инструментов `WM_CTLCOLOR` сообщение.  
  
```  
virtual HBRUSH OnCtlColor(
    CDC* pDC,  
    UINT nCtlColor);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `nCtlColor`  
 Определенный цвет уведомлений.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор объекта кисти, она используется для рисования фона кнопки.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод при обработке инструментов родительского `WM_CTLCOLOR` сообщений для кнопки панели инструментов, которая содержит элемент управления Windows. Платформа не вызывать этот метод, если кнопки панели инструментов без окон.  
  
 Платформа вызывает этот метод при framework панель инструментов находится в режиме настройки и разблокирован кнопки панели инструментов. Дополнительные сведения о режиме настройки в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Дополнительные сведения о блокировке кнопки панели инструментов см. в разделе [CMFCToolBarButton::IsLocked](#islocked).  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `NULL`.  
  
##  <a name="oncustomizemenu"></a>CMFCToolBarButton::OnCustomizeMenu  
 Позволяет кнопка изменить предоставленный меню, когда приложение отображает контекстное меню на панели инструментов родительской.  
  
```  
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pMenu`  
 Для настройки меню.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод и вернуть ненулевое значение, если требуется изменить содержимое предоставленного меню.  
  
##  <a name="ondblclk"></a>CMFCToolBarButton::OnDblClk  
 Вызывается инфраструктурой при обработке инструментов родительского [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщений.  
  
```  
virtual void OnDblClk(CWnd* pWnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 -   Родительское окно кнопки.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается методом `CMFCToolBar::OnLButtonDblClk` метод при обработке инструментов родительского [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщений.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий.  
  
##  <a name="ondraw"></a>CMFCToolBarButton::OnDraw  
 Вызывается платформой для отображения кнопки с помощью указанного стили и параметры.  
  
```  
virtual void OnDraw(
    CDC* pDC,  
    const CRect& rect,  
    CMFCToolBarImages* pImages,  
    BOOL bHorz=TRUE,  
    BOOL bCustomizeMode=FALSE,  
    BOOL bHighlight=FALSE,  
    BOOL bDrawBorder=TRUE,  
    BOOL bGrayDisabledButtons=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
 [in] `pImages`  
 Коллекция изображений на панели инструментов, связанный с кнопкой.  
  
 [in] `bHorz`  
 Состояние закрепления панели инструментов родительской. Этот параметр является `TRUE` при кнопки закреплена горизонтально и `FALSE` при прикреплении кнопки по вертикали.  
  
 [in] `bCustomizeMode`  
 Указывает, является ли режим настройки панели инструментов. Этот параметр является `TRUE` Если панель инструментов находится в режиме настройки и `FALSE` Если панели инструментов не находится в режиме настройки.  
  
 [in] `bHighlight`  
 Указывает, выделяется ли кнопки. Этот параметр является `TRUE` когда выделена кнопка и `FALSE` при кнопки не выделяется.  
  
 [in] `bDrawBorder`  
 Указывает, следует ли отображать его границы кнопки. Этот параметр является `TRUE` при кнопки следует отображать границу и `FALSE` при кнопки не должна отображаться граница.  
  
 [in] `bGrayDisabledButtons`  
 Указывает, следует ли затенять отключенных кнопок или использование коллекции изображений отключено. Этот параметр является `TRUE` при отключенных кнопок должна быть затенена и `FALSE` при отключенном изображения коллекцию следует использовать этот метод.  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для настройки панели инструментов кнопку рисования.  
  
##  <a name="ondrawoncustomizelist"></a>CMFCToolBarButton::OnDrawOnCustomizeList  
 Вызывается платформой для отображения кнопки в **команды** области **Настройка** диалоговое окно.  
  
```  
virtual int OnDrawOnCustomizeList(
    CDC* pDC,  
    const CRect& rect,  
    BOOL bSelected);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
 [in] `bSelected`  
 Указывает, выбран ли кнопки. Если этот параметр равен `TRUE`, выбранной кнопки. Если этот параметр равен `FALSE`, кнопка не выбрана.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ширина в пикселях, кнопки в заданном контексте устройства.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается диалоговое окно настройки ( **команды** вкладка) при кнопки собирается отображения в списке рисование владельцем.  
  
 Реализация этого метода по умолчанию отображается метка изображение и текст кнопки, если они доступны. Если текст метки кнопки не доступен, этот метод выводит текст всплывающей подсказки.  
  
 Переопределите этот метод для выполнения пользовательской операции рисования.  
  
##  <a name="ongetcustomtooltiptext"></a>CMFCToolBarButton::OnGetCustomToolTipText  
 Вызывается платформой для извлечения текста всплывающая подсказка для кнопки.  
  
```  
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```  
  
### <a name="parameters"></a>Параметры  
 [выходной] `strToolTip`  
 Объект `CString` объект, принимающий пользовательский текст всплывающей подсказки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод при отображении всплывающей подсказки для кнопки панели инструментов. Если этот метод возвращает `FALSE`, инфраструктура использует всплывающей подсказки по умолчанию.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод и возвращает ненулевое значение, чтобы предоставить пользовательский текст всплывающей подсказки для кнопки панели инструментов.  
  
##  <a name="onglobalfontschanged"></a>CMFCToolBarButton::OnGlobalFontsChanged  
 Вызывается инфраструктурой при изменении глобальных шрифта.  
  
```  
virtual void OnGlobalFontsChanged();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы обновлять шрифт, используемый для отображения текста кнопки.  
  
##  <a name="onmove"></a>CMFCToolBarButton::OnMove  
 Вызывается инфраструктурой при перемещении родительского инструментов.  
  
```  
virtual void OnMove();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для изменения положения кнопки при перемещении родительского инструментов.  
  
##  <a name="onshow"></a>CMFCToolBarButton::OnShow  
 Вызывается инфраструктурой при кнопка становится видимым или невидимым.  
  
```  
virtual void OnShow(BOOL bShow);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Указывает, видима ли кнопка. Если этот параметр равен `TRUE`, то кнопка отображается. В противном случае — кнопка не отображается.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для обновления видимость кнопки.  
  
##  <a name="onsize"></a>CMFCToolBarButton::OnSize  
 Вызывается инфраструктурой при инструментов родительской изменении ее размера или положения и это изменение приводит к изменить размер кнопки.  
  
```  
virtual void OnSize(int iSize);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iSize`  
 Новая ширина кнопки.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы изменить размер кнопки, когда изменяется размер или расположение панели инструментов родительской.  
  
##  <a name="ontoolhittest"></a>CMFCToolBarButton::OnToolHitTest  
 Вызывается платформой, когда родительский инструментов необходимо определить, является ли точки в ограничивающем прямоугольнике кнопки.  
  
```  
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,  
    TOOLINFO* pTI);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки. Может быть `NULL`.  
  
 [in] `pTI`  
 A `TOOLINFO` структуру, содержащую сведения о средстве в элементе управления всплывающей подсказки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Результат `OnMenuButtonToolHitTest` Если кнопки можно получить указатель на родительский фрейм окна; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает один из следующих методов, если он может преобразовать родительского окна объекта допустимые рамки:  
  
- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)  
  
- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)  
  
- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)  
  
##  <a name="onupdatetooltip"></a>CMFCToolBarButton::OnUpdateToolTip  
 Вызывается средой во время обновления инструментов родительской его текст всплывающей подсказки.  
  
```  
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,  
    int iButtonIndex,  
    CToolTipCtrl& wndToolTip,  
    CString& str);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWndParent`  
 Родительское окно.  
  
 [in] `iButtonIndex`  
 Отсчитываемый от нуля индекс кнопки в родительской коллекции кнопки.  
  
 [in] `wndToolTip`  
 Элемент управления, отображающий текст всплывающей подсказки.  
  
 [выходной] `str`  
 Объект `CString` объект, который получает обновленный подсказку.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если указать строку текста подсказки.  
  
##  <a name="preparedrag"></a>CMFCToolBarButton::PrepareDrag  
 Вызывается инфраструктурой при выполнения операции и перетащите кнопку.  
  
```  
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `srcItem`  
 Объект `COleDataSource` объект, который хранит сведения о состоянии операции и перетаскивания.  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE`Если операция выполнена успешно; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы подготовить кнопки панели инструментов, чтобы хранить свое состоянии в предоставленном `COleDataSource` объекта. Этот метод сохраняет свое состояние с помощью сериализации сам общий файл и затем передав этот файл, чтобы [COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) метод. Дополнительные сведения о сериализации кнопки панели инструментов в разделе [CMFCToolBarButton::Serialize](#serialize).  
  
 Этот метод не выполняет никаких действий и возвращает `TRUE` Если кнопки не может быть сохранен ( [CMFCToolBarButton::CanBeStored](#canbestored) возвращает метод `FALSE`). Он возвращает `FALSE` при возникновении исключения во время сериализации объекта.  
  
 Дополнительные сведения об операциях и перетаскивания OLE, в разделе [перетаскивания и Drop (OLE)](../../mfc/drag-and-drop-ole.md).  
  
##  <a name="rect"></a>CMFCToolBarButton::Rect  
 Возвращает прямоугольник, ограничивающий кнопки.  
  
```  
const CRect& Rect() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CRect` , содержащий ограничивающий прямоугольник кнопки.  
  
##  <a name="resetimagetodefault"></a>CMFCToolBarButton::ResetImageToDefault  
 Задает значение по умолчанию изображение, связанное с кнопкой.  
  
```  
virtual void ResetImageToDefault();
```  
  
### <a name="remarks"></a>Примечания  
 Этот метод извлекает изображения по умолчанию из его родительской панели инструментов с помощью [CMFCToolBar::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) метод. Если кнопки нет никакого изображения по умолчанию, этот метод задает текст метки кнопки в соответствии с его строковый ресурс с помощью [CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) метод. Дополнительные сведения о строковых ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).  
  
 Если кнопка имеет изображения, определяемых пользователем, этот метод не выполняет никаких действий.  
  
##  <a name="savebarstate"></a>CMFCToolBarButton::SaveBarState  
 Сохраняет состояние кнопки панели инструментов.  
  
```  
virtual void SaveBarState();
```  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, когда он создает `CMFCToolBarButton` объект как результат операции и перетаскивания.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для сохранения состояния кнопки панели инструментов для внешнего источника данных.  
  
##  <a name="serialize"></a>CMFCToolBarButton::Serialize  
 Считывает этот объект из архива и записывает его в архив.  
  
```  
virtual void Serialize(CArchive& ar);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `ar`  
 `CArchive` Объект, из которого или сериализации.  
  
### <a name="remarks"></a>Примечания  
 Этот метод поддерживает процессов передачи данных, таких как буфер обмена или операции и перетаскивания. Он считывает или записывает свойства кнопок, такие как ID, текстовую метку и идентификатор изображения, или для указанных `CArchive` объекта.  
  
 Примеры сериализации см. в разделе [сериализация: сериализация объекта](../../mfc/serialization-serializing-an-object.md).  
  
##  <a name="setaccdata"></a>CMFCToolBarButton::SetACCData  
 Заполняет предоставленный `CAccessibilityData` объекта специальных возможностей данными из кнопки панели инструментов.  
  
```  
virtual BOOL SetACCData(
    CWnd* pParent,  
    CAccessibilityData& data);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pParent`  
 Родительское окно кнопки панели инструментов.  
  
 [in] `data`  
 Объект `CAccessibilityData` объект, который заполняется данными специальные кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для возврата `FALSE` Если кнопки панели инструментов не обеспечивает доступность данных.  
  
##  <a name="setclipboardformatname"></a>CMFCToolBarButton::SetClipboardFormatName  
 Переименовывает формат глобального буфера обмена.  
  
```  
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `lpszName`  
 Новое имя формата глобального буфера. Не может быть `NULL`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод выполняет операции и перетащите могут возникать в разных приложениях. Каждое приложение должно быть указано имя же формат буфера обмена.  
  
 Необходимо вызвать этот метод перед платформа вызывает функцию [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).  
  
##  <a name="setimage"></a>CMFCToolBarButton::SetImage  
 Задает индекс изображения кнопки.  
  
```  
virtual void SetImage(int iImage);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iImage`  
 Индекс изображения в коллекции изображений на панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 Если кнопка панели инструментов разделитель, `iImage` ссылается на новую ширину кнопки-разделителя.  
  
 Если `iImage` меньше нуля, этот метод отключает Рисование изображения и позволяет Рисование текста метки кнопки.  
  
##  <a name="setprotectedcommands"></a>CMFCToolBarButton::SetProtectedCommands  
 Задает список команд, которые пользователь не может настроить.  
  
```  
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `lstCmds`  
 Список защищенных команд.  
  
### <a name="remarks"></a>Примечания  
 В режиме настройки платформа отключает панель инструментов кнопки команд, которые защищены. Пользователь не может выполнять и перетащите и редактирования операции отключенных кнопок панели инструментов.  
  
 Используйте [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) защищенный метод, чтобы получить список команд.  
  
##  <a name="setradio"></a>CMFCToolBarButton::SetRadio  
 Вызывается платформой, когда кнопка изменяет состояние выбора.  
  
```  
virtual void SetRadio();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для выполнения пользовательских действий при кнопки изменяет состояние выбора.  
  
##  <a name="setrect"></a>CMFCToolBarButton::SetRect  
 Задает кнопки, ограничивающего прямоугольника.  
  
```  
void SetRect(const CRect rect);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает метод [CMFCToolBarButton::OnMove](#onmove) метод после установки нового ограничивающего прямоугольника.  
  
##  <a name="setstyle"></a>CMFCToolBarButton::SetStyle  
 Задает стиль кнопки.  
  
```  
virtual void SetStyle(UINT nStyle);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `nStyle`  
 Новый стиль кнопки.  
  
### <a name="remarks"></a>Примечания  
 Наборы данных для реализации по умолчанию [CMFCToolBarButton::m_nStyle](#m_nstyle) член данных `nStyle`. Переопределите этот метод, если требуется выполнить дополнительные операции для обработки изменений в стиле. В разделе [стили элемента управления панели инструментов](toolbar-control-styles.md) список флагов допустимое значение стиля.  
  
##  <a name="setvisible"></a>CMFCToolBarButton::SetVisible  
 Указывает, видима ли кнопка.  
  
```  
void SetVisible(BOOL bShow=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр равен `TRUE`, отображается кнопка. Если параметр является `FALSE`, кнопка является скрытой.  
  
### <a name="remarks"></a>Примечания  
 Эту функцию можно используйте для скрытия или отображения конкретной кнопки. Вызов [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метод после вызова этого метода.  
  
##  <a name="show"></a>CMFCToolBarButton::Show  
 Показывает или скрывает кнопку.  
  
```  
void Show(BOOL bShow);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр равен `TRUE`, отображается кнопка. Если параметр является `FALSE`, кнопка является скрытой.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы обновить видимость кнопок панели инструментов при изменении размера их родительской панели инструментов. Платформа вызывает этот метод с `bShow` значение `FALSE` при кнопки больше не помещается в границы элемента панели инструментов. Платформа вызывает этот метод с `bShow` значение `TRUE` при после изменения размера кнопки снова помещается в границы элемента панели инструментов.  
  
 Используйте [CMFCToolBarButton::SetVisible](#setvisible) метод, чтобы установить общие видимость кнопки.  
  
 Этот метод вызывает метод [CMFCToolBarButton::OnShow](#onshow) метод после обновления состояние видимости для кнопки.  
  
## <a name="see-also"></a>См. также  
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)   
 [Классы](../../mfc/reference/mfc-classes.md)   
 [Класс CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)   
 [Класс CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md)

