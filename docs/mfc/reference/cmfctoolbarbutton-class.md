---
title: Класс CMFCToolBarButton | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: reference
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
dev_langs:
- C++
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 7c0827bea8669743f8e0512ce2c6b1f82d978c46
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33378843"
---
# <a name="cmfctoolbarbutton-class"></a>Класс CMFCToolBarButton
Предоставляет функции кнопок панели инструментов.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CMFCToolBarButton : public CObject  
```  
  
## <a name="members"></a>Члены  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Создает и инициализирует объект `CMFCToolBarButton`.|  
|`CMFCToolBarButton::~CMFCToolBarButton`|Деструктор.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Указывает, является ли пользователь можно расположить кнопку на панели инструментов или меню во время настройки.|  
|[CMFCToolBarButton::CanBeStored](#canbestored)|Указывает, можно ли хранить кнопки.|  
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Указывает, может ли пользователь растянуть кнопки во время настройки.|  
|[CMFCToolBarButton::CompareWith](#comparewith)|Сравнивает данный экземпляр с использованием указанного `CMFCToolBarButton` объекта.|  
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Копирует свойства другой кнопки панели инструментов в текущей кнопки.|  
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Создает `CMFCToolBarButton` объекта из предоставленного `COleDataObject` объекта.|  
|`CMFCToolBarButton::CreateObject`|Используется платформой для создания динамического экземпляра этого типа класса.|  
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Разрешает или запрещает ввод с помощью мыши и клавиатуры.|  
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Копирует текст с помощью кнопки панели инструментов в меню.|  
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Получает формат глобального буфера обмена для приложения.|  
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Возвращает дескриптор окна, связанный с кнопкой панели инструментов.|  
|[CMFCToolBarButton::GetImage](#getimage)|Возвращает индекс изображения кнопки.|  
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Извлекает область клиентской области кнопки, которую требуется перерисовка.|  
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Извлекает родительское окно кнопки.|  
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Извлекает список команд, которые нельзя настроить пользователя.|  
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Получает размер текста кнопки.|  
|[CMFCToolBarButton::HasFocus](#hasfocus)|Определяет, имеет ли кнопки текущий фокус ввода.|  
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Определяет, отображается ли границы кнопки, когда пользователь выбирает кнопку.|  
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Определяет, отображается ли изображения на кнопке.|  
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Определяет, отображается ли метка текст на кнопке.|  
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Определяет, отображать ли кнопку подменю.|  
|[CMFCToolBarButton::IsEditable](#iseditable)|Определяет, можно ли настроить кнопки.|  
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Определяет отображение кнопки с расширенной границей.|  
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Определяет, является ли кнопки в первую позицию в группе кнопок.|  
|[CMFCToolBarButton::IsHidden](#ishidden)|Определяет, является ли скрытым кнопки.|  
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Определяет, находится ли кнопки на горизонтальной панели инструментов.|  
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Указывает, является ли последняя позиция в группе кнопки, кнопки.|  
|[CMFCToolBarButton::IsLocked](#islocked)|Определяет, является ли кнопки на панели инструментов заблокированные (ненастраиваемый).|  
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Определяет, является ли кнопки владельца дескриптора указанного окна.|  
|[CMFCToolBarButton::IsVisible](#isvisible)|Определяет, отображается ли кнопка панели инструментов.|  
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Определяет, видима ли базовый дескриптор окна кнопки.|  
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Указывает, обрабатывает ли кнопки [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщения.|  
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Вызывается платформой при добавлении кнопки **Настройка** диалоговое окно.|  
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Указывает, можно ли перетащить кнопки.|  
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Указывает, является ли пользователь может удалить кнопку на панель инструментов целевой.|  
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.|  
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Вызывается платформой для обработки [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщения.|  
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Вызывается платформой при вставке кнопки в панели инструментов.|  
|[CMFCToolBarButton::OnClick](#onclick)|Вызывается платформой, когда пользователь нажимает кнопку мыши.|  
|[CMFCToolBarButton::OnClickUp](#onclickup)|Вызывается платформой, когда пользователь отпускает кнопку мыши.|  
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Вызывается платформой при обработке родительского инструментов `WM_HELPHITTEST` сообщения.|  
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Вызывается платформой при обработке родительского инструментов `WM_CTLCOLOR` сообщения.|  
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Позволяет кнопку, чтобы изменить предоставленный меню, когда приложение отображает контекстное меню на панели инструментов родительской.|  
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Вызывается платформой при обработке родительского инструментов [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщения.|  
|[CMFCToolBarButton::OnDraw](#ondraw)|Вызывается платформой для отрисовки кнопки с помощью указанного стили и параметры.|  
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Вызывается платформой для отрисовки кнопки в **команды** области **Настройка** диалоговое окно.|  
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Вызывается платформой для извлечения пользовательский текст всплывающей подсказки для кнопки.|  
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Вызывается платформой при изменении глобальных шрифта.|  
|[CMFCToolBarButton::OnMove](#onmove)|Вызывается платформой при перемещении родительского инструментов.|  
|[CMFCToolBarButton::OnShow](#onshow)|Вызывается платформой при кнопка становится видимым или невидимым.|  
|[CMFCToolBarButton::OnSize](#onsize)|Вызывается платформой при инструментов родительского изменяет его размер или положение и это изменение требует кнопку, чтобы изменить размер.|  
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Вызывается платформой при инструментов родительского необходимо определить, является ли точка в ограничивающем прямоугольнике кнопки.|  
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Вызывается платформой, когда родительский инструментов обновляет его текст всплывающей подсказки.|  
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Вызывается платформой при операции перетаскивания и вставки кнопки.|  
|[CMFCToolBarButton::Rect](#rect)|Возвращает прямоугольник, ограничивающий кнопки.|  
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Задает значение по умолчанию изображение, связанное с кнопкой.|  
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Сохраняет состояние кнопки панели инструментов.|  
|[CMFCToolBarButton::Serialize](#serialize)|Считывает этот объект из архива или записывает его в архив. (Переопределяет [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|  
|[CMFCToolBarButton::SetACCData](#setaccdata)|Заполняет предоставленный `CAccessibilityData` объект с данные специальных возможностей с помощью кнопки панели инструментов.|  
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Переименовывает формат глобального буфера обмена.|  
|[CMFCToolBarButton::SetImage](#setimage)|Задает индекс изображения кнопки.|  
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Задает список команд, которые нельзя настроить пользователя.|  
|[CMFCToolBarButton::SetRadio](#setradio)|Вызывается платформой, когда кнопка изменяет состояние выбора.|  
|[CMFCToolBarButton::SetRect](#setrect)|Задает кнопки ограничивающего прямоугольника.|  
|[CMFCToolBarButton::SetStyle](#setstyle)|Задает стиль кнопки.|  
|[CMFCToolBarButton::SetVisible](#setvisible)|Указывает, отображается ли кнопка.|  
|[CMFCToolBarButton::Show](#show)|Показывает или скрывает кнопку.|  
  
### <a name="data-members"></a>Элементы данных  
  
|Имя|Описание|  
|----------|-----------------|  
|[CMFCToolBarButton::m_bImage](#m_bimage)|Указывает, отображается ли изображения на кнопке.|  
|[CMFCToolBarButton::m_bText](#m_btext)|Указывает, отображается ли метка текст на кнопке.|  
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Указывает, отображается ли текстовая метка под этим изображением на кнопке.|  
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Указывает, имеет ли кнопки изображения, определяемой пользователем.|  
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Указывает, отображаются ли кнопки его полный текст метки, даже если он не помещается в ограничивающем прямоугольнике.|  
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Указывает ли рядом с разделителем будут помещены в следующей строке.|  
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Указывает, включены ли многострочный текст метки.|  
|[CMFCToolBarButton::m_nID](#m_nid)|Идентификатор команды кнопки.|  
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|Стиль кнопки.|  
|[CMFCToolBarButton::m_strText](#m_strtext)|Текст метки кнопки.|  
  
## <a name="remarks"></a>Примечания  
 Объект `CMFCToolbarButton` объект — это элемент управления, который находится на панели инструментов. Его поведение аналогично, обычные кнопки. Этот объект можно назначить изображения и текст метки. Кнопки панели инструментов также может иметь идентификатор команды. При нажатии кнопки на панели инструментов, платформа выполняет команду, которая определяет этот идентификатор.  
  
 Как правило, можно настроить кнопки панели инструментов: пользователь можно перетаскивать кнопки с одной панели инструментов в другое и скопируйте, вставьте, удалить и изменить метки, текст и изображения. Чтобы предотвратить Настройка панели инструментов, панели инструментов можно заблокировать одним из двух способов. Либо задать `bLocked` флаг `TRUE` при вызове [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar), или добавьте идентификатор команды отдельных кнопок в глобальном списке команд, защищенных с помощью [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) метод.  
  
 `CMFCToolBarButton` объекты отображения изображений из глобальной коллекции изображений панели инструментов в приложении. Эти коллекции будут обновлены на панели инструментов родительского [CMFCToolBar класса](../../mfc/reference/cmfctoolbar-class.md). Дополнительные сведения см. в разделе [CMFCToolBarImages класса](../../mfc/reference/cmfctoolbarimages-class.md).  
  
 При нажатии кнопки панели инструментов, его родительский инструментов обрабатывает сообщение мыши и взаимодействует необходимые действия по кнопке. Если кнопка имеет идентификатор допустимой команды, родительский панель инструментов отправляет `WM_COMMAND` сообщение родительского фрейма.  
  
 `CMFCToolBarButton` Класс является базовым классом для других классов кнопки панели инструментов, таких как [класса CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), [класса CMFCToolBarEditBoxButton](../../mfc/reference/cmfctoolbareditboxbutton-class.md), и [ Класс CMFCToolBarComboBoxButton](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).  
  
## <a name="example"></a>Пример  
 Следующий пример демонстрирует способы настройки `CMFCToolBarButton` с использованием различных методов `CMFCToolBarButton` класса. Пример демонстрирует включение мыши и ввода с клавиатуры, задать индекс изображения кнопки, ограничивающий прямоугольник кнопки и кнопка видимой. Этот фрагмент кода является частью [управления "Вкладка" Образец](../../visual-cpp-samples.md).  
  
 [!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]  
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxtoolbarbutton.h  
  
##  <a name="canbedropped"></a>  CMFCToolBarButton::CanBeDropped  
 Указывает, является ли пользователь можно расположить кнопку на панели инструментов или меню во время настройки.  
  
```  
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pToolbar`  
 Не используется.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 По умолчанию кнопки панели инструментов могут быть удалены на каждый настраиваемый (то есть незаблокированными) панели инструментов.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод и возвращать `FALSE` Если вы хотите запретить пользователям изменять положение кнопки.  
  
##  <a name="canbestored"></a>  CMFCToolBarButton::CanBeStored  
 Определяет, можно ли хранить кнопки.  
  
```  
virtual BOOL CanBeStored() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа использует этот метод для определения, может ли кнопки участвовать в операции перетаскивания и вставки.  
  
 Реализация по умолчанию возвращает значение `TRUE`. Переопределите этот метод, если кнопки не может быть сохранен как часть операции перетаскивания и вставки. Дополнительные сведения об операциях и перетащите см. в разделе [перетаскивания и Drop (OLE)](../../mfc/drag-and-drop-ole.md).  
  
##  <a name="canbestretched"></a>  CMFCToolBarButton::CanBeStretched  
 Указывает, может ли пользователь растянуть кнопки во время настройки.  
  
```  
virtual BOOL CanBeStretched() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод используется платформой, чтобы определить, может ли быть растянуто кнопки в режим настройки.  
  
 Реализация по умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` для элемента управления переменной ширины, например, поле со списком или ползунок.  
  
 Дополнительные сведения о режиме настройки см. в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).  
  
##  <a name="cmfctoolbarbutton"></a>  CMFCToolBarButton::CMFCToolBarButton  
 Создает и инициализирует объект `CMFCToolBarButton`.  
  
```  
CMFCToolBarButton(
    UINT uiID,  
    int iImage,  
    LPCTSTR lpszText=NULL,  
    BOOL bUserButton=FALSE,  
    BOOL bLocked=FALSE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `uiID`  
 Идентификатор команды кнопки.  
  
 [in] `iImage`  
 Индекс изображения кнопки в коллекции образов.  
  
 [in] `lpszText`  
 Текст метки кнопки. Может быть `NULL`.  
  
 [in] `bUserButton`  
 Логическое значение, определяющее кнопку, определяемой пользователем. Если этот параметр равен `TRUE`, кнопки определяется пользователем. В противном случае это изображение кнопки загружается из ресурса.  
  
 [in] `bLocked`  
 Логическое значение, определяющее, можно ли настроить кнопки. Если этот параметр равен `TRUE`, не может быть настроено кнопки. В противном случае можно настроить кнопки.  
  
##  <a name="comparewith"></a>  CMFCToolBarButton::CompareWith  
 Сравнивает данный экземпляр с использованием указанного `CMFCToolBarButton` объекта.  
  
```  
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;  
```  
  
### <a name="parameters"></a>Параметры  
 [in] `other`  
 Ссылка на объект, сравниваемый с этим экземпляром.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если указанный объект равен значению данного экземпляра; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию определяет, равен ли идентификатор команды, предоставленного объекта идентификатор команды этого экземпляра. Переопределите этот метод, если необходимо выполнить дополнительную обработку для определения двух `CMFCToolBarButton` объекты равны.  
  
##  <a name="copyfrom"></a>  CMFCToolBarButton::CopyFrom  
 Копирует свойства другой кнопки панели инструментов в текущей кнопки.  
  
```  
virtual void CopyFrom(const CMFCToolBarButton& src);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `src`  
 Ссылка «источник» из которого выполняется копирование.  
  
### <a name="remarks"></a>Примечания  
 Этот метод используется для копирования другую кнопку эта кнопка панели инструментов.  
  
##  <a name="createfromoledata"></a>  CMFCToolBarButton::CreateFromOleData  
 Создает `CMFCToolBarButton` объекта из предоставленного `COleDataObject` объекта.  
  
```  
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDataObject`  
 Объект источника данных OLE.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Созданный модуль чтения `CMFCToolBarButton`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод используется платформой для передачи данных в различных форматах. Например `CMFCOutlookBarPane::OnDragOver` метод использует этот метод для выполнения операций перетаскивания и вставки.  
  
##  <a name="enablewindow"></a>  CMFCToolBarButton::EnableWindow  
 Разрешает или запрещает ввод с помощью мыши и клавиатуры.  
  
```  
virtual void EnableWindow(BOOL bEnable = TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bEnable`  
 Присвойте этому параметру значение `TRUE` Включение входных данных, или к `FALSE` отключение входных данных.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает метод `EnableWindow` функции, чтобы включить или отключить входных данных. Дополнительные сведения см. в разделе [EnableWindow](http://msdn.microsoft.com/library/windows/desktop/ms646291) в Windows SDK.  
  
##  <a name="exporttomenubutton"></a>  CMFCToolBarButton::ExportToMenuButton  
 Копирует текст с помощью кнопки панели инструментов в меню.  
  
```  
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;  
```  
  
### <a name="parameters"></a>Параметры  
 [in] `menuButton`  
 Ссылка на целевой кнопкой меню.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы скопировать текст кнопки панели инструментов кнопки меню. Реализация по умолчанию копирует текстовой метки кнопки. Если текстовая метка пуст, этот метод копирует текст подсказки для кнопки.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод, если вы хотите выполнять дополнительные действия, когда платформа преобразует объект, который является производным от [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) для кнопки меню.  
  
##  <a name="getclipboardformat"></a>  CMFCToolBarButton::GetClipboardFormat  
 Получает формат глобального буфера обмена для приложения.  
  
```  
static CLIPFORMAT __stdcall GetClipboardFormat();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Глобальный `CLIPFORMAT` значение для приложения.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для извлечения формат буфера обмена для операций передачи данных OLE. Например [CMFCToolBarButton::CreateFromOleData](#createfromoledata) метод использует этот метод для копирования данных из исходного объекта данных OLE.  
  
 Этот метод устанавливает глобальный `CLIPFORMAT` значение при первом вызове этого метода. Все последующие вызовы этого метода возвращают это значение.  
  
 Чтобы разрешить операции перетаскивания и вставки между приложениями, вызовите [CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname) метод.  
  
 Дополнительные сведения о буферы обмена в MFC см. в разделе [буфер обмена](../../mfc/clipboard.md).  
  
##  <a name="gethwnd"></a>  CMFCToolBarButton::GetHwnd  
 Возвращает дескриптор окна, связанный с кнопкой панели инструментов.  
  
```  
virtual HWND GetHwnd();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор окна, связанный с кнопкой панели инструментов или `NULL` Если ни один дескриптор соответствующее окно кнопки панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает `NULL`. Переопределите этот метод, чтобы возвратить дескриптор окна для конкретного элемента управления.  
  
##  <a name="getimage"></a>  CMFCToolBarButton::GetImage  
 Возвращает индекс изображения кнопки.  
  
```  
int GetImage() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс изображения, связанного с этой кнопки.  
  
### <a name="remarks"></a>Примечания  
 Если кнопка имеет изображения, определяемые пользователем (то есть, если `bUserButton` был `TRUE` в конструкторе), возвращаемый индекс указывает образ в коллекцию пользовательских изображений (см. [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). В противном случае индекс указывает образ в коллекции образов, которые загружаются из файла ресурсов (в разделе [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Дополнительные сведения о файлах ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).  
  
##  <a name="getinvalidaterect"></a>  CMFCToolBarButton::GetInvalidateRect  
 Извлекает область клиентской области кнопки, которую требуется перерисовка.  
  
```  
virtual const CRect GetInvalidateRect() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CRect` , указывающий региона, в который требуется перерисовка.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает всю клиентскую область. Переопределите этот метод, если требуется другой области перерисовку.  
  
##  <a name="getparentwnd"></a>  CMFCToolBarButton::GetParentWnd  
 Извлекает родительское окно кнопки.  
  
```  
CWnd* GetParentWnd() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Родительское окно кнопки.  
  
##  <a name="getprotectedcommands"></a>  CMFCToolBarButton::GetProtectedCommands  
 Извлекает список команд, которые нельзя настроить пользователя.  
  
```  
static const CList<UINT,UINT>& GetProtectedCommands();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Список защищенных команд.  
  
### <a name="remarks"></a>Примечания  
 В режиме настройки платформа отключает панель инструментов кнопки команд, которые защищены. Пользователь не может выполнять и перетащите и редактирования операции отключенных кнопок панели инструментов.  
  
 Используйте [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) метод, чтобы задать список защищенных команд.  
  
##  <a name="gettextsize"></a>  CMFCToolBarButton::GetTextSize  
 Получает размер текста кнопки.  
  
```  
SIZE GetTextSize() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `SIZE` , содержащий размер в пикселях текста кнопки.  
  
##  <a name="hasfocus"></a>  CMFCToolBarButton::HasFocus  
 Определяет, имеет ли кнопки текущий фокус ввода.  
  
```  
virtual BOOL HasFocus() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если эта кнопка имеет фокус ввода; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает ненулевое значение, если кнопке фокус ввода или является окном дочернего или потомка окна, которое имеет фокус ввода. Можно переопределить эту функцию для настройки этого поведения.  
  
##  <a name="havehotborder"></a>  CMFCToolBarButton::HaveHotBorder  
 Определяет, отображается ли границы кнопки, когда пользователь выбирает кнопку.  
  
```  
virtual BOOL HaveHotBorder() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для определения, должен ли граница при выборе пользователем отображать кнопки на панели инструментов.  
  
 Реализация по умолчанию возвращает значение `TRUE`. Можно переопределить этот метод для настройки этого поведения.  
  
##  <a name="isdrawimage"></a>  CMFCToolBarButton::IsDrawImage  
 Определяет, отображается ли изображения на кнопке.  
  
```  
BOOL IsDrawImage() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если изображение для кнопки. в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает `FALSE` Если нет связанное изображение кнопки панели инструментов ( [CMFCToolBarButton::GetImage](#getimage) возвращает -1) или если [CMFCToolBarButton::m_bImage](#m_bimage) равно `FALSE`.  
  
##  <a name="isdrawtext"></a>  CMFCToolBarButton::IsDrawText  
 Определяет, отображается ли метка текст на кнопке.  
  
```  
BOOL IsDrawText() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если отображается текстовая метка; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает `FALSE` Если кнопки панели инструментов не имеет связанного текста метки ( [CMFCToolBarButton::m_strText](#m_strtext) пусто) или [CMFCToolBarButton::m_bText](#m_btext) равно `FALSE`.  
  
##  <a name="isdroppeddown"></a>  CMFCToolBarButton::IsDroppedDown  
 Определяет, отображать ли кнопку подменю.  
  
```  
virtual BOOL IsDroppedDown() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` Если элемент управления отображает подменю.  
  
##  <a name="iseditable"></a>  CMFCToolBarButton::IsEditable  
 Определяет, можно ли настроить кнопки.  
  
```  
virtual BOOL IsEditable() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка может настраиваться пользователем; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для определения, может ли пользователь настраивать кнопки панели инструментов с помощью перетаскивания и вставки или операции изменения.  
  
 Реализация по умолчанию возвращает `FALSE` Если идентификатор команды кнопки стандартную команду (это можно определить, вызвав `IsStandardCommand` функции) или команды, идентификатор присутствует в списке защищенных команд. Дополнительные сведения о защищенных командах см. в разделе [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) и [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).  
  
 Переопределите этот метод, чтобы настроить ее поведение.  
  
##  <a name="isextrasize"></a>  CMFCToolBarButton::IsExtraSize  
 Определяет отображение кнопки с расширенной границей.  
  
```  
virtual BOOL IsExtraSize() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопки панели инструментов могут отображаться с расширенной границей; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Дополнительный объем использовать несколько обложки для границы кнопок панели инструментов (например, round кнопки).  
  
 Если пользователь меняет этой кнопки с одной панели инструментов, платформа вызывает [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод. [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод устанавливает флаг дополнительный объем, новая панель инструментов родительского (Дополнительные сведения см. в разделе [CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).  
  
##  <a name="isfirstingroup"></a>  CMFCToolBarButton::IsFirstInGroup  
 Определяет, является ли кнопки в первую позицию в группе кнопок.  
  
```  
virtual BOOL IsFirstInGroup() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE` Если кнопка первой кнопки в группе кнопок; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод определяет *группы* как соседние набор кнопок, которые располагаются в той же строке и ограничен разделители или границы панели инструментов. Этот метод возвращает `FALSE` Если кнопки панели инструментов ссылается на **Настройка** кнопки. Дополнительные сведения о **Настройка** кнопку см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).  
  
 Вызовите [CMFCToolBarButton::IsLastInGroup](#islastingroup) метод, чтобы определить, является ли кнопки на последнем месте в группе кнопок.  
  
##  <a name="ishidden"></a>  CMFCToolBarButton::IsHidden  
 Определяет, является ли скрытым кнопки.  
  
```  
BOOL IsHidden() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка является скрытой (невидимый); в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод при инструментов родительского растягивается на определяют, видима ли кнопки панели инструментов.  
  
 Если задать это кнопку, чтобы быть скрытым с помощью [CMFCToolBarButton::SetVisible](#setvisible) используйте [CMFCToolBarButton::IsVisible](#isvisible) для определения того, отображается ли кнопка панели инструментов.  
  
 По умолчанию отображаются все кнопки панели инструментов. Используйте [CMFCToolBarButton::Show](#show) метод, чтобы скрыть или Показать кнопки панели инструментов.  
  
##  <a name="ishorizontal"></a>  CMFCToolBarButton::IsHorizontal  
 Определяет, находится ли кнопки на горизонтальной панели инструментов.  
  
```  
BOOL IsHorizontal() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопке панели инструментов расположены на горизонтальной панели инструментов; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить расположение кнопок панели инструментов.  
  
 Этот метод возвращает `m_bHorz` элемент данных. Значение по умолчанию `m_bHorz` член данных — `TRUE`; он сбрасывается при каждом вызове [CMFCToolBarButton::OnDraw](#ondraw) метод.  
  
##  <a name="islastingroup"></a>  CMFCToolBarButton::IsLastInGroup  
 Указывает, является ли последняя позиция в группе кнопки, кнопки.  
  
```  
virtual BOOL IsLastInGroup() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE` Если кнопка последней кнопки в группе кнопок; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод определяет *группы* как соседние набор кнопок, которые располагаются в той же строке и ограничен разделители или границы панели инструментов, этот метод возвращает `FALSE` Если кнопки панели инструментов не имеет родителя панели инструментов или кнопки на панели инструментов означает **Настройка** кнопки. Дополнительные сведения о **Настройка** кнопку см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).  
  
 Вызовите [CMFCToolBarButton::IsFirstInGroup](#isfirstingroup) метод, чтобы определить, является ли кнопки в первую позицию в группе кнопок.  
  
##  <a name="islocked"></a>  CMFCToolBarButton::IsLocked  
 Определяет, является ли кнопки на панели инструментов заблокированные (ненастраиваемый).  
  
```  
BOOL IsLocked() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка находится в заблокированном панели инструментов; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод для определения, может ли пользователь настраивать кнопки панели инструментов с помощью перетаскивания и вставки или операции изменения. Присвойте атрибуту заблокированный родительский инструментов с помощью [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) метод. Платформа передает значение этого атрибута в конструктор все кнопки панели инструментов ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)), он помещает в панели инструментов родительского.  
  
##  <a name="isownerof"></a>  CMFCToolBarButton::IsOwnerOf  
 Определяет, является ли кнопки владельца дескриптора указанного окна.  
  
```  
virtual BOOL IsOwnerOf(HWND hwnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `hwnd`  
 Дескриптор окна.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если кнопка владельца дескриптора указанного окна; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает ненулевое значение, если `hwnd` ссылается на дескриптор окна прямой или является потомком дескриптор окна, связанный с кнопкой. Этот метод возвращает 0, если `hwnd` — `NULL`.  
  
##  <a name="isvisible"></a>  CMFCToolBarButton::IsVisible  
 Определяет, отображается ли кнопка панели инструментов.  
  
```  
BOOL IsVisible() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если отображается кнопка панели инструментов; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Можно отобразить или скрыть кнопку панели инструментов с помощью [CMFCToolBarButton::SetVisible](#setvisible) метод. Вызовите [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метода на панели инструментов родительской после вызова метода [CMFCToolBarButton::SetVisible](#setvisible) повторно вычислять макет панели инструментов родительского.  
  
##  <a name="iswindowvisible"></a>  CMFCToolBarButton::IsWindowVisible  
 Определяет, видима ли базовый дескриптор окна кнопки.  
  
```  
virtual BOOL IsWindowVisible();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если базовый дескриптор окна кнопки является видимым. в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Этот метод возвращает ненулевое значение, если атрибут стили базовый дескриптор окна содержит `WS_VISIBLE` стиля. Этот метод возвращает `FALSE` Если базовый дескриптор окна кнопки `NULL`.  
  
##  <a name="m_bimage"></a>  CMFCToolBarButton::m_bImage  
 Указывает, отображается ли изображения на кнопке.  
  
```  
BOOL m_bImage;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных имеет значение `TRUE`, платформа отображает изображение, связанное с кнопкой панели инструментов; в противном случае платформа не отображает изображение. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bImage](#m_bimage) метод.  
  
##  <a name="m_btext"></a>  CMFCToolBarButton::m_bText  
 Указывает, отображается ли метка текст на кнопке.  
  
```  
BOOL m_bText;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных имеет значение `TRUE`, платформа отображает текстовую подпись кнопки панели инструментов; в противном случае платформа не отображается текстовая метка. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bText](#m_btext) метод.  
  
##  <a name="m_btextbelow"></a>  CMFCToolBarButton::m_bTextBelow  
 Указывает, отображается ли текстовая метка под этим изображением на кнопке.  
  
```  
BOOL m_bTextBelow;  
```  
  
### <a name="remarks"></a>Примечания  
 Если имеет значение этой переменной-члена `TRUE`, платформа отображает текст кнопки под этим изображением. Значение по умолчанию для этого элемента — `FALSE`.  
  
##  <a name="m_buserbutton"></a>  CMFCToolBarButton::m_bUserButton  
 Указывает, имеет ли кнопки изображения, определяемые пользователем  
  
```  
BOOL m_bUserButton;  
```  
  
### <a name="remarks"></a>Примечания  
 Этот элемент данных имеет значение `TRUE` при кнопка имеет пользовательские изображения, связанные с ним.  
  
##  <a name="m_bwholetext"></a>  CMFCToolBarButton::m_bWholeText  
 Указывает, отображаются ли кнопки его полный текст метки, даже если он не помещается в ограничивающем прямоугольнике.  
  
```  
BOOL m_bWholeText;  
```  
  
### <a name="remarks"></a>Примечания  
 Если этот элемент данных имеет значение `TRUE`, платформа отображает полный текст метки путем увеличения кнопки. В противном случае платформа усекает и добавляет кнопку с многоточием ( **...** ) к метке.  
  
##  <a name="m_bwrap"></a>  CMFCToolBarButton::m_bWrap  
 Указывает ли рядом с разделителем будут помещены в следующей строке.  
  
```  
BOOL m_bWrap;  
```  
  
### <a name="remarks"></a>Примечания  
 Этот элемент данных задает платформу `TRUE` при кнопки панели инструментов не помещается на текущей строке или при задании макета (например, определенных число кнопок панели инструментов в одной строке).  
  
 Платформа помещает эту кнопку, в следующей строке, если этот элемент данных имеет значение `TRUE` и панели инструментов, закрепленной по горизонтали или с плавающей запятой.  
  
 Значение по умолчанию для этого элемента данных — `FALSE`.  
  
##  <a name="m_bwraptext"></a>  CMFCToolBarButton::m_bWrapText  
 Указывает, включены ли многострочный текст метки.  
  
```  
AFX_IMPORT_DATA static BOOL m_bWrapText;  
```  
  
### <a name="remarks"></a>Примечания  
 При этом статической переменной-члена `TRUE`, платформа включает все панели инструментов для отображения меток многострочный текст кнопки панели инструментов.  
  
 Значение по умолчанию для этого элемента данных — `FALSE`.  
  
##  <a name="m_nid"></a>  CMFCToolBarButton::m_nID  
 Идентификатор команды кнопки.  
  
```  
UINT m_nID;  
```  
  
### <a name="remarks"></a>Примечания  
 ИД команды-1 указывает на кнопку разделителя. Все кнопки разделители `TBBS_SEPARATOR` стиля. В разделе [CMFCToolBarButton::m_nStyle](#m_nstyle) Дополнительные сведения о стилях кнопки.  
  
##  <a name="m_nstyle"></a>  CMFCToolBarButton::m_nStyle  
 Стиль кнопки.  
  
```  
UINT m_nStyle;  
```  
  
### <a name="remarks"></a>Примечания  
 В разделе [стили элемента управления панель инструментов](../../mfc/reference/toolbar-control-styles.md) список стилей кнопок панели инструментов доступны.  
  
##  <a name="m_strtext"></a>  CMFCToolBarButton::m_strText  
 Текст метки кнопки.  
  
```  
CString m_strText;  
```  
  
### <a name="remarks"></a>Примечания  
 Этот элемент данных содержит метку, текст кнопки. Текстовая метка может быть пустым.  
  
##  <a name="notifycommand"></a>  CMFCToolBarButton::NotifyCommand  
 Указывает, обрабатывает ли кнопки [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщения.  
  
```  
virtual BOOL NotifyCommand(int iNotifyCode);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iNotifyCode`  
 Сообщение уведомления, связанный с командой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой при намерении отправки [WM_COMMAND](http://msdn.microsoft.com/library/windows/desktop/ms647591) сообщение родительского окна.  
  
 По умолчанию этот метод возвращает `FALSE`. Переопределите этот метод для возврата `TRUE` Если вам требуется обрабатывать `WM_COMMAND` сообщения или `FALSE` для указания, что родительский инструментов должна обрабатывать сообщения.  
  
##  <a name="onaddtocustomizepage"></a>  CMFCToolBarButton::OnAddToCustomizePage  
 Вызывается платформой при добавлении кнопки **Настройка** диалоговое окно.  
  
```  
virtual void OnAddToCustomizePage();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, если требуется выполнить какое-либо действие, при добавлении кнопки **Настройка** диалоговое окно.  
  
##  <a name="onbeforedrag"></a>  CMFCToolBarButton::OnBeforeDrag  
 Указывает, можно ли перетащить кнопки.  
  
```  
virtual BOOL OnBeforeDrag() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE` Если можно перетащить кнопки; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой, прежде чем пользователь начинает перетаскивать кнопку.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод для возврата `FALSE` отключение перетаскивания кнопки.  
  
##  <a name="onbeforedrop"></a>  CMFCToolBarButton::OnBeforeDrop  
 Указывает, является ли пользователь может удалить кнопку на панель инструментов целевой.  
  
```  
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pTarget`  
 Целевой объект операции перетаскивания и вставки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE` Если можно перетащить кнопки в панели инструментов с заданным целевым объектом. в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой перед удалением кнопки на панель инструментов.  
  
 Реализация по умолчанию этот метод возвращает `TRUE`. Переопределите этот метод для возврата `FALSE` отключение операция перетаскивания на заданной цели.  
  
##  <a name="oncalculatesize"></a>  CMFCToolBarButton::OnCalculateSize  
 Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.  
  
```  
virtual SIZE OnCalculateSize(
    CDC* pDC,  
    const CSize& sizeDefault,  
    BOOL bHorz);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `sizeDefault`  
 По умолчанию размер кнопки.  
  
 [in] `bHorz`  
 Состояние закрепления панели инструментов родительского. Этот параметр является `TRUE` Если панель закреплена горизонтально или является перемещаемой или `FALSE` Если закрепления панели инструментов по вертикали.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `SIZE` структуру, содержащую размеры кнопки, в пикселях.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы определить размер кнопки панели инструментов для заданного контекста устройств и закрепление состояния.  
  
 Реализация по умолчанию считает, что размеры text и image (если они отображаются), text и image позиций (текст ниже или в правой части изображения) и панель инструментов закрепить состояние.  
  
 Переопределите этот метод, если вы хотите предоставить размер стандартным кнопки (например, кнопку «Изменить поле»).  
  
##  <a name="oncancelmode"></a>  CMFCToolBarButton::OnCancelMode  
 Вызывается платформой для обработки [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщения.  
  
```  
virtual void OnCancelMode();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, если требуется обрабатывать [WM_CANCELMODE](http://msdn.microsoft.com/library/windows/desktop/ms632615) сообщения.  
  
##  <a name="onchangeparentwnd"></a>  CMFCToolBarButton::OnChangeParentWnd  
 Вызывается платформой при вставке кнопки в панели инструментов.  
  
```  
virtual void OnChangeParentWnd(CWnd* pWndParent);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWndParent`  
 Новый родительского окна.  
  
### <a name="remarks"></a>Примечания  
 Кнопка будет вставлена в панель инструментов, например, когда пользователь перетаскивает его с одной панели инструментов на другую панель инструментов.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий.  
  
##  <a name="onclick"></a>  CMFCToolBarButton::OnClick  
 Вызывается платформой, когда пользователь нажимает кнопку мыши.  
  
```  
virtual BOOL OnClick(
    CWnd* pWnd,  
    BOOL bDelay=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки панели инструментов.  
  
 [in] `bDelay`  
 `TRUE` Если сообщения должны обрабатываться с задержкой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой при нажатии кнопки на панели инструментов.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопке обрабатывает сообщение нажмите кнопку.  
  
##  <a name="onclickup"></a>  CMFCToolBarButton::OnClickUp  
 Вызывается платформой, когда пользователь отпускает кнопку мыши.  
  
```  
virtual BOOL OnClickUp();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой, когда пользователь отпускает кнопку панели инструментов.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопке обрабатывает сообщение нажмите кнопку.  
  
##  <a name="oncontexthelp"></a>  CMFCToolBarButton::OnContextHelp  
 Вызывается платформой при обработке родительского инструментов `WM_HELPHITTEST` сообщения.  
  
```  
virtual BOOL OnContextHelp(CWnd* pWnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод, чтобы вернуть ненулевое значение, если кнопке обрабатывает сообщение справки.  
  
 Дополнительные сведения о `WM_HELPHITTEST` сообщений см. в разделе [TN028: поддержка справки контекстно-зависимые](../../mfc/tn028-context-sensitive-help-support.md).  
  
##  <a name="onctlcolor"></a>  CMFCToolBarButton::OnCtlColor  
 Вызывается платформой при обработке родительского инструментов `WM_CTLCOLOR` сообщения.  
  
```  
virtual HBRUSH OnCtlColor(
    CDC* pDC,  
    UINT nCtlColor);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `nCtlColor`  
 Уведомление конкретного цвета.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор объекта кисти, платформа использует в качестве фона кнопки.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод при обработке родительского инструментов `WM_CTLCOLOR` сообщение для кнопки панели инструментов, которая содержит элемент управления Windows. Платформа не вызывайте этот метод, если кнопки панели инструментов без окон.  
  
 Платформа вызывает этот метод при инструментов framework устанавливается в режим настройки и разблокирован кнопки панели инструментов. Дополнительные сведения о режиме настройки см. в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Дополнительные сведения о блокировке кнопки панели инструментов см. в разделе [CMFCToolBarButton::IsLocked](#islocked).  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `NULL`.  
  
##  <a name="oncustomizemenu"></a>  CMFCToolBarButton::OnCustomizeMenu  
 Позволяет кнопку, чтобы изменить предоставленный меню, когда приложение отображает контекстное меню на панели инструментов родительской.  
  
```  
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pMenu`  
 Меню для настройки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод и возвращает ненулевое значение, если нужно изменить содержимое предоставленного меню.  
  
##  <a name="ondblclk"></a>  CMFCToolBarButton::OnDblClk  
 Вызывается платформой при обработке родительского инструментов [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщения.  
  
```  
virtual void OnDblClk(CWnd* pWnd);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 -   Родительское окно кнопки.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается методом `CMFCToolBar::OnLButtonDblClk` метод при обработке родительского инструментов [WM_LBUTTONDBLCLK](http://msdn.microsoft.com/library/windows/desktop/ms645606) сообщения.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий.  
  
##  <a name="ondraw"></a>  CMFCToolBarButton::OnDraw  
 Вызывается платформой для отрисовки кнопки с помощью указанного стили и параметры.  
  
```  
virtual void OnDraw(
    CDC* pDC,  
    const CRect& rect,  
    CMFCToolBarImages* pImages,  
    BOOL bHorz=TRUE,  
    BOOL bCustomizeMode=FALSE,  
    BOOL bHighlight=FALSE,  
    BOOL bDrawBorder=TRUE,  
    BOOL bGrayDisabledButtons=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
 [in] `pImages`  
 Коллекция изображений панели инструментов, связанный с кнопкой.  
  
 [in] `bHorz`  
 Состояние закрепления панели инструментов родительского. Этот параметр является `TRUE` при кнопки закреплена горизонтально и `FALSE` когда кнопки подключено по вертикали.  
  
 [in] `bCustomizeMode`  
 Указывает, является ли панель инструментов в режим настройки. Этот параметр является `TRUE` Если панель инструментов находится в режим настройки и `FALSE` при панели инструментов не находится в режиме настройки.  
  
 [in] `bHighlight`  
 Указывает, выделяется ли кнопки. Этот параметр является `TRUE` при выделенной кнопки и `FALSE` при кнопки не выделяется.  
  
 [in] `bDrawBorder`  
 Указывает, следует ли отображать ее границы кнопки. Этот параметр является `TRUE` при кнопку отображать границу и `FALSE` при кнопки не должны отображать его границу.  
  
 [in] `bGrayDisabledButtons`  
 Указывает, следует ли затенять отключенных кнопок или использовать коллекции изображений отключено. Этот параметр является `TRUE` при отключенных кнопок должна быть затенена и `FALSE` при отключенном изображения коллекцию следует использовать этот метод.  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для настройки панели инструментов кнопку рисования.  
  
##  <a name="ondrawoncustomizelist"></a>  CMFCToolBarButton::OnDrawOnCustomizeList  
 Вызывается платформой для отрисовки кнопки в **команды** области **Настройка** диалоговое окно.  
  
```  
virtual int OnDrawOnCustomizeList(
    CDC* pDC,  
    const CRect& rect,  
    BOOL bSelected);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pDC`  
 Контекст устройства, который отображает кнопки.  
  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
 [in] `bSelected`  
 Указывает, выбран ли кнопки. Если этот параметр равен `TRUE`, выборе этой кнопки. Если этот параметр равен `FALSE`, кнопка не выбрана.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ширина в пикселях кнопки в заданном контексте устройства.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается с помощью диалогового окна настройки ( **команды** вкладка) при кнопки собирается отображения в окне списка рисуемый владельцем.  
  
 Реализация этого метода по умолчанию отображается метка изображение и текст кнопки, если они доступны. Если текстовая метка кнопки недоступна, метод отображает текст всплывающей подсказки.  
  
 Переопределите этот метод для выполнения нестандартных операций рисования.  
  
##  <a name="ongetcustomtooltiptext"></a>  CMFCToolBarButton::OnGetCustomToolTipText  
 Вызывается платформой для извлечения пользовательский текст всплывающей подсказки для кнопки.  
  
```  
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```  
  
### <a name="parameters"></a>Параметры  
 [выходной] `strToolTip`  
 Объект `CString` объект, получающий пользовательский текст всплывающей подсказки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой при отображении всплывающей подсказки для кнопки панели инструментов. Если этот метод возвращает `FALSE`, платформа использует подсказку по умолчанию.  
  
 Реализация по умолчанию не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод и возвращает ненулевое значение, чтобы предоставить пользовательский текст всплывающей подсказки для кнопки панели инструментов.  
  
##  <a name="onglobalfontschanged"></a>  CMFCToolBarButton::OnGlobalFontsChanged  
 Вызывается платформой при изменении глобальных шрифта.  
  
```  
virtual void OnGlobalFontsChanged();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для обновления шрифт, используемый для отображения текста кнопки.  
  
##  <a name="onmove"></a>  CMFCToolBarButton::OnMove  
 Вызывается платформой при перемещении родительского инструментов.  
  
```  
virtual void OnMove();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для изменения положения кнопку при перемещении родительского инструментов.  
  
##  <a name="onshow"></a>  CMFCToolBarButton::OnShow  
 Вызывается платформой при кнопка становится видимым или невидимым.  
  
```  
virtual void OnShow(BOOL bShow);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Указывает, отображается ли кнопка. Если этот параметр равен `TRUE`, то кнопка отображается. В противном случае кнопка не отображается.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для обновления видимость кнопки.  
  
##  <a name="onsize"></a>  CMFCToolBarButton::OnSize  
 Вызывается платформой при инструментов родительского изменяет его размер или положение и это изменение приводит к изменить размер кнопки.  
  
```  
virtual void OnSize(int iSize);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iSize`  
 Новая ширина кнопки.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы изменить размер кнопки при изменении размера или положения родительского панели инструментов.  
  
##  <a name="ontoolhittest"></a>  CMFCToolBarButton::OnToolHitTest  
 Вызывается платформой при инструментов родительского необходимо определить, является ли точка в ограничивающем прямоугольнике кнопки.  
  
```  
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,  
    TOOLINFO* pTI);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWnd`  
 Родительское окно кнопки. Может быть `NULL`.  
  
 [in] `pTI`  
 Объект `TOOLINFO` структуру, содержащую сведения о средстве в элементе управления всплывающей подсказки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Результат `OnMenuButtonToolHitTest` Если кнопке можно получить указатель на родительское окно фрейма; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает один из следующих методов, если он может преобразовать объект допустимым кадра родительского окна:  
  
- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)  
  
- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)  
  
- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)  
  
##  <a name="onupdatetooltip"></a>  CMFCToolBarButton::OnUpdateToolTip  
 Вызывается платформой, когда родительский инструментов обновляет его текст всплывающей подсказки.  
  
```  
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,  
    int iButtonIndex,  
    CToolTipCtrl& wndToolTip,  
    CString& str);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pWndParent`  
 Родительское окно.  
  
 [in] `iButtonIndex`  
 Отсчитываемый от нуля индекс кнопки в родительской коллекции кнопки.  
  
 [in] `wndToolTip`  
 Элемент управления, отображающий текст всплывающей подсказки.  
  
 [выходной] `str`  
 Объект `CString` объект, получающий обновленный подсказка.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий и возвращает `FALSE`. Переопределите этот метод для возврата ненулевое значение, если указать строку текста всплывающей подсказки.  
  
##  <a name="preparedrag"></a>  CMFCToolBarButton::PrepareDrag  
 Вызывается платформой при операции перетаскивания и вставки кнопки.  
  
```  
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `srcItem`  
 Объект `COleDataSource` объект, который хранит сведения о состоянии об операции перетаскивания и вставки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 `TRUE` Если операция выполнена успешно; в противном случае `FALSE`.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы подготовить кнопки панели инструментов для хранения состояния в предоставленном `COleDataSource` объекта. Этот метод сохраняет свое состояние, сериализацию самого общего файла и затем передав этот файл, чтобы [COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) метод. Дополнительные сведения о сериализации кнопки панели инструментов см. в разделе [CMFCToolBarButton::Serialize](#serialize).  
  
 Этот метод не выполняет никаких действий и возвращает `TRUE` Если кнопке невозможно сохранить ( [CMFCToolBarButton::CanBeStored](#canbestored) возвращает метод `FALSE`). Он возвращает `FALSE` при возникновении исключения во время сериализации объекта.  
  
 Дополнительные сведения об операциях и перетащите OLE см. в разделе [перетаскивания и Drop (OLE)](../../mfc/drag-and-drop-ole.md).  
  
##  <a name="rect"></a>  CMFCToolBarButton::Rect  
 Возвращает прямоугольник, ограничивающий кнопки.  
  
```  
const CRect& Rect() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CRect` , содержащий ограничивающий прямоугольник кнопки.  
  
##  <a name="resetimagetodefault"></a>  CMFCToolBarButton::ResetImageToDefault  
 Задает значение по умолчанию изображение, связанное с кнопкой.  
  
```  
virtual void ResetImageToDefault();
```  
  
### <a name="remarks"></a>Примечания  
 Этот метод получает изображение по умолчанию из его родительских панели инструментов с помощью [CMFCToolBar::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) метод. Если кнопка имеет изображение не по умолчанию, этот метод задает текстовую подпись кнопки в соответствии с его строковый ресурс с помощью [CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) метод. Дополнительные сведения о строковых ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).  
  
 Если кнопка имеет изображения, определяемых пользователем, этот метод не выполняет никаких действий.  
  
##  <a name="savebarstate"></a>  CMFCToolBarButton::SaveBarState  
 Сохраняет состояние кнопки панели инструментов.  
  
```  
virtual void SaveBarState();
```  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывается платформой при создании `CMFCToolBarButton` объект как результат операции перетаскивания и вставки.  
  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы сохранить состояние кнопки панели инструментов с внешним источником данных.  
  
##  <a name="serialize"></a>  CMFCToolBarButton::Serialize  
 Считывает этот объект из архива или записывает его в архив.  
  
```  
virtual void Serialize(CArchive& ar);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `ar`  
 `CArchive` Объект, из которого или сериализации.  
  
### <a name="remarks"></a>Примечания  
 Данный метод обеспечивает поддержку процессов передачи данных, таких как буфер обмена или операции перетаскивания и вставки. Он считывает или записывает свойства кнопки, такие как идентификатор, текстовую метку и идентификатор образа из к предоставленному `CArchive` объекта.  
  
 Примеры сериализации см. в разделе [сериализации: сериализация объекта](../../mfc/serialization-serializing-an-object.md).  
  
##  <a name="setaccdata"></a>  CMFCToolBarButton::SetACCData  
 Заполняет предоставленный `CAccessibilityData` объект с данные специальных возможностей с помощью кнопки панели инструментов.  
  
```  
virtual BOOL SetACCData(
    CWnd* pParent,  
    CAccessibilityData& data);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pParent`  
 Родительское окно кнопки панели инструментов.  
  
 [in] `data`  
 Объект `CAccessibilityData` объект, который заполняется данными специальные кнопки панели инструментов.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Этот метод возвращает `TRUE`.  
  
### <a name="remarks"></a>Примечания  
 Переопределите этот метод для возврата `FALSE` Если кнопки панели инструментов не предоставляет данные специальных возможностей.  
  
##  <a name="setclipboardformatname"></a>  CMFCToolBarButton::SetClipboardFormatName  
 Переименовывает формат глобального буфера обмена.  
  
```  
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `lpszName`  
 Новое имя формата буфера обмена глобального. Не может быть `NULL`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод делает операции перетаскивания и вставки могут возникать в разных приложениях. Каждое приложение необходимо указать имя, совпадающее формат буфера обмена.  
  
 Необходимо вызвать этот метод перед вызовом framework [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).  
  
##  <a name="setimage"></a>  CMFCToolBarButton::SetImage  
 Задает индекс изображения кнопки.  
  
```  
virtual void SetImage(int iImage);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `iImage`  
 Индекс образа в коллекции изображений панели инструментов.  
  
### <a name="remarks"></a>Примечания  
 Если кнопка панели инструментов является знаком-разделителем, `iImage` ссылается на новую ширину кнопки-разделителя.  
  
 Если `iImage` меньше нуля, этот метод отключает создания изображения и включает Рисование текста метки кнопки.  
  
##  <a name="setprotectedcommands"></a>  CMFCToolBarButton::SetProtectedCommands  
 Задает список команд, которые нельзя настроить пользователя.  
  
```  
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `lstCmds`  
 Список защищенных команд.  
  
### <a name="remarks"></a>Примечания  
 В режиме настройки платформа отключает панель инструментов кнопки команд, которые защищены. Пользователь не может выполнять и перетащите и редактирования операции отключенных кнопок панели инструментов.  
  
 Используйте [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) метод, чтобы получить список защищенных команд.  
  
##  <a name="setradio"></a>  CMFCToolBarButton::SetRadio  
 Вызывается платформой, когда кнопка изменяет состояние выбора.  
  
```  
virtual void SetRadio();
```  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для выполнения пользовательского действия после кнопки изменяет состояние выбора.  
  
##  <a name="setrect"></a>  CMFCToolBarButton::SetRect  
 Задает кнопки ограничивающего прямоугольника.  
  
```  
void SetRect(const CRect rect);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `rect`  
 Ограничивающий прямоугольник кнопки.  
  
### <a name="remarks"></a>Примечания  
 Этот метод вызывает метод [CMFCToolBarButton::OnMove](#onmove) метод после установки нового ограничивающего прямоугольника.  
  
##  <a name="setstyle"></a>  CMFCToolBarButton::SetStyle  
 Задает стиль кнопки.  
  
```  
virtual void SetStyle(UINT nStyle);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `nStyle`  
 Новый стиль кнопки.  
  
### <a name="remarks"></a>Примечания  
 Реализация по умолчанию наборы [CMFCToolBarButton::m_nStyle](#m_nstyle) данные-члены `nStyle`. Переопределите этот метод, если требуется выполнить дополнительные операции для обработки изменений в стиле. В разделе [стили элемента управления панель инструментов](toolbar-control-styles.md) список флагов допустимое значение стиля.  
  
##  <a name="setvisible"></a>  CMFCToolBarButton::SetVisible  
 Указывает, отображается ли кнопка.  
  
```  
void SetVisible(BOOL bShow=TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр равен `TRUE`, отображается кнопка. Если параметр `FALSE`, кнопка является скрытой.  
  
### <a name="remarks"></a>Примечания  
 Эту функцию можно используйте для скрытия или отображения конкретного кнопки. Вызовите [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метод после вызова этого метода.  
  
##  <a name="show"></a>  CMFCToolBarButton::Show  
 Показывает или скрывает кнопку.  
  
```  
void Show(BOOL bShow);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `bShow`  
 Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр равен `TRUE`, отображается кнопка. Если параметр `FALSE`, кнопка является скрытой.  
  
### <a name="remarks"></a>Примечания  
 Платформа вызывает этот метод, чтобы обновить видимость кнопок панели инструментов при изменении размеров их родительской панели инструментов. Платформа вызывает этот метод с `bShow` значение `FALSE` при кнопки больше не помещается в пределах границ панели инструментов. Платформа вызывает этот метод с `bShow` значение `TRUE` при после изменения размера кнопки снова не поместится границы панели инструментов.  
  
 Используйте [CMFCToolBarButton::SetVisible](#setvisible) метод, чтобы задать общие видимость кнопки.  
  
 Этот метод вызывает метод [CMFCToolBarButton::OnShow](#onshow) метод после обновления состояние видимости для кнопки.  
  
## <a name="see-also"></a>См. также  
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)   
 [Классы](../../mfc/reference/mfc-classes.md)   
 [Класс CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)   
 [Класс CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md)
