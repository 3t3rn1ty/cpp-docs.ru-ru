---
title: "CRgn-класс | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-windows
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CRgn
- AFXWIN/CRgn
- AFXWIN/CRgn::CRgn
- AFXWIN/CRgn::CombineRgn
- AFXWIN/CRgn::CopyRgn
- AFXWIN/CRgn::CreateEllipticRgn
- AFXWIN/CRgn::CreateEllipticRgnIndirect
- AFXWIN/CRgn::CreateFromData
- AFXWIN/CRgn::CreateFromPath
- AFXWIN/CRgn::CreatePolygonRgn
- AFXWIN/CRgn::CreatePolyPolygonRgn
- AFXWIN/CRgn::CreateRectRgn
- AFXWIN/CRgn::CreateRectRgnIndirect
- AFXWIN/CRgn::CreateRoundRectRgn
- AFXWIN/CRgn::EqualRgn
- AFXWIN/CRgn::FromHandle
- AFXWIN/CRgn::GetRegionData
- AFXWIN/CRgn::GetRgnBox
- AFXWIN/CRgn::OffsetRgn
- AFXWIN/CRgn::PtInRegion
- AFXWIN/CRgn::RectInRegion
- AFXWIN/CRgn::SetRectRgn
dev_langs: C++
helpviewer_keywords:
- CRgn [MFC], CRgn
- CRgn [MFC], CombineRgn
- CRgn [MFC], CopyRgn
- CRgn [MFC], CreateEllipticRgn
- CRgn [MFC], CreateEllipticRgnIndirect
- CRgn [MFC], CreateFromData
- CRgn [MFC], CreateFromPath
- CRgn [MFC], CreatePolygonRgn
- CRgn [MFC], CreatePolyPolygonRgn
- CRgn [MFC], CreateRectRgn
- CRgn [MFC], CreateRectRgnIndirect
- CRgn [MFC], CreateRoundRectRgn
- CRgn [MFC], EqualRgn
- CRgn [MFC], FromHandle
- CRgn [MFC], GetRegionData
- CRgn [MFC], GetRgnBox
- CRgn [MFC], OffsetRgn
- CRgn [MFC], PtInRegion
- CRgn [MFC], RectInRegion
- CRgn [MFC], SetRectRgn
ms.assetid: d904da84-76aa-481e-8780-b09485f49e64
caps.latest.revision: "23"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: 6d5556db19d7f0ec92f915dda49dfeb24390ab70
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="crgn-class"></a>CRgn-класс
Инкапсулирует область интерфейса графических устройств Windows (GDI).  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CRgn : public CGdiObject  
```  
  
## <a name="members"></a>Участники  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CRgn::CRgn](#crgn)|Создает объект `CRgn`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CRgn::CombineRgn](#combinergn)|Наборы `CRgn` таким образом, чтобы она эквивалентна объединение двух заданных `CRgn` объектов.|  
|[CRgn::CopyRgn](#copyrgn)|Наборы `CRgn` таким образом, чтобы он является копией указанного `CRgn` объекта.|  
|[CRgn::CreateEllipticRgn](#createellipticrgn)|Инициализирует `CRgn` объекта с регионом эллипса.|  
|[CRgn::CreateEllipticRgnIndirect](#createellipticrgnindirect)|Инициализирует `CRgn` объект с эллиптической области, определяемой [RECT](../../mfc/reference/rect-structure1.md) структуры.|  
|[CRgn::CreateFromData](#createfromdata)|Создает область из заданной области и преобразования данных.|  
|[CRgn::CreateFromPath](#createfrompath)|Создает область из пути, который выбран в контексте данного устройства.|  
|[CRgn::CreatePolygonRgn](#createpolygonrgn)|Инициализирует `CRgn` объект с многоугольных области. Система закрывает многоугольника автоматически, при необходимости путем рисования линии из последнего вершин с первым.|  
|[CRgn::CreatePolyPolygonRgn](#createpolypolygonrgn)|Инициализирует `CRgn` объекта с областью, состоящий из набора закрытых многоугольников. Может быть несвязанным многоугольников или они могут перекрываться.|  
|[CRgn::CreateRectRgn](#createrectrgn)|Инициализирует `CRgn` объект с прямоугольной области.|  
|[CRgn::CreateRectRgnIndirect](#createrectrgnindirect)|Инициализирует `CRgn` объект с прямоугольной области, определяемой [RECT](../../mfc/reference/rect-structure1.md) структуры.|  
|[CRgn::CreateRoundRectRgn](#createroundrectrgn)|Инициализирует `CRgn` объект с прямоугольной области со скругленными углами.|  
|[CRgn::EqualRgn](#equalrgn)|Проверяет два `CRgn` объектами, чтобы определить, эквивалентны ли они.|  
|[CRgn::FromHandle](#fromhandle)|Возвращает указатель на `CRgn` объект для заданного дескриптора в область Windows.|  
|[CRgn::GetRegionData](#getregiondata)|Заполняет указанный буфер данных, описывающих заданной области.|  
|[CRgn::GetRgnBox](#getrgnbox)|Извлекает координаты ограничивающего прямоугольника `CRgn` объекта.|  
|[CRgn::OffsetRgn](#offsetrgn)|Перемещает `CRgn` объекта с заданными смещениями.|  
|[CRgn::PtInRegion](#ptinregion)|Определяет, является ли указанная точка в области.|  
|[CRgn::RectInRegion](#rectinregion)|Определяет, является ли какой-либо части заданного прямоугольника в пределах области.|  
|[CRgn::SetRectRgn](#setrectrgn)|Наборы `CRgn` объекта для указанной прямоугольной области.|  
  
### <a name="public-operators"></a>Открытые операторы  
  
|Имя|Описание:|  
|----------|-----------------|  
|[CRgn::operator HRGN](#operator_hrgn)|Возвращает дескриптор Windows, содержащийся в `CRgn` объекта.|  
  
## <a name="remarks"></a>Примечания  
 Область — это эллиптической или многоугольных область в окне. Чтобы использовать области, используйте функции-члены класса `CRgn` с функциями обрезки, определенные как члены класса `CDC`.  
  
 Функции-члены `CRgn` создания, изменения и получения сведений об объекте области, для которого вызван.  
  
 Дополнительные сведения об использовании `CRgn`, в разделе [графические объекты](../../mfc/graphic-objects.md).  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](../../mfc/reference/cobject-class.md)  
  
 [CGdiObject](../../mfc/reference/cgdiobject-class.md)  
  
 `CRgn`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxwin.h  
  
##  <a name="combinergn"></a>CRgn::CombineRgn  
 Создает новую область GDI путем объединения двух существующих областей.  
  
```  
int CombineRgn(
    CRgn* pRgn1,  
    CRgn* pRgn2,  
    int nCombineMode);
```  
  
### <a name="parameters"></a>Параметры  
 `pRgn1`  
 Идентифицирует существующей области.  
  
 `pRgn2`  
 Идентифицирует существующей области.  
  
 `nCombineMode`  
 Указывает операцию для выполнения при объединении двух исходных областей. Он может быть одним из следующих значений:  
  
- **RGN_AND** использует перекрывающиеся области обеих областей (пересечение).  
  
- **RGN_COPY** создает копию регион 1 (определяется `pRgn1`).  
  
- **RGN_DIFF** создает область, состоящий из областей регион 1 (определяется `pRgn1`), не являются частью области 2 (определяется `pRgn2`).  
  
- **RGN_OR** объединяет обе области целиком (объединение).  
  
- **RGN_XOR** объединяет обе области, но удаляет перекрывающиеся области.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указывает тип результирующей области. Он может принимать одно из следующих значений:  
  
- **COMPLEXREGION** новая область имеет перекрывающиеся границы.  
  
- **Ошибка** не новая область создана.  
  
- **NULLREGION** новая область является пустым.  
  
- **SIMPLEREGION** новая область имеет перекрывающиеся границы отсутствуют.  
  
### <a name="remarks"></a>Примечания  
 Области объединяются, заданные `nCombineMode`.  
  
 Указанные области объединяются, и полученный дескриптор области сохраняется в `CRgn` объекта. Таким образом, любые области хранится в `CRgn` области объединенный заменить объект.  
  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 Используйте [CopyRgn](#copyrgn) для простого копирования одного региона в другой области.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#144](../../mfc/codesnippet/cpp/crgn-class_1.cpp)]  
  
##  <a name="copyrgn"></a>CRgn::CopyRgn  
 Копирует области, определяемой `pRgnSrc` в `CRgn` объекта.  
  
```  
int CopyRgn(CRgn* pRgnSrc);
```  
  
### <a name="parameters"></a>Параметры  
 `pRgnSrc`  
 Идентифицирует существующей области.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указывает тип результирующей области. Он может принимать одно из следующих значений:  
  
- **COMPLEXREGION** новая область имеет перекрывающиеся границы.  
  
- **Ошибка** не новая область создана.  
  
- **NULLREGION** новая область является пустым.  
  
- **SIMPLEREGION** новая область имеет перекрывающиеся границы отсутствуют.  
  
### <a name="remarks"></a>Примечания  
 Новая область заменяет области ранее хранятся в `CRgn` объекта. Эта функция является особым случаем [CombineRgn](#combinergn) функции-члена.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CRgn::CreateEllipticRgn](#createellipticrgn).  
  
##  <a name="createellipticrgn"></a>CRgn::CreateEllipticRgn  
 Создает область эллипса.  
  
```  
BOOL CreateEllipticRgn(
    int x1,  
    int y1,  
    int x2,  
    int y2);
```  
  
### <a name="parameters"></a>Параметры  
 `x1`  
 Указывает логический Координата x верхнего левого угла ограничивающего прямоугольника эллипса.  
  
 `y1`  
 Указывает логический Координата y верхнего левого угла ограничивающего прямоугольника эллипса.  
  
 `x2`  
 Указывает логический Координата x нижнего правого угла ограничивающего прямоугольника эллипса.  
  
 `y2`  
 Указывает логический координату по оси y нижнего правого угла ограничивающего прямоугольника эллипса.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Области, определяемый ограничивающим прямоугольником, заданным с `x1`, `y1`, `x2`, и `y2`. Область хранится в `CRgn` объекта.  
  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 При завершении использования области, созданных с помощью `CreateEllipticRgn` функции, приложения должны выбрать область ожидания контекста устройства и используйте `DeleteObject` функции, чтобы удалить его.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#145](../../mfc/codesnippet/cpp/crgn-class_2.cpp)]  
  
##  <a name="createellipticrgnindirect"></a>CRgn::CreateEllipticRgnIndirect  
 Создает область эллипса.  
  
```  
BOOL CreateEllipticRgnIndirect(LPCRECT lpRect);
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает на `RECT` структуры или `CRect` объект, содержащий логические координаты верхнего левого и правого нижнего углов ограничивающего прямоугольника эллипса.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Область определяется структура или объект, на который указывает `lpRect` и сохраняется в `CRgn` объекта.  
  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 При завершении использования области, созданных с помощью `CreateEllipticRgnIndirect` функции, приложения должны выбрать область ожидания контекста устройства и используйте `DeleteObject` функции, чтобы удалить его.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CRgn::CreateRectRgnIndirect](#createrectrgnindirect).  
  
##  <a name="createfromdata"></a>CRgn::CreateFromData  
 Создает область из заданной области и преобразования данных.  
  
```  
BOOL CreateFromData(
    const XFORM* lpXForm,  
    int nCount,  
    const RGNDATA* pRgnData);
```  
  
### <a name="parameters"></a>Параметры  
 *lpXForm*  
 Указывает на [XFORM](../../mfc/reference/xform-structure.md) структуру данных, определяющий преобразование, выполняемое в области. Если указатель относится **NULL**, используется единичное преобразование.  
  
 `nCount`  
 Указывает число байтов, который указывает `pRgnData`.  
  
 `pRgnData`  
 Указывает на [RGNDATA](../../mfc/reference/rgndata-structure.md) структуру данных, содержащую данные этой области.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если функция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Приложение может получать данные для области путем вызова `CRgn::GetRegionData` функции.  
  
##  <a name="createfrompath"></a>CRgn::CreateFromPath  
 Создает область из пути, который выбран в контексте данного устройства.  
  
```  
BOOL CreateFromPath(CDC* pDC);
```  
  
### <a name="parameters"></a>Параметры  
 `pDC`  
 Определяет контекст устройства, который содержит закрытый путь.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если функция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Контекст устройства, обозначенную `pDC` параметр должен содержать закрытый путь. После `CreateFromPath` преобразует путь в область, Windows удаляет закрытый путь из контекста устройства.  
  
##  <a name="createpolygonrgn"></a>CRgn::CreatePolygonRgn  
 Создает многоугольных область.  
  
```  
BOOL CreatePolygonRgn(
    LPPOINT lpPoints,  
    int nCount,  
    int nMode);
```  
  
### <a name="parameters"></a>Параметры  
 `lpPoints`  
 Указывает массив **ТОЧКИ** структуры или массив `CPoint` объектов. Каждая структура задает координаты x и y координата одной вершины многоугольника. **ТОЧКИ** структура имеет следующий вид:  
  
 `typedef struct tagPOINT {`  
  
 `int x;`  
  
 `int y;`  
  
 `} POINT;`  
  
 `nCount`  
 Указывает количество **ТОЧКИ** структуры или `CPoint` объектов в массиве, на который указывает `lpPoints`.  
  
 `nMode`  
 Задает режим заполнения для региона. Этот параметр может быть либо **АЛЬТЕРНАТИВНЫЙ** или **ВРАЩЕНИЯ**.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Система закрывает многоугольника автоматически, при необходимости путем рисования линии из последнего вершин с первым. Полученный региона сохраняется в `CRgn` объекта.  
  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 Когда режим заполнения многоугольников — **АЛЬТЕРНАТИВНЫЙ**, система заполняет область между сторон нечетных и четных многоугольников для каждой строки. То есть система заполняет область между первой и второй стороны, между третья и четвертая стороне и т. д.  
  
 Когда режим заполнения многоугольников — **ВРАЩЕНИЯ**, система использует направление, в котором для определения необходимости Заливка области рисования фигуры. Каждого сегмента линии многоугольника, рисуется по часовой стрелке или против часовой стрелки. Каждый раз, когда мнимой линии, соединяющей замкнутой области за пределы фигуры проходит через сегмент линии по часовой стрелке, счетчик увеличивается. Когда строка проходит через сегмент линии против часовой стрелки, уменьшается. Область заполняется в том случае, если число равно ненулевое значение, когда строке достигает за пределами рисунка.  
  
 Когда приложение завершило использования области, созданных с помощью `CreatePolygonRgn` функции, его следует выбрать область ожидания контекста устройства и используйте `DeleteObject` функции, чтобы удалить его.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#146](../../mfc/codesnippet/cpp/crgn-class_3.cpp)]  
  
##  <a name="createpolypolygonrgn"></a>CRgn::CreatePolyPolygonRgn  
 Создает область, состоящий из набора закрытых многоугольников.  
  
```  
BOOL CreatePolyPolygonRgn(
    LPPOINT lpPoints,  
    LPINT lpPolyCounts,  
    int nCount,  
    int nPolyFillMode);
```  
  
### <a name="parameters"></a>Параметры  
 `lpPoints`  
 Указывает массив **ТОЧКИ** структуры или массив `CPoint` объекты, которые определяет вершин многоугольников. Каждого многоугольника должен быть явно закрыт, так как система не закрывает их автоматически. Последовательное построение задаются многоугольников. **ТОЧКИ** структура имеет следующий вид:  
  
 `typedef struct tagPOINT {`  
  
 `int x;`  
  
 `int y;`  
  
 `} POINT;`  
  
 `lpPolyCounts`  
 Указывает массив целых чисел. Первое целое число вершин в первом многоугольника в `lpPoints` массива, второе указывает число вершин в второй многоугольников и т. д.  
  
 `nCount`  
 Определяет общее количество целых чисел в `lpPolyCounts` массива.  
  
 `nPolyFillMode`  
 Задает режим заполнения многоугольников. Это значение может быть либо **АЛЬТЕРНАТИВНЫЙ** или **ВРАЩЕНИЯ**.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Полученный региона сохраняется в `CRgn` объекта.  
  
 Может быть несвязанным многоугольников или они могут перекрываться.  
  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 Когда режим заполнения многоугольников — **АЛЬТЕРНАТИВНЫЙ**, система заполняет область между сторон нечетных и четных многоугольников для каждой строки. То есть система заполняет область между первой и второй стороны, между третья и четвертая стороне и т. д.  
  
 Когда режим заполнения многоугольников — **ВРАЩЕНИЯ**, система использует направление, в котором для определения необходимости Заливка области рисования фигуры. Каждого сегмента линии многоугольника, рисуется по часовой стрелке или против часовой стрелки. Каждый раз, когда мнимой линии, соединяющей замкнутой области за пределы фигуры проходит через сегмент линии по часовой стрелке, счетчик увеличивается. Когда строка проходит через сегмент линии против часовой стрелки, уменьшается. Область заполняется в том случае, если число равно ненулевое значение, когда строке достигает за пределами рисунка.  
  
 Когда приложение завершило использования области, созданных с помощью `CreatePolyPolygonRgn` функции, его следует выбрать область ожидания контекста устройства и используйте [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функции-члена для его удаления.  
  
##  <a name="createrectrgn"></a>CRgn::CreateRectRgn  
 Создает прямоугольную область, которая хранится в `CRgn` объекта.  
  
```  
BOOL CreateRectRgn(
    int x1,  
    int y1,  
    int x2,  
    int y2);
```  
  
### <a name="parameters"></a>Параметры  
 `x1`  
 Указывает логический Координата x верхнего левого угла области.  
  
 `y1`  
 Указывает логический Координата y верхнего левого угла области.  
  
 `x2`  
 Указывает логические координаты по оси x нижнего правого угла области.  
  
 `y2`  
 Указывает логический координату по оси y нижнего правого угла области.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 При завершении использования области, созданные `CreateRectRgn`, приложение должно использовать [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для удаления области.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#147](../../mfc/codesnippet/cpp/crgn-class_4.cpp)]  
  
 Дополнительный пример, в разделе [CRgn::CombineRgn](#combinergn).  
  
##  <a name="createrectrgnindirect"></a>CRgn::CreateRectRgnIndirect  
 Создает прямоугольную область, которая хранится в `CRgn` объекта.  
  
```  
BOOL CreateRectRgnIndirect(LPCRECT lpRect);
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает на `RECT` структуры или `CRect` объект, содержащий логические координаты левого верхнего и нижнего правого угла области. `RECT` Структура имеет следующий вид:  
  
 `typedef struct tagRECT {`  
  
 `int left;`  
  
 `int top;`  
  
 `int right;`  
  
 `int bottom;`  
  
 `} RECT;`  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 При завершении использования области, созданные `CreateRectRgnIndirect`, приложение должно использовать [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для удаления области.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#148](../../mfc/codesnippet/cpp/crgn-class_5.cpp)]  
  
##  <a name="createroundrectrgn"></a>CRgn::CreateRoundRectRgn  
 Создает прямоугольную область со скругленными углами, хранится в `CRgn` объекта.  
  
```  
BOOL CreateRoundRectRgn(
    int x1,  
    int y1,  
    int x2,  
    int y2,  
    int x3,  
    int y3);
```  
  
### <a name="parameters"></a>Параметры  
 `x1`  
 Указывает логический Координата x верхнего левого угла области.  
  
 `y1`  
 Указывает логический Координата y верхнего левого угла области.  
  
 `x2`  
 Указывает логические координаты по оси x нижнего правого угла области.  
  
 `y2`  
 Указывает логический координату по оси y нижнего правого угла области.  
  
 *X3*  
 Задает ширину эллипса, который используется для создания прямоугольника с закругленными углами.  
  
 `y3`  
 Задает высоту эллипса, который используется для создания прямоугольника с закругленными углами.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если операция выполнена успешно; в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Размер области ограничено 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.  
  
 Когда приложение завершило использования области, созданных с помощью `CreateRoundRectRgn` функции, его следует выбрать область ожидания контекста устройства и используйте [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функции-члена для его удаления.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#149](../../mfc/codesnippet/cpp/crgn-class_6.cpp)]  
  
##  <a name="crgn"></a>CRgn::CRgn  
 Создает объект `CRgn`.  
  
```  
CRgn();
```  
  
### <a name="remarks"></a>Примечания  
 `m_hObject` Член данных не содержит допустимые области Windows GDI до инициализации объекта с одним или несколькими из других `CRgn` функции-члены.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CRgn::CreateRoundRectRgn](#createroundrectrgn).  
  
##  <a name="equalrgn"></a>CRgn::EqualRgn  
 Определяет, является ли заданной области эквивалентно области, хранящиеся в `CRgn` объекта.  
  
```  
BOOL EqualRgn(CRgn* pRgn) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pRgn`  
 Определяет область.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если две области эквивалентны; в противном случае — 0.  
  
### <a name="example"></a>Пример  
 [!code-cpp[NVC_MFCDocView#150](../../mfc/codesnippet/cpp/crgn-class_7.cpp)]  
  
##  <a name="fromhandle"></a>CRgn::FromHandle  
 Возвращает указатель на `CRgn` объект для заданного дескриптора в область Windows.  
  
```  
static CRgn* PASCAL FromHandle(HRGN hRgn);
```  
  
### <a name="parameters"></a>Параметры  
 `hRgn`  
 Указывает дескриптор область Windows.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на объект `CRgn`. Если функция не была успешной, возвращаемым значением является **NULL**.  
  
### <a name="remarks"></a>Примечания  
 Если `CRgn` объект уже не присоединен к дескриптору, временный `CRgn` объект создается и прикрепляется. Этот временный `CRgn` , допустимо только до следующей приложение имеет время простоя в его цикл событий, после чего график все временные объекты удаляются. Другими словами является, что временный объект допустима только во время обработки одного окна сообщения.  
  
##  <a name="getregiondata"></a>CRgn::GetRegionData  
 Заполняет указанный буфер данных, описывающих области.  
  
```  
int GetRegionData(
    LPRGNDATA lpRgnData,  
    int nCount) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRgnData`  
 Указывает на [RGNDATA](../../mfc/reference/rgndata-structure.md) структуру данных, которая получает данные. Если этот параметр имеет **NULL**, возвращаемое значение содержит число байтов, необходимое для области данных.  
  
 `nCount`  
 Указывает размер в байтах, `lpRgnData` буфера.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Если функция выполняется успешно и `nCount` достаточно номер байтов, возвращаемое значение всегда равно `nCount`. Если функция завершается с ошибкой или `nCount` указывает меньше, чем адекватное число байтов, возвращаемое значение равно 0 (ошибка).  
  
### <a name="remarks"></a>Примечания  
 Эти данные включают измерения прямоугольников, составляющие области. Эта функция используется в сочетании с `CRgn::CreateFromData` функции.  
  
##  <a name="getrgnbox"></a>CRgn::GetRgnBox  
 Извлекает координаты ограничивающего прямоугольника `CRgn` объекта.  
  
```  
int GetRgnBox(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает на `RECT` структуры или `CRect` объект для получения координаты ограничивающего прямоугольника. `RECT` Структура имеет следующий вид:  
  
 `typedef struct tagRECT {`  
  
 `int left;`  
  
 `int top;`  
  
 `int right;`  
  
 `int bottom;`  
  
 `} RECT;`  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указывает тип области. Он может иметь любое из следующих значений.  
  
- **COMPLEXREGION** область имеет перекрывающиеся границы.  
  
- **NULLREGION** область является пустым.  
  
- **Ошибка** `CRgn` объект не задает допустимое области.  
  
- **SIMPLEREGION** область имеет перекрывающиеся границы отсутствуют.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CRgn::CreatePolygonRgn](#createpolygonrgn).  
  
##  <a name="offsetrgn"></a>CRgn::OffsetRgn  
 Перемещение области, хранящиеся в `CRgn` объекта с заданными смещениями.  
  
```  
int OffsetRgn(
    int x,  
    int y);  
  
int OffsetRgn(POINT point);
```  
  
### <a name="parameters"></a>Параметры  
 *x*  
 Указывает число единиц для перемещения влево или вправо.  
  
 *y*  
 Указывает количество единиц для перемещения вверх или вниз.  
  
 `point`  
 Координата по оси x `point` указывает число единиц для перемещения влево или вправо. Координата по оси y `point` указывает количество единиц для перемещения вверх или вниз. `point` Параметр может быть либо **ТОЧКИ** структуры или `CPoint` объекта.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Тип новой области. Он может быть одним из следующих значений:  
  
- **COMPLEXREGION** область имеет перекрывающиеся границы.  
  
- **Ошибка** недопустимый дескриптор области.  
  
- **NULLREGION** область является пустым.  
  
- **SIMPLEREGION** область имеет перекрывающиеся границы отсутствуют.  
  
### <a name="remarks"></a>Примечания  
 Функция перемещает области *x* единиц вдоль оси x и *y* единицы по оси y.  
  
 Значения координат области должно быть меньше или равно 32 767 и больше или равно-32 768. *x* и *y* необходимо тщательно выбрать параметры для предотвращения координаты недопустимый регион.  
  
### <a name="example"></a>Пример  
  Далее приведен пример [CRgn::CreateEllipticRgn](#createellipticrgn).  
  
##  <a name="operator_hrgn"></a>CRgn::operator HRGN  
 Этот оператор используется для получения вложенного дескриптор Windows GDI `CRgn` объекта.  
  
```  
operator HRGN() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Если успешно, дескриптор объекта Windows GDI, представленных `CRgn` объекта; в противном случае **NULL**.  
  
### <a name="remarks"></a>Примечания  
 Этот оператор — оператор приведения, который поддерживает прямое использование **HRGN** объекта.  
  
 Дополнительные сведения об использовании графических объектов см. в статье [объектов график](http://msdn.microsoft.com/library/windows/desktop/dd144962) в Windows SDK.  
  
##  <a name="ptinregion"></a>CRgn::PtInRegion  
 Проверяет, является ли точки, заданной параметром *x* и *y* находится в регионе, хранящихся в `CRgn` объекта.  
  
```  
BOOL PtInRegion(
    int x,  
    int y) const;  
  
BOOL PtInRegion(POINT point) const;  
```  
  
### <a name="parameters"></a>Параметры  
 *x*  
 Указывает логическую координату x точки для проверки.  
  
 *y*  
 Указывает логический Координата y точки для проверки.  
  
 `point`  
 X-y координаты и `point` укажите x и y координаты точки для проверки значения. `point` Параметра может быть **ТОЧКИ** структуры или `CPoint` объекта.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если точка находится в области; в противном случае — 0.  
  
##  <a name="rectinregion"></a>CRgn::RectInRegion  
 Определяет, является ли заданный любую часть прямоугольника `lpRect` находится в пределах области, хранящиеся в `CRgn` объекта.  
  
```  
BOOL RectInRegion(LPCRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Указывает на `RECT` структуры или `CRect` объекта. `RECT` Структура имеет следующий вид:  
  
 `typedef struct tagRECT {`  
  
 `int left;`  
  
 `int top;`  
  
 `int right;`  
  
 `int bottom;`  
  
 `} RECT;`  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если какой-либо части заданного прямоугольника находится в пределах области; в противном случае — 0.  
  
##  <a name="setrectrgn"></a>CRgn::SetRectRgn  
 Создает прямоугольной области.  
  
```  
void SetRectRgn(
    int x1,  
    int y1,  
    int x2,  
    int y2);  
  
void SetRectRgn(LPCRECT lpRect);
```  
  
### <a name="parameters"></a>Параметры  
 `x1`  
 Задает координату x левого верхнего угла прямоугольной области.  
  
 `y1`  
 Задает координату y верхнего левого угла прямоугольной области.  
  
 `x2`  
 Указывает Координата по оси x нижнего правого угла прямоугольной области.  
  
 `y2`  
 Указывает Координата по оси y нижнего правого угла прямоугольной области.  
  
 `lpRect`  
 Задает прямоугольную область. Может быть либо указателем `RECT` структуры или `CRect` объекта.  
  
### <a name="remarks"></a>Примечания  
 В отличие от [CreateRectRgn](#createrectrgn), однако он не выделяет любой дополнительный объем памяти в локальной куче приложения Windows. Вместо этого он использует объем, выделяемый для области, хранящихся в `CRgn` объекта. Это означает, что `CRgn` объект должен уже быть инициализирован допустимым область Windows перед вызовом `SetRectRgn`. Точек, предоставленных `x1`, `y1`, `x2`, и `y2` определяют минимальный размер выделенного пространства.  
  
 Используйте эту функцию вместо `CreateRectRgn` функции-члена во избежание вызовы диспетчеру локальной памяти.  
  
## <a name="see-also"></a>См. также  
 [CWnd-класс](../../mfc/reference/cwnd-class.md)   
 [Диаграмма иерархии](../../mfc/hierarchy-chart.md)



