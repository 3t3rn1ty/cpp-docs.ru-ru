---
title: "Класс CListCtrl | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- devlang-cpp
ms.tgt_pltfrm: 
ms.topic: reference
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
dev_langs:
- C++
helpviewer_keywords:
- CListCtrl class
- LVS_REPORT
- LVS_LIST
- LVS_ICON
- list view controls
- list view controls, CListCtrl class
- Windows common controls [C++], CListCtrl
- LVS_SMALLICON
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
caps.latest.revision: 23
author: mikeblome
ms.author: mblome
manager: ghogen
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: a937c9d083a7e4331af63323a19fb207142604a0
ms.openlocfilehash: fb82dd194d59bff9e0a3fe8f047686a8bcc4d927
ms.lasthandoff: 02/24/2017

---
# <a name="clistctrl-class"></a>CListCtrl-класс
Инкапсулирует функциональность элемента управления "список", который отображает коллекцию элементов, где каждый элемент состоит из значка (списка изображений) и метки.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
class CListCtrl : public CWnd  
```  
  
## <a name="members"></a>Члены  
  
### <a name="public-constructors"></a>Открытые конструкторы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CListCtrl::CListCtrl](#clistctrl)|Создает объект `CListCtrl`.|  
  
### <a name="public-methods"></a>Открытые методы  
  
|Имя|Описание|  
|----------|-----------------|  
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Определяет ширину и высоту, необходимые для отображения элементов управления представления списком.|  
|[CListCtrl::Arrange](#arrange)|Выравнивание элементов в сетке.|  
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Отменяет операцию редактирования текста элемента.|  
|[CListCtrl::Create](#create)|Создает элемент управления и присоединяет его к `CListCtrl` объекта.|  
|[CListCtrl::CreateDragImage](#createdragimage)|Создает список изображение перетаскивания для указанного элемента.|  
|[CListCtrl::CreateEx](#createex)|Создает элемент управления с указанным расширенные стили Windows и присоединяет его к `CListCtrl` объекта.|  
|[CListCtrl::DeleteAllItems](#deleteallitems)|Удаляет все элементы из элемента управления.|  
|[CListCtrl::DeleteColumn](#deletecolumn)|Удаляет столбец из элемента управления представления списка.|  
|[CListCtrl::DeleteItem](#deleteitem)|Удаляет элемент из элемента управления.|  
|[CListCtrl::DrawItem](#drawitem)|Вызывается при изменении внешнего вида изменения управления рисование владельцем.|  
|[CListCtrl::EditLabel](#editlabel)|Начинается в оперативное изменение текста элемента.|  
|[CListCtrl::EnableGroupView](#enablegroupview)|Включает или отключает отображение в элементе управления списком элементы как группу.|  
|[CListCtrl::EnsureVisible](#ensurevisible)|Гарантирует, что элемент является видимым.|  
|[CListCtrl::FindItem](#finditem)|Выполняет поиск элемента представления списка, при указании характеристик.|  
|[CListCtrl::GetBkColor](#getbkcolor)|Получает цвет фона элемента управления представления списка.|  
|[CListCtrl::GetBkImage](#getbkimage)|Получает текущее фоновое изображение элемента управления представления списка.|  
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Извлекает маска обратного вызова для элемента управления представления списка.|  
|[CListCtrl::GetCheck](#getcheck)|Получает текущее состояние отображения изображения состояния, связанные с элементом.|  
|[CListCtrl::GetColumn](#getcolumn)|Извлекает атрибуты столбцов элемента управления.|  
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Возвращает порядок столбцов (слева направо) элемента управления представления списка.|  
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Получает ширину столбца в представлении отчета или списка.|  
|[CListCtrl::GetCountPerPage](#getcountperpage)|Вычисляет количество элементов, которое может уместиться по вертикали в элементе управления списком.|  
|[CListCtrl::GetEditControl](#geteditcontrol)|Получает дескриптор элемента управления, используемый для редактирования текста элемента.|  
|[CListCtrl::GetEmptyText](#getemptytext)|Получает строку для отображения, если текущий элемент управления представление списка является пустым.|  
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Получает текущий расширенные стили элемента управления представления списка.|  
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Возвращает положение первого выбранного представления элемента списка в элементе управления списком.|  
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Получает группу, имеет фокус в текущий элемент управления представления списка.|  
|[CListCtrl::GetGroupCount](#getgroupcount)|Получает число групп в текущий элемент управления представления списка.|  
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Возвращает сведения для определенной группы управления представления списком.|  
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Получает сведения об указанной группе в текущий элемент управления представления списка.|  
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Получает метрики группы.|  
|[CListCtrl::GetGroupRect](#getgrouprect)|Возвращает ограничивающий прямоугольник для указанной группы в текущий элемент управления представления списка.|  
|[CListCtrl::GetGroupState](#getgroupstate)|Получает состояние для указанной группы в текущий элемент управления представления списка.|  
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Возвращает элемент управления заголовка элемента управления представления списка.|  
|[CListCtrl::GetHotCursor](#gethotcursor)|Возвращает курсор, используемый, если включено отслеживание для элемента управления представления списка.|  
|[CListCtrl::GetHotItem](#gethotitem)|Извлекает элемент списка в настоящее время под курсором.|  
|[CListCtrl::GetHoverTime](#gethovertime)|Возвращает текущее время управления представления списком при наведении указателя мыши.|  
|[CListCtrl::GetImageList](#getimagelist)|Получает дескриптор список изображений, используемый для рисования элементы списка.|  
|[CListCtrl::GetInsertMark](#getinsertmark)|Получает текущее положение знака вставки.|  
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Получает текущий цвет знака вставки.|  
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Возвращает прямоугольник, ограничивающий курсор.|  
|[CListCtrl::GetItem](#getitem)|Извлекает атрибуты элемента представления списка.|  
|[CListCtrl::GetItemCount](#getitemcount)|Получает число элементов в элементе управления списком.|  
|[CListCtrl::GetItemData](#getitemdata)|Возвращает значение конкретного приложения, связанное с элементом.|  
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Возвращает ограничивающий прямоугольник для всей или части вложенный в текущий элемент управления представления списка.|  
|[CListCtrl::GetItemPosition](#getitemposition)|Получает положение элемента представления списка.|  
|[CListCtrl::GetItemRect](#getitemrect)|Возвращает ограничивающий прямоугольник для элемента.|  
|[CListCtrl::GetItemSpacing](#getitemspacing)|Вычисляет расстояние между элементами в текущий элемент управления представления списка.|  
|[CListCtrl::GetItemState](#getitemstate)|Получает состояние представления элемента списка.|  
|[CListCtrl::GetItemText](#getitemtext)|Извлекает текст элемент списка или подэлемента.|  
|[CListCtrl::GetNextItem](#getnextitem)|Ищет элемент списка с заданными свойствами и с указанным отношением с данным объектом.|  
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Возвращает индекс элемента в текущий элемент управления представления списка с указанного набора свойств.|  
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Извлекает индекс позиции представления списка и положение Далее выбранный элемент списка для итерации.|  
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Получает текущее число рабочие области для элемента управления представления списка.|  
|[CListCtrl::GetOrigin](#getorigin)|Получает текущий исходный вид для элемента управления представления списка.|  
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Возвращает цвет границы элемента управления представления списка.|  
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Получает индекс столбца, выбранного в элементе управления списком.|  
|[CListCtrl::GetSelectedCount](#getselectedcount)|Получает число выбранных элементов в элементе управления списка.|  
|[CListCtrl::GetSelectionMark](#getselectionmark)|Возвращает знак выбора элемента управления представления списка.|  
|[CListCtrl::GetStringWidth](#getstringwidth)|Определяет минимальную ширину столбца необходимая для отображения всех заданной строки.|  
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Возвращает прямоугольник, ограничивающий элемента в элементе управления списком.|  
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Получает цвет фона текстового элемента управления представления списка.|  
|[CListCtrl::GetTextColor](#gettextcolor)|Возвращает цвет текста элемента управления представления списка.|  
|[CListCtrl::GetTileInfo](#gettileinfo)|Извлекает сведения о плитки в элементе управления списком.|  
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Получает сведения об элементе управления списком мозаичного представления.|  
|[CListCtrl::GetToolTips](#gettooltips)|Возвращает элемент управления всплывающей подсказки, используемого элементом управления представления списка для отображения подсказки.|  
|[CListCtrl::GetTopIndex](#gettopindex)|Извлекает индекс верхний видимый элемент.|  
|[CListCtrl::GetView](#getview)|Возвращает представление элемента управления представления списка.|  
|[CListCtrl::GetViewRect](#getviewrect)|Возвращает прямоугольник, ограничивающий всех элементов в элементе управления списка.|  
|[CListCtrl::GetWorkAreas](#getworkareas)|Получает текущий рабочие области элемента управления представления списка.|  
|[CListCtrl::HasGroup](#hasgroup)|Определяет, имеет ли элемент представления списка указанной группы.|  
|[CListCtrl::HitTest](#hittest)|Определяет, какой список — просмотреть элемент в указанной позиции.|  
|[CListCtrl::InsertColumn](#insertcolumn)|Вставка нового столбца в элементе управления списком.|  
|[CListCtrl::InsertGroup](#insertgroup)|Вставляет группы в элементе управления списка.|  
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Вставляет указанную группу в упорядоченный список групп.|  
|[CListCtrl::InsertItem](#insertitem)|Вставляет новый элемент в элементе управления списком.|  
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Возвращает курсор, ближайший к заданной точке.|  
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Определяет, включена ли представление "Группа" для элемента управления представления списка.|  
|[CListCtrl::IsItemVisible](#isitemvisible)|Указывает, видима ли указанный элемент в текущий элемент управления представления списка.|  
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Уникальный идентификатор элемента в текущий элемент управления представления списка сопоставляется индекса.|  
|[CListCtrl::MapIndexToID](#mapindextoid)|Индекс элемента в элементе управления текущее представление списка сопоставляется уникальный идентификатор.|  
|[CListCtrl::MoveGroup](#movegroup)|Перемещает указанную группу.|  
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Перемещает указанный группы к указанным отсчитываемый от нуля индекс элемента управления представления списка.|  
|[CListCtrl::RedrawItems](#redrawitems)|Вызывает перерисовку диапазона элементов элемента управления представления списка.|  
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Удаляет все группы из элемента управления представления списка.|  
|[CListCtrl::RemoveGroup](#removegroup)|Удаляет указанную группу из элемента управления представления списка.|  
|[CListCtrl::Scroll](#scroll)|Прокручивает содержимое элемента управления представления списка.|  
|[CListCtrl::SetBkColor](#setbkcolor)|Задает цвет фона элемента управления представления списка.|  
|[CListCtrl::SetBkImage](#setbkimage)|Задает текущее фоновое изображение элемента управления представления списка.|  
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Задает маску обратного вызова для элемента управления представления списка.|  
|[CListCtrl::SetCheck](#setcheck)|Задает текущий отображать состояние изображения состояния, связанные с элементом.|  
|[CListCtrl::SetColumn](#setcolumn)|Задает атрибуты столбца представления списка.|  
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Задает порядок столбцов (слева направо) элемента управления представления списка.|  
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Изменение ширины столбца в представлении отчета или списка.|  
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Задает расширенные стили текущего элемента управления представления списка.|  
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Задает информацию для указанной группы управления представления списком.|  
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Задает группу метрики элемента управления представления списка.|  
|[CListCtrl::SetHotCursor](#sethotcursor)|Задает курсор, используемый, если включено отслеживание для элемента управления представления списка.|  
|[CListCtrl::SetHotItem](#sethotitem)|Задает текущий горячей элемент управления представления списком.|  
|[CListCtrl::SetHoverTime](#sethovertime)|Задает текущее время управления представления списком при наведении указателя мыши.|  
|[CListCtrl::SetIconSpacing](#seticonspacing)|Задает расстояние между значков в элементе управления списком.|  
|[CListCtrl::SetImageList](#setimagelist)|Назначает списка изображений в элементе управления списком.|  
|[CListCtrl::SetInfoTip](#setinfotip)|Задает текст всплывающей подсказки.|  
|[CListCtrl::SetInsertMark](#setinsertmark)|Задает точку вставки на определенные позицию.|  
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Задает цвет от точки вставки.|  
|[CListCtrl::SetItem](#setitem)|Задает все представления списка или атрибуты элемента.|  
|[CListCtrl::SetItemCount](#setitemcount)|Подготавливает элемента управления представления списка для добавления большое число элементов.|  
|[CListCtrl::SetItemCountEx](#setitemcountex)|Задает количество элементов для элемента управления представления виртуального списка.|  
|[CListCtrl::SetItemData](#setitemdata)|Задает значение элемента конкретного приложения.|  
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Задает состояние элемента текущего элемента управления представления списка.|  
|[CListCtrl::SetItemPosition](#setitemposition)|Перемещает элемент в указанной позиции в элементе управления списком.|  
|[CListCtrl::SetItemState](#setitemstate)|Изменяет состояние элемента в элементе управления списком.|  
|[CListCtrl::SetItemText](#setitemtext)|Изменение текста элемента представления списка или подэлемента.|  
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Задает цвет границы элемента управления представления списком.|  
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Задает выбранного столбца элемента управления представления списка.|  
|[CListCtrl::SetSelectionMark](#setselectionmark)|Задает знак выбора элемента управления представления списка.|  
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Задает цвет фона текста в элементе управления списком.|  
|[CListCtrl::SetTextColor](#settextcolor)|Задает цвет текста элемента управления представления списка.|  
|[CListCtrl::SetTileInfo](#settileinfo)|Задает данные на плитке управления представления списком.|  
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Задает данные, используемые в элементе управления списком мозаичного представления.|  
|[CListCtrl::SetToolTips](#settooltips)|Задает подсказку, которая элемента управления списком будет использоваться для отображения подсказки.|  
|[CListCtrl::SetView](#setview)|Задает представление элемента управления представления списка.|  
|[CListCtrl::SetWorkAreas](#setworkareas)|Задает область, где могут отображаться значки в элементе управления списком.|  
|[CListCtrl::SortGroups](#sortgroups)|Сортировка групп списка просмотра элемента управления с определяемой пользователем функции.|  
|[CListCtrl::SortItems](#sortitems)|Сортирует элементы списка с помощью функции сравнения, определяемых приложением.|  
|[CListCtrl::SortItemsEx](#sortitemsex)|Сортирует элементы списка с помощью функции сравнения, определяемых приложением.|  
|[CListCtrl::SubItemHitTest](#subitemhittest)|Определяет какой элемент представления списка, если он имеется в заданной позиции.|  
|[CListCtrl::Update](#update)|Заставляет элемент управления для обновления указанного элемента.|  
  
## <a name="remarks"></a>Примечания  
 Помимо значок и метку каждый элемент может иметь сведения отображаются в столбцах справа от значка и метки. Этот элемент управления (и, следовательно, `CListCtrl` класса) доступны только для программы, запущенные в Windows 95/98 и Windows NT версии 3.51 и более поздних версий.  
  
 Ниже приведен краткий обзор `CListCtrl` класса. Подробные концептуальные сведения см. в разделе [с помощью CListCtrl](../../mfc/using-clistctrl.md) и [управления](../../mfc/controls-mfc.md).  
  
## <a name="views"></a>Представления  
 Элементы управления представления списка можно отобразить их содержимое четырьмя различными способами, «представления».  
  
-   Значок представления  
  
     Каждый элемент отображается в виде значка полноразмерное (32 x 32 пиксела) с меткой под ним. Пользователь может перетащить элементы в любое место в окне представления списка.  
  
-   Мелкими значками  
  
     Каждый элемент отображается в виде небольшого значка (16 x 16 пикселей) с меткой справа от него. Пользователь может перетащить элементы в любое место в окне представления списка.  
  
-   представления списков  
  
     Каждый элемент отображается в виде небольшого значка с меткой справа от него. Элементы упорядочиваются в столбцы и их невозможно перетащить напрямую в любое место в окне представления списка.  
  
-   Представление отчета  
  
     Каждый элемент отображается в отдельной строке с дополнительной информацией в виде столбцов справа. Самый левый столбец содержит небольшой значок и метку, а последующие столбцы содержат подэлементы, определяемое параметром приложения. Внедренные заголовок элемента управления (класс [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) реализует эти столбцы. Дополнительные сведения для управления заголовка и столбцов в представлении отчета в разделе [с помощью CListCtrl: Добавление столбцов в элемент управления (представление отчета)](../../mfc/adding-columns-to-the-control-report-view.md).  
  
 См. также:  
  
-   Статья базы знаний Q250614: HOWTO: сортировка элементов в CListCtrl в представлении отчета  
  
-   Статья базы знаний Q200054: PRB: OnTimer() — не вызывается несколько раз для управления списком  
  
 Стиль отображения списка элемента управления определяет текущее представление. Дополнительные сведения о этих стилей и их использовании см. в разделе [с помощью CListCtrl: изменение стилей элемента управления списка](../../mfc/changing-list-control-styles.md).  
  
## <a name="extended-styles"></a>Расширенные стили  
 Помимо стандартного списка стилей, класс `CListCtrl` поддерживает большой набор расширенных стилей, предоставляя богатый набор функций. Некоторые примеры этих функций:  
  
-   Выбор при наведении курсора мыши  
  
     При включении позволяет автоматически выбрать элемент, когда курсор находится на элемент в течение определенного периода времени.  
  
-   Представления виртуального списка  
  
     При включении позволяет элементу управления поддерживают до `DWORD` элементов. Это возможно, поместив расходов на управление элемента данных в приложении. За исключением выбранный элемент и сведения фокус все сведения об элементе должно осуществляться приложением. Дополнительные сведения см. в разделе [с помощью CListCtrl: элементы управления виртуального списка](../../mfc/virtual-list-controls.md).  
  
-   Активация одной и двух — щелкните  
  
     При включении позволяет отслеживание (автоматическое выделение текста элемента) и один или два — щелкните активация выделенный элемент.  
  
-   Перетаскивание порядка столбцов  
  
     При включении позволяет и перетащите изменение порядка столбцов в элементе управления списком. Доступно только в представлении отчета.  
  
 Сведения об использовании этих новые расширенные стили, см. в разделе [с помощью CListCtrl: изменение стилей элемента управления списка](../../mfc/changing-list-control-styles.md).  
  
## <a name="items-and-subitems"></a>Элементы и подэлементы  
 Каждый элемент в элементе управления списком состоит из значка (списка изображений), метку, текущее состояние и определяемые приложением значения (называются «элемент»). Один или несколько дополнительных данных также могут быть связаны с каждым элементом. «Подэлемент» является строкой, в представлении отчета может отображаться в столбце справа от значка и метки элемента. Все элементы в элементе управления списком должен иметь одинаковое число подэлементов.  
  
 Класс **CListCtrl** предоставляет несколько функций для вставки, удаления, поиск и изменение этих элементов. Дополнительные сведения см. в разделе [CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem), и [CListCtrl::FindItem](#finditem), [Добавление элементов управления](../adding-items-to-the-control.md), и [прокрутка, расположение, сортировка и поиск в элементах управления списками](../scrolling-arranging-sorting-and-finding-in-list-controls.md).  
  
 По умолчанию элемента управления списком отвечает за хранение атрибуты значок и текст элемента. Однако, помимо этих типов элементов класса `CListCtrl` поддерживает «обратного вызова элементов». Элемент представления списка, для которого является «Обратного вызова элемента» приложения, вместо элемента управления — хранит текст и значок. Маска обратного вызова используется для указания, какие атрибуты элемента (текст или значок) предоставляемой приложением. Если приложение использует элементы обратного вызова, необходимо указать атрибуты текста или значка по требованию. Элементы обратного вызова полезны в тех случаях, когда приложение уже поддерживает некоторые из этих сведений. Дополнительные сведения см. в разделе [с помощью CListCtrl: элементы обратного вызова и маска обратного вызова](../callback-items-and-the-callback-mask.md).  
  
## <a name="image-lists"></a>Списки изображений  
 Значки, заголовок элемента изображения и приложения — определено состояний содержатся элементы списка в нескольких списках изображений (реализуется классом [CImageList](cimagelist-class.md)), который назначить элементом управления представления списка. Каждый элемент управления представления списком может иметь до четырех различных типов списков изображений:  
  
-   Крупный значок  
  
     Используемые в представлении значок для полноразмерных значков.  
  
-   Мелкий значок  
  
     Используется в небольшой значок, список и представлений отчетов для уменьшенные значков, используемых в представлении значок.  
  
-   Состояния приложения  
  
     Содержит изображения состояния, которые отображены рядом со значком элемента для указания состояния, определяемые приложением.  
  
-   Элемент заголовка  
  
     Используется в представлении отчета для небольших изображений, отображаемых в каждом элементе управления заголовка.  
  
 По умолчанию элемента управления представления списком уничтожает списков изображений, назначенное ему при уничтожении; Однако это поведение можно настроить разработчик, уничтожение каждого списка изображений, когда он больше не используется, как определяется приложением. Дополнительные сведения см. в разделе [с помощью CListCtrl: элементы списков и списки изображений](../list-items-and-image-lists.md).  
  
## <a name="inheritance-hierarchy"></a>Иерархия наследования  
 [CObject](cobject-class.md)  
  
 [CCmdTarget](ccmdtarget-class.md)  
  
 [CWnd](cwnd-class.md)  
  
 `CListCtrl`  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** afxcmn.h  
  
##  <a name="approximateviewrect"></a>CListCtrl::ApproximateViewRect  
 Определяет ширину и высоту, необходимые для отображения элементов управления представления списком.  
  
```  
CSize ApproximateViewRect(
    CSize sz = CSize(-1,  
 -1),  
    int iCount = -1) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `sz`  
 Предложенные размеры элемента управления в пикселях. Если измерения не заданы, платформа использует текущие значения ширины и высоты элемента управления.  
  
 `iCount`  
 Число элементов, отображаемых в элементе управления. Если этот параметр имеет значение -1, платформа использует общее число элементов в данный момент, в элементе управления.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект `CSize` , содержащий приблизительную ширину и высоту, необходимые для отображения элементов, в пикселях.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_ApproximateViewRect](http://msdn.microsoft.com/library/windows/desktop/bb761231), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="arrange"></a>CListCtrl::Arrange  
 Перемещает элементы в представлении значками, чтобы они были выровнены по сетке.  
  
```  
BOOL Arrange(UINT nCode);
```  
  
### <a name="parameters"></a>Параметры  
 `nCode`  
 Задает стиль для элементов. Он может принимать одно из следующих значений:  
  
- `LVA_ALIGNLEFT`Выравнивание элементов вдоль левого края окна.  
  
- `LVA_ALIGNTOP`Выравнивание элементов вдоль верхнего края окна.  
  
- `LVA_DEFAULT`Выравнивание элементов согласно текущее представление списка стилей выравнивания (значение по умолчанию).  
  
- `LVA_SNAPTOGRID`Привязывает все значки до ближайшего позиции сетки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 `nCode` Параметр указывает стиль.  
  
### <a name="example"></a>Пример    
```cpp  
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

  
##  <a name="canceleditlabel"></a>CListCtrl::CancelEditLabel  
 Отменяет операцию редактирования текста элемента.  
  
```  
void CancelEditLabel();
```  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_CANCELEDITLABEL](http://msdn.microsoft.com/library/windows/desktop/bb774886) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="clistctrl"></a>CListCtrl::CListCtrl  
 Создает объект `CListCtrl`.  
  
```  
CListCtrl();
```  
  
##  <a name="create"></a>CListCtrl::Create  
 Создает элемент управления и присоединяет его к `CListCtrl` объекта.  
  
```  
virtual BOOL Create(
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID);
```  
  
### <a name="parameters"></a>Параметры  
 `dwStyle`  
 Задает стиль элемента управления списком. Примените любое сочетание список стилей элемента управления к элементу управления. В разделе [стили окна представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774739) в [!INCLUDE[winSDK](./includes/winsdk_md.md)] полный список этих стилей. Расширенные стили, определенные для элемента управления с помощью набора [SetExtendedStyle](#setextendedstyle).  
  
 `rect`  
 Задает размер и положение элемента управления списком. Это может быть либо `CRect` объекта или [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры.  
  
 `pParentWnd`  
 Указывает список родительского окна элемента управления, обычно `CDialog`. Оно не должно быть **NULL**.  
  
 `nID`  
 Указывает идентификатор элемента управления списком.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Создании `CListCtrl` в два этапа. Во-первых, вызовите конструктор, а затем вызвать **создать**, который создает элемент представления списка и присоединяет его к `CListCtrl` объекта.  
  
 Чтобы применить расширенные стили Windows объект элемента управления списка, вызовите [CreateEx](#createex) вместо **создать**.  
  
### <a name="example"></a>Пример  

```cpp  
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);   
```

  
##  <a name="createex"></a>CListCtrl::CreateEx  
 Создает элемент управления (дочернего окна) и связывает его с `CListCtrl` объекта.  
  
```  
virtual BOOL CreateEx(
    DWORD dwExStyle,  
    DWORD dwStyle,  
    const RECT& rect,  
    CWnd* pParentWnd,  
    UINT nID);
```  
  
### <a name="parameters"></a>Параметры  
 `dwExStyle`  
 Указывает расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows см. в разделе `dwExStyle` параметр [CreateWindowEx](http://msdn.microsoft.com/library/windows/desktop/ms632680) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
 `dwStyle`  
 Задает стиль элемента управления списком. Примените любое сочетание список стилей элемента управления к элементу управления. Полный список этих стилей см. в разделе [стили окна представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774739) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
 `rect`  
 Ссылку на [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры, описывающее размер и положение окна, чтобы создать, в клиентских координат `pParentWnd`.  
  
 `pParentWnd`  
 Указатель на окно, который является родительским для элемента управления.  
  
 `nID`  
 Идентификатор элемента управления дочернего окна.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Используйте `CreateEx` вместо [создать](#create) для применения расширенных стилей Windows, заданные к ней префикс расширенный стиль Windows **WS_EX_**.  
  
 `CreateEx`Создает элемент управления с помощью расширенных стилей Windows, заданные `dwExStyle`. Чтобы задать расширенные стили к элементу управления, вызовите [SetExtendedStyle](#setextendedstyle). Например, используйте `CreateEx` установка стилей, таких как **WS_EX_CONTEXTHELP**, но использовать `SetExtendedStyle` установка стилей, таких как **LVS_EX_FULLROWSELECT**. Дополнительные сведения см. в разделе стили, описаны в разделе [расширенных стилей представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774732) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="createdragimage"></a>CListCtrl::CreateDragImage  
 Создает список изображение перетаскивания для элемента, заданного параметром `nItem`.  
  
```  
CImageList* CreateDragImage(
    int nItem,  
    LPPOINT lpPoint);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, список изображений, перетащите она должна быть создана.  
  
 `lpPoint`  
 Адрес [ТОЧКИ](http://msdn.microsoft.com/library/windows/desktop/dd162805) в представлении координирует структуру, которая получает начальное расположение верхнего левого угла изображения.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на список изображений перетащите в случае успешного выполнения; в противном случае **NULL**.  
  
### <a name="remarks"></a>Примечания  
 `CImageList` Постоянный объект и его следует удалить после завершения. Пример:  
  

```cpp  
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

  
##  <a name="deleteallitems"></a>CListCtrl::DeleteAllItems  
 Удаляет все элементы из элемента управления представления списка.  
  
```  
BOOL DeleteAllItems();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

```cpp  
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

  
##  <a name="deletecolumn"></a>CListCtrl::DeleteColumn  
 Удаляет столбец из элемента управления представления списка.  
  
```  
BOOL DeleteColumn(int nCol);
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Индекс столбца.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

```cpp  
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

  
##  <a name="deleteitem"></a>CListCtrl::DeleteItem  
 Удаляет элемент из элемента управления представления списка.  
  
```  
BOOL DeleteItem(int nItem);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Указывает индекс удаляемого элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  
```cpp  
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

  
##  <a name="drawitem"></a>CListCtrl::DrawItem  
 Вызывается инфраструктурой при изменении внешнего вида представления управления рисование владельцем вносить изменения.  
  
```  
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```  
  
### <a name="parameters"></a>Параметры  
 `lpDrawItemStruct`  
 Длинный указатель `DRAWITEMSTRUCT` структуру, содержащую сведения о типе требуется рисования.  
  
### <a name="remarks"></a>Примечания  
 **ItemAction** членом [DRAWITEMSTRUCT](http://msdn.microsoft.com/library/windows/desktop/bb775802) структура определяет рисования действие, которое должно быть выполнено.  
  
 По умолчанию эта функция-член не выполняет никаких действий. Переопределить эту функцию-член для реализации отрисовки рисование владельцем `CListCtrl` объекта.  
  
 Приложение должно восстановить всех графических устройств интерфейс (GDI) выбранных объектов в контексте отображения указано в `lpDrawItemStruct` перед этим членом завершении функции.  
  
##  <a name="editlabel"></a>CListCtrl::EditLabel  
 Начинается в оперативное изменение текста элемента.  
  
```  
CEdit* EditLabel(int nItem);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента представления списка, который нужно изменить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 В случае успеха указатель `CEdit` объект, который используется для редактирования текста элемента; в противном случае **NULL**.  
  
### <a name="remarks"></a>Примечания  
 Элемент управления представления списком, имеет `LVS_EDITLABELS` стиль окна позволяет пользователю изменять метки элемента на месте. Пользователь начинает редактирования, щелкнув метку элемента, имеющий фокус.  
  
 Эта функция используется для начала редактирования на месте элемент представления списка указанного текста.  
  
### <a name="example"></a>Пример  
```cpp  
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

  
##  <a name="enablegroupview"></a>CListCtrl::EnableGroupView  
 Включает или отключает отображение в элементе управления списком элементы как группу.  
  
```  
LRESULT EnableGroupView(BOOL fEnable);
```  
  
### <a name="parameters"></a>Параметры  
 `fEnable`  
 Указывает элементу управления listview группы отображаемые элементы. **Значение TRUE,** для разрешения группирования; **FALSE** его отключить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает одно из следующих значений:  
  
- **0** возможность отображать список элементов, как группа уже включен или отключен.  
  
- **1** состояние элемента управления успешно изменен.  
  
- **Значение -1,** сбой операции.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_ENABLEGROUPVIEW](http://msdn.microsoft.com/library/windows/desktop/bb774900) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="ensurevisible"></a>CListCtrl::EnsureVisible  
 Обеспечивает элемент списка по крайней мере частично видимой.  
  
```  
BOOL EnsureVisible(
    int nItem,  
    BOOL bPartialOK);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс должен быть видим элемент представления списка.  
  
 `bPartialOK`  
 Указывает, допустимо ли частичная видимость.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 При необходимости может прокручиваться управления представления списком. Если `bPartialOK` параметр имеет ненулевое значение, прокрутки не возникает, если элемент является частично видимой.  
  
### <a name="example"></a>Пример  
```cpp  
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

  
##  <a name="finditem"></a>CListCtrl::FindItem  
 Выполняет поиск элемента представления списка, при указании характеристик.  
  
```  
int FindItem(
    LVFINDINFO* pFindInfo,  
    int nStart = -1) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pFindInfo`  
 Указатель на [LVFINDINFO](http://msdn.microsoft.com/library/windows/desktop/bb774745) структуру, содержащую сведения об элементе, для поиска.  
  
 `nStart`  
 Индекс элемента, чтобы начать поиск с или -1, чтобы начать с самого начала. Элемент `nStart` исключены из поиска, если `nStart` не равно -1.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс элемента, в случае успешного выполнения или значение -1, в противном случае.  
  
### <a name="remarks"></a>Примечания  
 `pFindInfo` Указывает параметр **LVFINDINFO** структура, которая содержит сведения, используемые для поиска элемента представления списка.  
  
### <a name="example"></a>Пример  

```cpp  
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

  
##  <a name="getbkcolor"></a>CListCtrl::GetBkColor  
 Получает цвет фона элемента управления представления списка.  
  
```  
COLORREF GetBkColor() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение, используется для указания цвета RGB.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetBkColor](#setbkcolor).  
  
##  <a name="getbkimage"></a>CListCtrl::GetBkImage  
 Получает текущее фоновое изображение элемента управления представления списка.  
  
```  
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `plvbkImage`  
 Указатель на **LVBKIMAGE** структура, содержащая текущее фоновое изображение в представлении списка.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает ненулевое значение, если успешно, или нуль, которые в противном случае.  
  
### <a name="remarks"></a>Примечания  
 Этот метод реализует поведение макрос Win32, [ListView_GetBkImage](http://msdn.microsoft.com/library/windows/desktop/bb761246), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

```cpp  
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("http://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

  
##  <a name="getcallbackmask"></a>CListCtrl::GetCallbackMask  
 Извлекает маска обратного вызова для элемента управления представления списка.  
  
```  
UINT GetCallbackMask() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Маска обратного вызова элемента управления представления списком.  
  
### <a name="remarks"></a>Примечания  
 Элемент представления списка, для которого является «Обратного вызова элемента» приложения, вместо элемента управления — хранит текст и значок. Несмотря на то, что элемент представления списка можно хранить эти атрибуты, можно использовать элементы обратного вызова, если приложение уже поддерживает некоторые из этих сведений. Маска обратного вызова определяет, какие биты состояния элемента поддерживаются приложением, и он применяется для всего элемента управления, а не к конкретному элементу. Маска обратного вызова по умолчанию равно&0;, это означает, что элемент управления отслеживает все состояния элемента. Если приложение использует элементы обратного вызова или маска обратного вызова ненулевое значение, его необходимо указать атрибуты элемента представления списка по запросу.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetCallbackMask](#setcallbackmask).  
  
##  <a name="getcheck"></a>CListCtrl::GetCheck  
 Получает текущее состояние отображения изображения, связанного с элементом.  
  
```  
BOOL GetCheck(int nItem) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Отсчитываемый от нуля индекс элемента управления списка.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если элемент выбран, в противном случае — 0.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetCheckState](http://msdn.microsoft.com/library/windows/desktop/bb761250), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetCheck](#setcheck).  
  
##  <a name="getcolumn"></a>CListCtrl::GetColumn  
 Извлекает атрибуты элемента управления представления списком столбцов.  
  
```  
BOOL GetColumn(
    int nCol,  
    LVCOLUMN* pColumn) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Индекс столбца, атрибуты которого должны быть получены.  
  
 `pColumn`  
 Адрес [LVCOLUMN](http://msdn.microsoft.com/library/windows/desktop/bb774743) структура, которая указывает, какую информацию необходимо вернуть и получает сведения о столбце. **Маска** элемент задает, какой столбец атрибутов для извлечения. Если **маска** указывает `LVCF_TEXT` значение, **pszText** член должен содержать адрес буфера, принимающего текста элемента и **cchTextMax** элемента необходимо указать размер буфера.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 **LVCOLUMN** структура содержит сведения о столбце в представлении отчета.  
  
### <a name="example"></a>Пример  

```cpp  
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

  
##  <a name="getcolumnorderarray"></a>CListCtrl::GetColumnOrderArray  
 Возвращает порядок столбцов (слева направо) элемента управления представления списка.  
  
```  
BOOL GetColumnOrderArray(
    LPINT piArray,  
    int iCount = -1);
```  
  
### <a name="parameters"></a>Параметры  
 `piArray`  
 Указатель на буфер, который будет содержать значения индексов столбцов в элементе управления списка. Буфер должен быть достаточно большим, чтобы содержать общее число столбцов в элементе управления списка.  
  
 `iCount`  
 Число столбцов в элементе управления списка. Если этот параметр имеет значение -1, число столбцов автоматически извлекается платформой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetColumnOrderArray](http://msdn.microsoft.com/library/windows/desktop/bb761254), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

```cpp  
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

  
##  <a name="getcolumnwidth"></a>CListCtrl::GetColumnWidth  
 Получает ширину столбца в представлении отчета или списка.  
  
```  
int GetColumnWidth(int nCol) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Указывает индекс столбца, ширина которого требуется получить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ширина в пикселях столбца, указанного `nCol`.  
  
### <a name="example"></a>Пример  

```cpp  
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

  
##  <a name="getcountperpage"></a>CListCtrl::GetCountPerPage  
 Вычисляет количество элементов, которое может уместиться по вертикали в видимую область элемента управления представления списка в представлении списка или отчета.  
  
```  
int GetCountPerPage() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Количество элементов, которое может уместиться по вертикали в видимую область элемента управления представления списка в представлении списка или отчета.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetTopIndex](#gettopindex).  
  
##  <a name="geteditcontrol"></a>CListCtrl::GetEditControl  
 Получает дескриптор элемента управления, используемый для редактирования текста элемента представления списка.  
  
```  
CEdit* GetEditControl() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 В случае успеха указатель [CEdit](cedit-class.md) объект, который используется для редактирования текста элемента; в противном случае **NULL**.  
  
### <a name="example"></a>Пример  

```cpp  
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

  
##  <a name="getemptytext"></a>CListCtrl::GetEmptyText  
 Получает строку для отображения, если текущий элемент управления представление списка является пустым.  
  
```  
CString GetEmptyText() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий текст, отображаемый, если элемент управления является пустым.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETEMPTYTEXT](http://msdn.microsoft.com/library/windows/desktop/bb774921) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getextendedstyle"></a>CListCtrl::GetExtendedStyle  
 Получает текущий расширенные стили элемента управления представления списка.  
  
```  
DWORD GetExtendedStyle();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Элемент управления представления сочетание расширенных стилей, используемых в настоящее время в списке. Составить список этих расширенных стилей, в разделе [расширенных стилей представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774732) раздел в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetExtendedListViewStyle](http://msdn.microsoft.com/library/windows/desktop/bb761264), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetExtendedStyle](#setextendedstyle).  
  
##  <a name="getfirstselecteditemposition"></a>CListCtrl::GetFirstSelectedItemPosition  
 Возвращает позицию первого выбранного элемента в элементе управления списка.  
  
```  
POSITION GetFirstSelectedItemPosition() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект **положение** значение, которое может использоваться для итерации или получения указатель объекта; **NULL** Если элементы не выбраны.  
  
### <a name="example"></a>Пример  
 В следующем образце кода показано использование этой функции.  
  

```cpp  
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

  
##  <a name="getfocusedgroup"></a>CListCtrl::GetFocusedGroup  
 Получает группу, имеет фокус в текущий элемент управления представления списка.  
  
```  
int GetFocusedGroup() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс группы, состояние которой `LVGS_FOCUSED`, если такая группа; в противном случае — значение -1.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETFOCUSEDGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774925) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Дополнительные сведения см. в разделе `LVGS_FOCUSED` значение `state` членом [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуры.  
  
##  <a name="getgroupcount"></a>CListCtrl::GetGroupCount  
 Получает число групп в текущий элемент управления представления списка.  
  
```  
int GetGroupCount()const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Число групп в элементе управления представления списка.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETGROUPCOUNT](http://msdn.microsoft.com/library/windows/desktop/bb774931) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)] -->.  
  
##  <a name="getgroupinfo"></a>CListCtrl::GetGroupInfo  
 Возвращает сведения для определенной группы управления представления списком.  
  
```  
int GetGroupInfo(
    int iGroupId,  
    PLVGROUP pgrp) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `iGroupId`  
 Идентификатор группы, сведения о которой требуется получить.  
  
 `pgrp`  
 Указатель на [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) со сведениями о группе, указанной.  
  
### <a name="return-value"></a>Возвращаемое значение  
 В противном случае возвращает идентификатор группы, в случае успешного выполнения или значение -1.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETGROUPINFO](http://msdn.microsoft.com/library/windows/desktop/bb774932) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getgroupinfobyindex"></a>CListCtrl::GetGroupInfoByIndex  
 Получает сведения об указанной группе в текущий элемент управления представления списка.  
  
```  
BOOL GetGroupInfoByIndex(
    int iIndex,   
    PLVGROUP pGroup) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `iIndex`|Отсчитываемый от нуля индекс в группе.|  
|[выходной] `pGroup`|Указатель на [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуры, который получает сведения о группе, указанной в `iIndex` параметр.<br /><br /> Вызывающий объект отвечает за инициализацию членов [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуры. Задайте `cbSize` размер структуры и флаги `mask` члена для указания извлекаемых данных.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETGROUPINFOBYINDEX](http://msdn.microsoft.com/library/windows/desktop/bb774933) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)] -->.  
  
### <a name="example"></a>Пример  
 В следующем примере кода определяется переменная, `m_listCtrl`, который используется для доступа к текущего элемента управления представления списка. Эта переменная используется в следующем примере.  

```cpp  
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl; 
```

  
### <a name="example"></a>Пример  
 В следующем примере кода показано `GetGroupInfoByIndex` метод. В предыдущем разделе этого кода в примере мы создали управления представления списка отображаются два столбца, под названием «ClientID» и «Уровень» в представлении отчета. В следующем примере кода извлекает сведения о группе, индекс которого задано значение 0, если существует такая группа.    
```cpp  
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure 
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

  
##  <a name="getgroupmetrics"></a>CListCtrl::GetGroupMetrics  
 Получает метрики группы.  
  
```  
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pGroupMetrics`  
 Указатель на [LVGROUPMETRICS](http://msdn.microsoft.com/library/windows/desktop/bb774752) содержит сведения о группе показателей.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETGROUPMETRICS](http://msdn.microsoft.com/library/windows/desktop/bb774934) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getgrouprect"></a>CListCtrl::GetGroupRect  
 Возвращает ограничивающий прямоугольник для указанной группы в текущий элемент управления представления списка.  
  
```  
BOOL GetGroupRect(
    int iGroupId,   
    LPRECT lpRect,   
    int iCoords = LVGGR_GROUP) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `iGroupId`|Указывает группу.|  
|[in, out] `lpRect`|Указатель на [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры. В случае успешной структуры получает координат прямоугольника группы, который задается параметром `iGroupId`.|  
|[in] `iCoords`|Задает для извлечения координат прямоугольника. Используйте одно из следующих значений:<br /><br /> - `LVGGR_GROUP`-Координаты всей развернутой группы (по умолчанию).<br />- `LVGGR_HEADER`-Координаты заголовка (свернутой группы).<br />- `LVGGR_SUBSETLINK`-Координаты только подмножество ссылки (подмножество разметки).|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Вызывающий объект отвечает за выделение [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры, на который указывает `pRect` параметр.  
  
 Этот метод отправляет [LVM_GETGROUPRECT](http://msdn.microsoft.com/library/windows/desktop/bb774935) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
 В следующем примере кода определяется переменная, `m_listCtrl`, который используется для доступа к текущего элемента управления представления списка. Эта переменная используется в следующем примере.    
```cpp  
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl; 
```

  
### <a name="example"></a>Пример  
 В следующем примере кода показано `GetGroupRect` метод. В предыдущем разделе этого примера кода мы создали управления представления списка, отображаются два столбца, под названием «ClientID» и «Уровень» в представлении отчета. В следующем примере кода рисует 3D прямоугольник вокруг группы, индекс которого задано значение 0, если такая группа существует.    
  
```cpp  
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP); 
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

  
##  <a name="getgroupstate"></a>CListCtrl::GetGroupState  
 Получает состояние для указанной группы в текущий элемент управления представления списка.  
  
```  
UINT GetGroupState(
    int iGroupId,   
    DWORD dwMask) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `iGroupId`|Отсчитываемый от нуля индекс в группе.|  
|[in] `dwMask`|Маска, которая указывает значение состояния для извлечения для указанной группы. Дополнительные сведения см. в разделе `mask` членом [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуры.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 Запрошенное состояние для указанной группы, или 0, если не удается найти группу.  
  
### <a name="remarks"></a>Примечания  
 Возвращаемое значение является результатом побитовой операции AND на `dwMask` и значение параметра `state` членом [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуру, которая представляет текущий элемент управления представления списка.  
  
 Этот метод отправляет [LVM_GETGROUPSTATE](http://msdn.microsoft.com/library/windows/desktop/bb774936) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Дополнительные сведения см. в разделе [ListView_GetGroupState](http://msdn.microsoft.com/library/windows/desktop/bb761288) макрос.  
  
##  <a name="getheaderctrl"></a>CListCtrl::GetHeaderCtrl  
 Возвращает элемент управления заголовка элемента управления представления списка.  
  
```  
CHeaderCtrl* GetHeaderCtrl();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на элемент управления заголовок, используемые элементом управления представления списка.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetHeader](http://msdn.microsoft.com/library/windows/desktop/bb761290), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).  
  
##  <a name="gethotcursor"></a>CListCtrl::GetHotCursor  
 Возвращает курсор, используемый, если включено отслеживание для элемента управления представления списка.  
  
```  
HCURSOR GetHotCursor();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор текущего ресурса горячей курсор, используемый для управления представления списком.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetHotCursor](http://msdn.microsoft.com/library/windows/desktop/bb761292), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Горячий курсор отображается, только если выбор при наведении курсора мыши включен, отображается при наведении курсора на любой элемент списка. Выбор при наведении курсора мыши включен, задав **LVS_EX_TRACKSELECT** расширенный стиль.  
  
### <a name="example"></a>Пример    
  
```cpp  
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

  
##  <a name="gethotitem"></a>CListCtrl::GetHotItem  
 Извлекает элемент списка в настоящее время под курсором.  
  
```  
int GetHotItem();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс текущего горячей элемента управления представления списком.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetHotItem](http://msdn.microsoft.com/library/windows/desktop/bb761294), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Определены модной выбранного элемента при горячей отслеживания (Выбор при наведении) включен.  
  
 Если включено отслеживание, когда пользователь задерживает на элемент списка, метки элемента автоматически выделяется без использования кнопки мыши.  
  
### <a name="example"></a>Пример    
  
```cpp  
    // Set the hot item to the first item only if no other item is 
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

  
##  <a name="gethovertime"></a>CListCtrl::GetHoverTime  
 Возвращает текущее время управления представления списком при наведении указателя мыши.  
  
```  
DWORD GetHoverTime() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает задержку в миллисекундах, в которых курсор мыши необходимо подведите курсор к элементу, прежде чем он выбран. Если возвращаемое значение равно -1, времени наведения является время при наведении указателя мыши по умолчанию.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetHoverTime](http://msdn.microsoft.com/library/windows/desktop/bb761296), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример    
  
```cpp  
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

  
##  <a name="getimagelist"></a>CListCtrl::GetImageList  
 Получает дескриптор список изображений, используемый для рисования элементы списка.  
  
```  
CImageList* GetImageList(int nImageList) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nImageList`  
 Значение, указывающее, какой список изображений для извлечения. Он может принимать одно из следующих значений:  
  
- `LVSIL_NORMAL`Список изображений с помощью крупных значков.  
  
- `LVSIL_SMALL`Список изображений с маленькими значками.  
  
- `LVSIL_STATE`Список изображений с изображениями состояния.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на список изображений, используемый для рисования элементы списка.  
  
### <a name="example"></a>Пример    
  
```cpp  
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

  
##  <a name="getinsertmark"></a>CListCtrl::GetInsertMark  
 Получает текущее положение знака вставки.  
  
```  
BOOL GetInsertMark(LPLVINSERTMARK lvim) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lvim`  
 Указатель на [LVINSERTMARK](http://msdn.microsoft.com/library/windows/desktop/bb774758) структуру, содержащую сведения для вставки знака.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения или **FALSE** в противном случае. **FALSE** возвращается, если размер в `cbSize` членом **LVINSERTMARK** структуры не равно фактический размер структуры.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETINSERTMARK](http://msdn.microsoft.com/library/windows/desktop/bb774945) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getinsertmarkcolor"></a>CListCtrl::GetInsertMarkColor  
 Получает текущий цвет знака вставки.  
  
```  
COLORREF GetInsertMarkColor() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) структуру, содержащую цвет курсора.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETINSERTMARKCOLOR](http://msdn.microsoft.com/library/windows/desktop/bb774947) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getinsertmarkrect"></a>CListCtrl::GetInsertMarkRect  
 Возвращает прямоугольник, ограничивающий курсор.  
  
```  
int GetInsertMarkRect(LPRECT pRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pRect`  
 Указатель на `RECT` структуру, которая содержит координаты курсора ограничивающий прямоугольник.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает одно из следующих значений:  
  
- **0** , курсор не найден.  
  
- **1** найдена точка вставки.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETINSERTMARKRECT](http://msdn.microsoft.com/library/windows/desktop/bb774949) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getitem"></a>CListCtrl::GetItem  
 Получает один или несколько атрибутов элемента представления списка.  
  
```  
BOOL GetItem(LVITEM* pItem) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pItem`  
 Указатель на [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуру, которая получает атрибуты элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 **LVITEM** структура указывает или получает атрибуты элемента представления списка.  
  
##  <a name="getitemcount"></a>CListCtrl::GetItemCount  
 Получает число элементов в элементе управления списком.  
  
```  
int GetItemCount() const; 
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Число элементов в элементе управления списка.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::DeleteItem](#deleteitem).  
  
##  <a name="getitemdata"></a>CListCtrl::GetItemData  
 Получает 32-разрядное значение конкретного приложения, связанные с элемента, заданного параметром `nItem`.  
  
```  
DWORD_PTR GetItemData(int nItem) const; 
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента списка, данные которой требуется извлечь.  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение конкретного приложения, связанный с указанным элементом.  
  
### <a name="remarks"></a>Примечания  
 Это значение является **lParam** членом [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры, как описано в[!INCLUDE[winSDK](./includes/winsdk_md.md)]  
  
### <a name="example"></a>Пример  

```cpp  
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

  
##  <a name="getitemindexrect"></a>CListCtrl::GetItemIndexRect  
 Возвращает ограничивающий прямоугольник для всей или части вложенный в текущий элемент управления представления списка.  
  
```  
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,   
    int iColumn,   
    int rectType,   
    LPRECT pRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `pItemIndex`|Указатель на [LVITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb774762) структуру для родительского элемента данного подэлемента.<br /><br /> Вызывающий объект отвечает за выделение и настройка членов [LVITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb774762) структуры. Этот параметр не может быть `NULL`.|  
|[in] `iColumn`|Отсчитываемый от нуля индекс столбца в элементе управления.|  
|[in] `rectType`|Часть подэлемента представление списка, для которого извлекается ограничивающий прямоугольник. Укажите одно из следующих значений.<br /><br /> `LVIR_BOUNDS`— Возвращает прямоугольник, ограничивающий весь вложенного элемента, включая значок и метку.<br /><br /> `LVIR_ICON`— Возвращает ограничивающий прямоугольник значка или мелкого значка вложенного элемента.<br /><br /> `LVIR_LABEL`— Возвращает прямоугольник, ограничивающий текста подэлемента.|  
|[выходной] `pRect`|Указатель на [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры, который получает сведения о ограничивающий прямоугольник вложенного элемента.<br /><br /> Вызывающий объект отвечает за выделение [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры. Этот параметр не может быть `NULL`.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETITEMINDEXRECT](http://msdn.microsoft.com/library/windows/desktop/bb761046) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Дополнительные сведения см. в разделе [ListView_GetItemIndexRect макрос](http://msdn.microsoft.com/library/windows/desktop/bb774959).  
  
### <a name="example"></a>Пример  
 В следующем примере кода определяется переменная, `m_listCtrl`, который используется для доступа к текущего элемента управления представления списка. Эта переменная используется в следующем примере.    
  
```cpp  
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl; 
```

  
### <a name="example"></a>Пример  
 В следующем примере кода показано `GetGroupRect` метод. Перед выполнением этого кода в примере, мы создали управления представления списка отображаются два столбца, под названием «ClientID» и «Уровень» в представлении отчета. В следующем примере кода рисует 3D прямоугольник вокруг второй подэлемента в обоих столбцах.    
  
```cpp  
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

  
##  <a name="getitemposition"></a>CListCtrl::GetItemPosition  
 Получает положение элемента представления списка.  
  
```  
BOOL GetItemPosition(
    int nItem,  
    LPPOINT lpPoint) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемент, позиция которого требуется получить.  
  
 `lpPoint`  
 Адрес [ТОЧКИ](http://msdn.microsoft.com/library/windows/desktop/dd162805) структуру, которая получает положение верхнего левого угла элемента в представлении координаты.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример    
  
```cpp  
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }   
```

  
##  <a name="getitemrect"></a>CListCtrl::GetItemRect  
 Возвращает ограничивающий прямоугольник для всей или части элемента в текущем представлении.  
  
```  
BOOL GetItemRect(
    int nItem,  
    LPRECT lpRect,  
    UINT nCode) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемент, позиция которого требуется получить.  
  
 `lpRect`  
 Адрес [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуру, которая получает ограничивающего прямоугольника.  
  
 `nCode`  
 Часть элемента представления списка, для которого требуется получить ограничивающий прямоугольник. Он может принимать одно из следующих значений:  
  
- `LVIR_BOUNDS`Возвращает прямоугольник, ограничивающий весь элемент, включая значок и метку.  
  
- `LVIR_ICON`Возвращает ограничивающий прямоугольник значка или мелкого значка.  
  
- `LVIR_LABEL`Возвращает ограничивающий прямоугольник для текста элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример    
  
```cpp  
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() ); 
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in 
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

  
##  <a name="getitemspacing"></a>CListCtrl::GetItemSpacing  
 Вычисляет расстояние между элементами в текущий элемент управления представления списка.  
  
```  
BOOL GetItemSpacing(
    BOOL fSmall,   
    int* pnHorzSpacing,   
    int* pnVertSpacing) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `fSmall`|Представление, для которого извлекается элемент интервалы. Укажите `true` для мелкими значками, или `false` для значков.|  
|[выходной] `pnHorzSpacing`|Содержит интервал по горизонтали между элементами.|  
|[выходной] `pnVertSpacing`|Содержит интервал по вертикали между элементами.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_GETITEMSPACING](http://msdn.microsoft.com/library/windows/desktop/bb761051) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getitemstate"></a>CListCtrl::GetItemState  
 Получает состояние представления элемента списка.  
  
```  
UINT GetItemState(
    int nItem,  
    UINT nMask) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, состояние которой требуется извлечь.  
  
 `nMask`  
 Маска, указывающая, что состояние элемента флаги для возврата.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Просмотреть элемент флаги состояния для указанного списка.  
  
### <a name="remarks"></a>Примечания  
 Состояние элемента определяется **состояние** членом [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Если указать или изменить состояние элемента, **stateMask** элемент указывает, какие биты состояния, которые требуется изменить.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetTopIndex](#gettopindex).  
  
##  <a name="getitemtext"></a>CListCtrl::GetItemText  
 Извлекает текст элемент списка или подэлемента.  
  
```  
int GetItemText(
    int nItem,  
    int nSubItem,  
    LPTSTR lpszText,  
    int nLen) const; 
 
CString GetItemText(
    int nItem,  
    int nSubItem) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, текст которой требуется извлечь.  
  
 `nSubItem`  
 Указывает, текст которой требуется извлечь вложенного элемента.  
  
 `lpszText`  
 Указатель на строку, получающего текста элемента.  
  
 `nLen`  
 Размер буфера, на который указывает `lpszText`.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает версию `int` возвращает длину полученные строки.  
  
 Возвращает версию `CString` возвращает текст элемента.  
  
### <a name="remarks"></a>Примечания  
 Если `nSubItem` равен нулю, эта функция извлекает метку элемента; Если `nSubItem` имеет ненулевое значение, он извлекает текст подэлемента. Дополнительные сведения о аргумент подэлемента см [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) в структуре [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getnextitem"></a>CListCtrl::GetNextItem  
 Выполняет поиск списка просмотра элемента, который имеет указанные свойства и имеет указанную связь с данным объектом.  
  
```  
int GetNextItem(
    int nItem,  
    int nFlags) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, чтобы начать поиск с или -1, чтобы найти первый элемент, соответствующий указанные флаги. Сам элемент исключены из поиска.  
  
 `nFlags`  
 Геометрическое отношение требуемого элемента для указанного элемента и состояния запрошенного элемента. Геометрическое отношение может принимать одно из следующих значений:  
  
- `LVNI_ABOVE`Выполняет поиск элемента, расположенного над указанным элементом.  
  
- `LVNI_ALL`Поиск последующего элемента по индексу (значение по умолчанию).  
  
- `LVNI_BELOW`Выполняет поиск элемента, расположенного под указанным элементом.  
  
- `LVNI_TOLEFT`Выполняет поиск элемента слева от указанного элемента.  
  
- `LVNI_TORIGHT`Выполняет поиск элемента справа от указанного элемента.  
  
 Состояние может быть равен нулю, или он может быть один или несколько из следующих значений:  
  
- `LVNI_DROPHILITED`Элемент имеет `LVIS_DROPHILITED` флаг состояния.  
  
- `LVNI_FOCUSED`Элемент имеет `LVIS_FOCUSED` флаг состояния.  
  
- `LVNI_SELECTED`Элемент имеет `LVIS_SELECTED` флаг состояния.  
  
 Если элемент не имеет всех указанное состояние набор флагов, поиск продолжается для следующего элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс следующего элемента в случае успешного выполнения или значение -1, в противном случае.  
  
##  <a name="getnextitemindex"></a>CListCtrl::GetNextItemIndex  
 Возвращает индекс элемента в текущий элемент управления представления списка с указанного набора свойств.  
  
```  
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,   
    int nFlags) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in, out] `pItemIndex`|Указатель на [LVITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb774762) структуру, которая описывает элемент, с которой начинается поиск, или -1, чтобы найти первый элемент, соответствующий флаги в `nFlags` параметр.<br /><br /> Если этот метод выполнен успешно, `LVITEMINDEX` структура описывает элемент, найденных при поиске.|  
|[in] `nFlags`|Побитовое сочетание (или) флагов, определяющих способ выполнения поиска.<br /><br /> Поиск может зависеть от индекса, состояния или внешний вид целевого элемента или физическое положение целевого элемента относительно элемента, указанных в `pItemIndex` параметр. Дополнительные сведения см. в разделе `flags` параметр в [LVM_GETNEXTITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb761059) сообщений.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Вызывающий объект отвечает за выделение и настройка членов `LVITEMINDEX` структуры, на который указывает `pItemIndex` параметр.  
  
 Этот метод отправляет [LVM_GETNEXTITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb761059) сообщения, которое описано в пакете Windows SDK.  
  
##  <a name="getnextselecteditem"></a>CListCtrl::GetNextSelectedItem  
 Возвращает индекс элемента списка, который определяется `pos`, затем устанавливает *pos* для **положение** значение.  
  
```  
int GetNextSelectedItem(POSITION& pos) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pos`  
 Ссылку на **ПОЗИЦИИ** значение, возвращенное предыдущим вызовом `GetNextSelectedItem` или `GetFirstSelectedItemPosition`. Значение обновляется до следующей позиции при вызове этого метода.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс элемента списка, который определяется `pos`.  
  
### <a name="remarks"></a>Примечания  
 Можно использовать `GetNextSelectedItem` в прямой итерации цикла, если установить начальное положение, с помощью вызова `GetFirstSelectedItemPosition`.  
  
 Необходимо убедиться, что ваш **ПОЗИЦИИ** имеет допустимое значение. Если он является недопустимым, утверждает отладочную версию библиотеки Microsoft Foundation Class.  
  
### <a name="example"></a>Пример  
 В следующем образце кода показано использование этой функции.    
  
```cpp  
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

  
##  <a name="getnumberofworkareas"></a>CListCtrl::GetNumberOfWorkAreas  
 Получает текущее число рабочие области для элемента управления представления списка.  
  
```  
UINT GetNumberOfWorkAreas() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Не используется в данный момент.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetNumberOfWorkAreas](http://msdn.microsoft.com/library/windows/desktop/bb774988), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример    
  
```cpp  
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right, 
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));   
        }

```

  
##  <a name="getoutlinecolor"></a>CListCtrl::GetOutlineColor  
 Возвращает цвет границы элемента управления представления списка.  
  
```  
COLORREF GetOutlineColor() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) структуру, содержащую цвет контура.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETOUTLINECOLOR](http://msdn.microsoft.com/library/windows/desktop/bb761065) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getorigin"></a>CListCtrl::GetOrigin  
 Получает текущий исходный вид для элемента управления представления списка.  
  
```  
BOOL GetOrigin(LPPOINT lpPoint) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpPoint`  
 Адрес [ТОЧКИ](http://msdn.microsoft.com/library/windows/desktop/dd162805) структуру, которая получает исходный вид.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;. Тем не менее если элемент управления находится в представлении отчетов, возвращаемое значение всегда равно нулю.  
  
##  <a name="getselectedcolumn"></a>CListCtrl::GetSelectedColumn  
 Получает индекс столбца в данный момент выбран в элементе управления списком.  
  
```  
UINT GetSelectedColumn() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс выбранного столбца.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETSELECTEDCOLUMN](http://msdn.microsoft.com/library/windows/desktop/bb761067) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getselectedcount"></a>CListCtrl::GetSelectedCount  
 Получает число выбранных элементов в элементе управления списка.  
  
```  
UINT GetSelectedCount() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Число выбранных элементов в элементе управления списка.  
  
### <a name="example"></a>Пример    
  
```cpp  
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem); 
            }
        }
```

  
##  <a name="getselectionmark"></a>CListCtrl::GetSelectionMark  
 Возвращает знак выбора элемента управления представления списка.  
  
```  
int GetSelectionMark();
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Метки с нуля выделения, или -1, если не установлен выбора.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetSelectionMark](http://msdn.microsoft.com/library/windows/desktop/bb774998), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

```cpp  
    // Set the selection mark to the first item only if no other item is 
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

  
##  <a name="getstringwidth"></a>CListCtrl::GetStringWidth  
 Определяет минимальную ширину столбца необходимая для отображения всех заданной строки.  
  
```  
int GetStringWidth(LPCTSTR lpsz) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpsz`  
 Адрес, идентифицирующий, ширина которого требуется определить.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ширина в пикселях строки, на который указывает `lpsz`.  
  
### <a name="remarks"></a>Примечания  
 Возвращаемый ширину учитывает текущий шрифт элемента управления и поля столбца, но не ширину мелкого значка.  
  
### <a name="example"></a>Пример  

```cpp  
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

  
##  <a name="getsubitemrect"></a>CListCtrl::GetSubItemRect  
 Возвращает прямоугольник, ограничивающий элемента в элементе управления списком.  
  
```  
BOOL GetSubItemRect(
    int iItem,  
    int iSubItem,  
    int nArea,  
    CRect& ref);
```  
  
### <a name="parameters"></a>Параметры  
 *Товар*  
 Индекс подэлемента родительского элемента.  
  
 *iSubItem*  
 От единицы индекс подэлемента.  
  
 *nArea*  
 Определяет часть ограничивающий прямоугольник (вложенного элемента представления списка) для извлечения. (Значок, метку или оба) часть прямоугольника, ограничивающего указывается путем применения оператора побитового или для одной или нескольких из следующих значений:  
  
- `LVIR_BOUNDS`Возвращает прямоугольник, ограничивающий весь элемент, включая значок и метку.  
  
- `LVIR_ICON`Возвращает ограничивающий прямоугольник значка или мелкого значка.  
  
- `LVIR_LABEL`Возвращает прямоугольник, ограничивающий весь элемент, включая значок и метку. Этот метод идентичен `LVIR_BOUNDS`.  
  
 `ref`  
 Ссылка на [CRect](../../atl-mfc-shared/reference/crect-class.md) прямоугольника, ограничивающего объект, содержащий координаты вложенного элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetSubItemRect](http://msdn.microsoft.com/library/windows/desktop/bb775004), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="gettextbkcolor"></a>CListCtrl::GetTextBkColor  
 Получает цвет фона текстового элемента управления представления списка.  
  
```  
COLORREF GetTextBkColor() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение, используется для указания цвета RGB.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetTextBkColor](#settextbkcolor).  
  
##  <a name="gettextcolor"></a>CListCtrl::GetTextColor  
 Возвращает цвет текста элемента управления представления списка.  
  
```  
COLORREF GetTextColor() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 32-разрядное значение, используется для указания цвета RGB.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::SetTextColor](#settextcolor).  
  
##  <a name="gettileinfo"></a>CListCtrl::GetTileInfo  
 Извлекает сведения о плитки в элементе управления списком.  
  
```  
BOOL GetTileInfo(PLVTILEINFO pti) const;  
```  
  
### <a name="parameters"></a>Параметры  
 *PTI*  
 Указатель на [LVTILEINFO](http://msdn.microsoft.com/library/windows/desktop/bb774766) структуру, которая получает данные плитки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращаемое значение не используется.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETTILEINFO](http://msdn.microsoft.com/library/windows/desktop/bb761081) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="gettileviewinfo"></a>CListCtrl::GetTileViewInfo  
 Получает сведения об элементе управления списком мозаичного представления.  
  
```  
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `ptvi`  
 Указатель на [LVTILEVIEWINFO](http://msdn.microsoft.com/library/windows/desktop/bb774768) структуру, которая получает Извлеченная информация.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращаемое значение не используется.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETTILEVIEWINFO](http://msdn.microsoft.com/library/windows/desktop/bb761083) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="gettooltips"></a>CListCtrl::GetToolTips  
 Возвращает элемент управления всплывающей подсказки, используемого элементом управления представления списка для отображения подсказки.  
  
```  
CToolTipCtrl* GetToolTips() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на [CToolTipCtrl](ctooltipctrl-class.md) , который используется элементом управления списка. Если [создать](#create) функция-член использует стиль **LVS_NOTOOLTIPS**, подсказки не используются, и **NULL** возвращается.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение сообщения Win32 [LVM_GETTOOLTIPS](http://msdn.microsoft.com/library/windows/desktop/bb761085), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Реализация MFC `GetToolTips` возвращает `CToolTipCtrl` объект, который используется для управления списком, а не дескриптор для элемента управления всплывающей подсказки.  
  
### <a name="example"></a>Пример  

```cpp  
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

  
##  <a name="gettopindex"></a>CListCtrl::GetTopIndex  
 Извлекает индекс верхний видимый элемент в представлении списка или отчета.  
  
```  
int GetTopIndex() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс верхний видимый элемент.  
  
### <a name="example"></a>Пример  

 
```cpp  
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED); 
        }
```

  
##  <a name="getview"></a>CListCtrl::GetView  
 Возвращает представление элемента управления представления списка.  
  
```  
DWORD GetView() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Текущее представление элемента управления представления списка.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_GETVIEW](http://msdn.microsoft.com/library/windows/desktop/bb761091) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="getviewrect"></a>CListCtrl::GetViewRect  
 Возвращает прямоугольник, ограничивающий всех элементов в элементе управления списка.  
  
```  
BOOL GetViewRect(LPRECT lpRect) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `lpRect`  
 Адрес [RECT](http://msdn.microsoft.com/library/windows/desktop/dd162897) структуры.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Представление списка должен быть в режиме небольшой значок или значок.  
  
##  <a name="getworkareas"></a>CListCtrl::GetWorkAreas  
 Получает текущий рабочие области элемента управления представления списка.  
  
```  
void GetWorkAreas(
    int nWorkAreas,  
    LPRECT prc) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `nWorkAreas`  
 Число `RECT` структуры, содержащихся в *КНР* массива.  
  
 `prc`  
 Указатель на массив `RECT` структуры (или [CRect](../../atl-mfc-shared/reference/crect-class.md) объектов) получают рабочие области элемента управления представления списка. Значения в этих структурах находятся в клиентских координатах.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_GetWorkAreas](http://msdn.microsoft.com/library/windows/desktop/bb775024), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).  
  
##  <a name="hasgroup"></a>CListCtrl::HasGroup  
 Определяет, имеет ли элемент представления списка указанной группы.  
  
```  
BOOL HasGroup(int iGroupId) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `iGroupId`  
 Идентификатор запрашиваемого группы.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения **FALSE** в случае сбоя.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_HASGROUP](http://msdn.microsoft.com/library/windows/desktop/bb761097) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="hittest"></a>CListCtrl::HitTest  
 Определяет какой элемент представления списка, если он имеется в указанной позиции.  
  
```  
int HitTest(LVHITTESTINFO* pHitTestInfo) const;  
  
int HitTest(
    CPoint pt,  
    UINT* pFlags = NULL) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pHitTestInfo`  
 Адрес **LVHITTESTINFO** структуру, содержащую позиции нажму теста, которые получает сведения о результатах проверки нажатия.  
  
 `pt`  
 Проверяемая точка.  
  
 `pFlags`  
 Указатель на целое число, которое получает сведения о результатах теста. См. описание **флаги** членом [LVHITTESTINFO](http://msdn.microsoft.com/library/windows/desktop/bb774754) в структуре [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс элемента в позиции, указанной параметром `pHitTestInfo`, если таковое имеется, или значение -1, в противном случае.  
  
### <a name="remarks"></a>Примечания  
 Можно использовать `LVHT_ABOVE`, `LVHT_BELOW`, `LVHT_TOLEFT`, и `LVHT_TORIGHT` значения структуры **флаг** члена для определения необходимости прокручивает содержимое элемента управления представления списком. Два из этих флагов можно объединить, например, если позиция сверху и слева от клиентской области.  
  
 Можно проверить, **LVHT_ONITEM** значение структуры **флаг** участнику, чтобы определить, превышает ли заданной позиции элемента представления списка. Это значение является операция побитового или на `LVHT_ONITEMICON`, `LVHT_ONITEMLABEL`, и `LVHT_ONITEMSTATEICON` значения структуры **флаг** член.  
  
### <a name="example"></a>Пример  

```cpp  
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED, 
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

  
##  <a name="insertcolumn"></a>CListCtrl::InsertColumn  
 Вставка нового столбца в элементе управления списком.  
  
```  
int InsertColumn(
    int nCol,  
    const LVCOLUMN* pColumn);

 
int InsertColumn(
    int nCol,  
    LPCTSTR lpszColumnHeading,  
    int nFormat = LVCFMT_LEFT,  
    int nWidth = -1,  
    int nSubItem = -1);
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Индекс нового столбца.  
  
 `pColumn`  
 Адрес **LVCOLUMN** структуру, содержащую атрибуты нового столбца.  
  
 *lpszColumnHeading*  
 Адрес строка, содержащая заголовок столбца.  
  
 `nFormat`  
 Целое число, задающее выравнивание столбца. Он может принимать одно из следующих значений: **LVCFMT_LEFT**, **LVCFMT_RIGHT**, или **LVCFMT_CENTER**.  
  
 `nWidth`  
 Ширина столбца в пикселях. Если этот параметр имеет значение -1, ширина столбца не задано.  
  
 `nSubItem`  
 Индекс подэлемента, связанный со столбцом. Если этот параметр имеет значение -1, связанное со столбцом нет подэлемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс нового столбца в случае успешного выполнения или значение -1, в противном случае.  
  
### <a name="remarks"></a>Примечания  
 Крайний слева столбец в элементе управления списком должен быть по левому краю.  
  
 [LVCOLUMN](http://msdn.microsoft.com/library/windows/desktop/bb774743) структура содержит атрибуты столбца в представлении отчета. Он также используется для получения сведений о столбце. Эта структура описан в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="insertgroup"></a>CListCtrl::InsertGroup  
 Вставляет группы в элементе управления списка.  
  
```  
LRESULT InsertGroup(
    int index,  
    PLVGROUP pgrp);
```  
  
### <a name="parameters"></a>Параметры  
 *Индекс*  
 Индекс элемента, где группа — для вставки.  
  
 `pgrp`  
 Указатель на [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структура, содержащая группы для добавления.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает индекс элемента, добавленный к группе, или -1, если произошел сбой операции.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_INSERTGROUP](http://msdn.microsoft.com/library/windows/desktop/bb761103) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="insertgroupsorted"></a>CListCtrl::InsertGroupSorted  
 Вставляет указанную группу в упорядоченный список групп.  
  
```  
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```  
  
### <a name="parameters"></a>Параметры  
 *pStructInsert*  
 Указатель на [LVINSERTGROUPSORTED](http://msdn.microsoft.com/library/windows/desktop/bb774756) структуру, содержащую группу, для вставки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращаемое значение не используется.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_INSERTGROUPSORTED](http://msdn.microsoft.com/library/windows/desktop/bb761105) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="insertitem"></a>CListCtrl::InsertItem  
 Вставляет элемент в элементе управления списка.  
  
```  
int InsertItem(const LVITEM* pItem);

 
int InsertItem(
    int nItem,  
    LPCTSTR lpszItem);

 
int InsertItem(
    int nItem,  
    LPCTSTR lpszItem,  
    int nImage);

 
int InsertItem(
    UINT nMask,  
    int nItem,  
    LPCTSTR lpszItem,  
    UINT nState,  
    UINT nStateMask,  
    int nImage,  
    LPARAM lParam);
```  
  
### <a name="parameters"></a>Параметры  
 `pItem`  
 Указатель на [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структура, которая задает атрибуты элемента, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
 `nItem`  
 Индекс вставляемого элемента.  
  
 `lpszItem`  
 Строка, содержащая метки элемента адрес или `LPSTR_TEXTCALLBACK` , если элемент является элементом обратного вызова. Сведения об элементах обратного вызова в разделе [CListCtrl::GetCallbackMask](#getcallbackmask).  
  
 `nImage`  
 Индекс изображения элемента или `I_IMAGECALLBACK` , если элемент является элементом обратного вызова. Сведения об элементах обратного вызова в разделе [CListCtrl::GetCallbackMask](#getcallbackmask).  
  
 `nMask`  
 `nMask` Указывает, какой элемент атрибуты, которые передаются как параметры являются допустимыми. Это может быть одна или более значения маски, описанных в [структуры LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Допустимые значения могут объединяться с помощью побитового оператора или.  
  
 `nState`  
 Указывает состояние элемента, изображения состояния и наложения изображений. В разделе [!INCLUDE[winSDK](./includes/winsdk_md.md)] разделы [структуры LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) Дополнительные сведения и [состояния представления списка элементов](http://msdn.microsoft.com/library/windows/desktop/bb774733) список Допустимые флаги.  
  
 `nStateMask`  
 Указывает, какие биты состояния элемента будут извлечены или изменены. В разделе [структуры LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) в [!INCLUDE[winSDK](./includes/winsdk_md.md)] для получения дополнительной информации.  
  
 `lParam`  
 32-разрядное значение конкретного приложения, связанные с элементом. Если этот параметр задан, необходимо задать `nMask` атрибута `LVIF_PARAM`.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Индекс нового элемента в случае успешного выполнения или значение -1, в противном случае.  
  
### <a name="remarks"></a>Примечания  
 Вызов этого метода может вызвать **LVM_INSERTITEM** сообщение отправлено в окно элемента управления. Обработчик связанных сообщений для элемента управления не сможет задать текст элемента при определенных условиях (например, с помощью стилей окна, такие как **LVS_OWNERDRAW**). Дополнительные сведения об этих условиях см. [LVM_INSERTITEM](http://msdn.microsoft.com/library/windows/desktop/bb761107) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

```cpp  
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText, 
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

  
##  <a name="insertmarkhittest"></a>CListCtrl::InsertMarkHitTest  
 Возвращает курсор, ближайший к заданной точке.  
  
```  
int InsertMarkHitTest(
    LPPOINT pPoint,  
    LPLVINSERTMARK lvim) const;  
```  
  
### <a name="parameters"></a>Параметры  
 `pPoint`  
 Указатель на [ТОЧКИ](http://msdn.microsoft.com/library/windows/desktop/dd162805) структуру, содержащую попадания координаты относительно клиентской области элемента управления.  
  
 `lvim`  
 Указатель на [LVINSERTMARK](http://msdn.microsoft.com/library/windows/desktop/bb774758) структура, которая задает курсор, ближайший к координаты, определяемые параметром точки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Курсор ближе всего к заданному точки.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_INSERTMARKHITTEST](http://msdn.microsoft.com/library/windows/desktop/bb761131) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="isgroupviewenabled"></a>CListCtrl::IsGroupViewEnabled  
 Определяет, включена ли представление "Группа" для элемента управления представления списка.  
  
```  
BOOL IsGroupViewEnabled() const;  
```  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** Если включено представление "Группа", или **FALSE** в противном случае.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_ISGROUPVIEWENABLED](http://msdn.microsoft.com/library/windows/desktop/bb761133) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="isitemvisible"></a>CListCtrl::IsItemVisible  
 Указывает, видима ли указанный элемент в текущий элемент управления представления списка.  
  
```  
BOOL IsItemVisible(int index) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `index`|Отсчитываемый от нуля индекс элемента в текущий элемент управления представления списка.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если указанный элемент является видимым; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_ISITEMVISIBLE](http://msdn.microsoft.com/library/windows/desktop/bb761135) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="mapidtoindex"></a>CListCtrl::MapIDToIndex  
 Уникальный идентификатор элемента в текущий элемент управления представления списка сопоставляется индекса.  
  
```  
UINT MapIDToIndex(UINT id) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `id`|Уникальный идентификатор элемента.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 Текущий индекс указанного идентификатора.  
  
### <a name="remarks"></a>Примечания  
 Элемент представления списка внутренне отслеживает элементов по индексу. Это может представлять проблемы, поскольку индексы можно изменить во время существования элемента управления. Можно пометить элемент с Идентификатором управления представления списка, при создании элемента, и этот идентификатор можно использовать для обеспечения уникальности в течение жизненного цикла управления представления списка.  
  
 Обратите внимание, что в многопоточной среде индекса гарантируется только в потоке, который размещает элемент управления представления списка, не в фоновых потоках.  
  
 Этот метод отправляет [LVM_MAPIDTOINDEX](http://msdn.microsoft.com/library/windows/desktop/bb761137) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="mapindextoid"></a>CListCtrl::MapIndexToID  
 Индекс элемента в элементе управления текущее представление списка сопоставляется уникальный идентификатор.  
  
```  
UINT MapIndexToID(UINT index) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `index`|Отсчитываемый от нуля индекс элемента.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 Уникальный идентификатор для указанного элемента.  
  
### <a name="remarks"></a>Примечания  
 Элемент представления списка внутренне отслеживает элементов по индексу. Это может представлять проблемы, поскольку индексы можно изменить во время существования элемента управления. При создании элемента управления представления списка можно разметить тегами элемент с Идентификатором. Этот идентификатор можно использовать для доступа к конкретному элементу в течение времени существования элемента управления представления списка.  
  
 Обратите внимание, что в многопоточной среде индекса гарантируется только в потоке, который размещает элемент управления представления списка, не в фоновых потоках.  
  
 Этот метод отправляет [LVM_MAPINDEXTOID](http://msdn.microsoft.com/library/windows/desktop/bb761139) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
 В следующем примере кода определяется переменная, `m_listCtrl`, который используется для доступа к текущего элемента управления представления списка. Эта переменная используется в следующем примере.    
  
```cpp  
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl; 
```

  
### <a name="example"></a>Пример  
 В следующем примере кода показано `MapIndexToID` метод. В предыдущем разделе этого примера кода мы создали управления представления списка, отображаются два столбца, под названием «ClientID» и «Уровень» в представлении отчета. Следующий пример сопоставляет индекс каждого элемента представление списка идентификационный номер, а затем извлекает индекс для каждого идентификационного номера. Наконец в примере сообщается ли были получены исходные индексы.    
  
```cpp  
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."), 
        MB_ICONINFORMATION);
```

  
##  <a name="movegroup"></a>CListCtrl::MoveGroup  
 Перемещает указанный группы к указанным отсчитываемый от нуля индекс элемента управления представления списка.  
  
```  
LRESULT MoveGroup(
    int iGroupId,  
    int toIndex);
```  
  
### <a name="parameters"></a>Параметры  
 `iGroupId`  
 Идентификатор группы для перемещения.  
  
 `toIndex`  
 Отсчитываемый от нуля индекс, где данная группа является перемещаемой.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращаемое значение не используется.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_MOVEGROUP](http://msdn.microsoft.com/library/windows/desktop/bb761141) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="moveitemtogroup"></a>CListCtrl::MoveItemToGroup  
 Перемещает указанный элемент в указанную группу.  
  
```  
void MoveItemToGroup(
    int idItemFrom,  
    int idGroupTo);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `idItemFrom`  
 Индекс перемещаемого элемента.  
  
 [in] `idGroupTo`  
 Идентификатор группы элемента будут перемещены.  
  
### <a name="remarks"></a>Примечания  
  
> [!NOTE]
>  Этот метод в настоящее время не реализуется.  
  
 Этот метод эмулирует функции [LVM_MOVEITEMTOGROUP](http://msdn.microsoft.com/library/windows/desktop/bb761143) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="redrawitems"></a>CListCtrl::RedrawItems  
 Вызывает перерисовку диапазона элементов элемента управления представления списка.  
  
```  
BOOL RedrawItems(
    int nFirst,  
    int nLast);
```  
  
### <a name="parameters"></a>Параметры  
 `nFirst`  
 Индекс первого элемента повторное окрашивание.  
  
 `nLast`  
 Индекс последнего элемента повторное окрашивание.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Указанные элементы не будут обновлены на самом деле, до получения окна списка `WM_PAINT` сообщение. Чтобы перерисовать немедленно, вызовите Windows [UpdateWindow](http://msdn.microsoft.com/library/windows/desktop/dd145167) функции после использования этой функции.  
  
##  <a name="removeallgroups"></a>CListCtrl::RemoveAllGroups  
 Удаляет все группы из элемента управления представления списка.  
  
```  
void RemoveAllGroups();
```  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_REMOVEALLGROUPS](http://msdn.microsoft.com/library/windows/desktop/bb761147) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="removegroup"></a>CListCtrl::RemoveGroup  
 Удаляет указанную группу из элемента управления представления списка.  
  
```  
LRESULT RemoveGroup(int iGroupId);
```  
  
### <a name="parameters"></a>Параметры  
 `iGroupId`  
 Идентификатор группы для удаления.  
  
### <a name="return-value"></a>Возвращаемое значение  
 В противном случае возвращает индекс группы в случае успешного выполнения или значение -1.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_REMOVEGROUP](http://msdn.microsoft.com/library/windows/desktop/bb761149) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="scroll"></a>CListCtrl::Scroll  
 Прокручивает содержимое элемента управления представления списка.  
  
```  
BOOL Scroll(CSize size);
```  
  
### <a name="parameters"></a>Параметры  
 `size`  
 Объект `CSize` объект, указывающий объем горизонтальной и вертикальной прокрутки в пикселях. **y** членом `size` делится на высоту в пикселях строки элемента управления представления списком, и элемент управления может прокручиваться по количество строк.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
##  <a name="setbkcolor"></a>CListCtrl::SetBkColor  
 Задает цвет фона элемента управления представления списка.  
  
```  
BOOL SetBkColor(COLORREF cr);
```  
  
### <a name="parameters"></a>Параметры  
 `cr`  
 Фоновый цвет для задания, или `CLR_NONE` значение без цвета фона. Элементы управления представления списка с фоновыми цветами прорисовку значительно быстрее, чем без цвета фона. Сведения см. в разделе [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

 
```cpp  
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

  
##  <a name="setbkimage"></a>CListCtrl::SetBkImage  
 Задает фоновое изображение элемента управления представления списка.  
  
```  
BOOL SetBkImage(LVBKIMAGE* plvbkImage);
 
BOOL SetBkImage(
    HBITMAP hbm,  
    BOOL fTile = TRUE,  
    int xOffsetPercent = 0,  
    int yOffsetPercent = 0);
 
BOOL SetBkImage(
    LPTSTR pszUrl,  
    BOOL fTile = TRUE,  
    int xOffsetPercent = 0,  
    int yOffsetPercent = 0);
```  
  
### <a name="parameters"></a>Параметры  
 `plvbkImage`  
 Адрес **LVBKIMAGE** структуру, содержащую сведения о новом фонового изображения.  
  
 `hbm`  
 Дескриптор точечного рисунка.  
  
 `pszUrl`  
 Объект **NULL**-прервано строку, содержащую URL-адрес фонового изображения.  
  
 *fTile*  
 Ненулевое значение, если изображение быть расположены в качестве фона элемента управления представления списком; в противном случае — 0.  
  
 *xOffsetPercent*  
 Смещение в пикселях левого края изображения из исходного элемента управления представления списка.  
  
 *yOffsetPercent*  
 Смещение в пикселях верхнего края изображения из исходного элемента управления представления списка.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает ненулевое значение, если успешно, или нуль, которые в противном случае.  
  
### <a name="remarks"></a>Примечания  
  
> [!NOTE]
>  Поскольку `CListCtrl::SetBkImage` использует функциональные возможности OLE COM, библиотек OLE должно инициализироваться до использования `SetBkImage`. Рекомендуется для инициализации библиотеки COM, при инициализации приложения и уничтожать библиотек, когда приложение завершает работу. Это выполняется автоматически в MFC приложения, использующие технологию ActiveX, OLE-автоматизации, OLE связывание и внедрение или операций ODBC и DAO.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetBkImage](#getbkimage).  
  
##  <a name="setcallbackmask"></a>CListCtrl::SetCallbackMask  
 Задает маску обратного вызова для элемента управления представления списка.  
  
```  
BOOL SetCallbackMask(UINT nMask);
```  
  
### <a name="parameters"></a>Параметры  
 `nMask`  
 Новое значение Маска обратного вызова.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() == 
        (LVIS_SELECTED|LVIS_FOCUSED));
```


##  <a name="setcheck"></a>CListCtrl::SetCheck  
 Определяет, является ли видимым изображения состояния элемента управления списка.  
  
```  
BOOL SetCheck(
    int nItem,  
    BOOL fCheck = TRUE);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Отсчитываемый от нуля индекс элемента управления списка.  
  
 `fCheck`  
 Указывает, должен ли отображаться изображение состояния элемента, или нет. По умолчанию *fCheck* — **TRUE** и состояние изображение является видимым. Если `fCheck` — **FALSE**, оно не отображается.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение, если элемент выделен, в противном случае — 0.  
  
### <a name="example"></a>Пример  

 
```cpp  
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and 
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) || 
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

  
##  <a name="setcolumn"></a>CListCtrl::SetColumn  
 Задает атрибуты столбца представления списка.  
  
```  
BOOL SetColumn(
    int nCol,  
    const LVCOLUMN* pColumn);
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Индекс столбца, атрибуты которого должны быть заданы.  
  
 `pColumn`  
 Адрес [LVCOLUMN](http://msdn.microsoft.com/library/windows/desktop/bb774743) атрибуты структуру, содержащую новый столбец, как описано в разделе [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Структура **маска** элемент задает, какой столбец атрибуты для задания. Если **маска** указывает `LVCF_TEXT` значение структуры **pszText** член является адрес строку, завершающуюся значением null и структура **cchTextMax** игнорируется.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetColumn](#getcolumn).  
  
##  <a name="setcolumnorderarray"></a>CListCtrl::SetColumnOrderArray  
 Задает порядок столбцов (слева направо) элемента управления представления списка.  
  
```  
BOOL SetColumnOrderArray(
    int iCount,  
    LPINT piArray);
```  
  
### <a name="parameters"></a>Параметры  
 `piArray`  
 Указатель на буфер, содержащий значения индексов столбцов в элементе управления списка (слева направо). Буфер должен быть достаточно большим, чтобы содержать общее число столбцов в элементе управления списка.  
  
 `iCount`  
 Число столбцов в элементе управления списка.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetColumnOrderArray](http://msdn.microsoft.com/library/windows/desktop/bb775072), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).  
  
##  <a name="setcolumnwidth"></a>CListCtrl::SetColumnWidth  
 Изменение ширины столбца в представлении отчета или списка.  
  
```  
BOOL SetColumnWidth(
    int nCol,  
    int cx);
```  
  
### <a name="parameters"></a>Параметры  
 `nCol`  
 Индекс столбца, для которого будет устанавливаться ширину. В представлении списка этот параметр должен быть 0.  
  
 `cx`  
 Новая ширина столбца. Может быть либо **LVSCW_AUTOSIZE** или **LVSCW_AUTOSIZE_USEHEADER**, как описано в [LVM_SETCOLUMNWIDTH](http://msdn.microsoft.com/library/windows/desktop/bb761163) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
##  <a name="setextendedstyle"></a>CListCtrl::SetExtendedStyle  
 Задает расширенные стили текущего элемента управления представления списка.  
  
```  
DWORD SetExtendedStyle(DWORD dwNewStyle);
```  
  
### <a name="parameters"></a>Параметры  
 `dwNewStyle`  
 Сочетание расширенные стили, используемые в элементе управления списка. Составить список этих стилей в разделе [расширенных стилей представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774732) раздел в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Сочетание предыдущих расширенные стили, используемые элементом управления представления списка.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetExtendedListViewStyle](http://msdn.microsoft.com/library/windows/desktop/bb775076), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

  
##  <a name="setgroupinfo"></a>CListCtrl::SetGroupInfo  
 Задает сведения, описывающие указанной группы текущего элемента управления представления списка.  
  
```  
int SetGroupInfo(
    int iGroupId,  
    PLVGROUP pgrp);
```  
  
### <a name="parameters"></a>Параметры  
 `iGroupId`  
 Идентификатор группы, сведения о которых имеет значение.  
  
 `pgrp`  
 Указатель на [LVGROUP](http://msdn.microsoft.com/library/windows/desktop/bb774769) структуру, содержащую сведения для установки. Вызывающий объект отвечает за выделение этой структуры и задание его члены.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Идентификатор группы, если метод выполнен успешно; в противном случае — значение -1.  
  
### <a name="remarks"></a>Примечания  
 Этот метод отправляет [LVM_SETGROUPINFO](http://msdn.microsoft.com/library/windows/desktop/bb761167) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setgroupmetrics"></a>CListCtrl::SetGroupMetrics  
 Задает группу метрики элемента управления представления списка.  
  
```  
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```  
  
### <a name="parameters"></a>Параметры  
 `pGroupMetrics`  
 Указатель на [LVGROUPMETRICS](http://msdn.microsoft.com/library/windows/desktop/bb774752) структуру, содержащую сведения группы показателей, задаваемый.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETGROUPMETRICS](http://msdn.microsoft.com/library/windows/desktop/bb761168) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="sethotcursor"></a>CListCtrl::SetHotCursor  
 Задает курсор, используемый, если включено отслеживание для элемента управления представления списка.  
  
```  
HCURSOR SetHotCursor(HCURSOR hc);
```  
  
### <a name="parameters"></a>Параметры  
 *контроллер*  
 Дескриптор курсора ресурса, используемый для представления горячей курсора.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Дескриптор предыдущий ресурс горячей курсор, используемый для управления представления списком.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetHotCursor](http://msdn.microsoft.com/library/windows/desktop/bb775082), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
 Горячий курсор отображается, только если выбор при наведении курсора мыши включен, отображается при наведении курсора на любой элемент списка. Выбор при наведении курсора мыши включен, задав **LVS_EX_TRACKSELECT** расширенный стиль.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetHotCursor](#gethotcursor).  
  
##  <a name="sethotitem"></a>CListCtrl::SetHotItem  
 Задает текущий горячей элемент управления представления списком.  
  
```  
int SetHotItem(int iIndex);
```  
  
### <a name="parameters"></a>Параметры  
 `iIndex`  
 Отсчитываемый от нуля индекс элемента в качестве горячей элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Отсчитываемый от нуля индекс элемента, ранее горячей.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetHotItem](http://msdn.microsoft.com/library/windows/desktop/bb775083), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetHotItem](#gethotitem).  
  
##  <a name="sethovertime"></a>CListCtrl::SetHoverTime  
 Задает текущее время управления представления списком при наведении указателя мыши.  
  
```  
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```  
  
### <a name="parameters"></a>Параметры  
 *dwHoverTime*  
 Новый задержку в миллисекундах, которые указатель мыши должен подведите курсор к элементу, прежде чем он выбран. Если передается значение по умолчанию, время имеет значение по умолчанию время при наведении указателя мыши.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Предыдущие время при наведении указателя мыши в миллисекундах.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetHoverTime](http://msdn.microsoft.com/library/windows/desktop/bb775084), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetHoverTime](#gethovertime).  
  
##  <a name="seticonspacing"></a>CListCtrl::SetIconSpacing  
 Задает расстояние между значков в элементе управления списком.  
  
```  
CSize SetIconSpacing(
    int cx,  
    int cy);  
  
CSize SetIconSpacing(CSize size);
```  
  
### <a name="parameters"></a>Параметры  
 `cx`  
 Расстояние (в пикселях) между значками на оси x.  
  
 `cy`  
 Расстояние (в пикселях) между значками на оси y.  
  
 `size`  
 Объект `CSize` объект, указывающий расстояние (в пикселях) между значков на x - и y.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Объект [CSize](../../atl-mfc-shared/reference/csize-class.md) объект, содержащий предыдущие значения для интервала значок.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetIconSpacing](http://msdn.microsoft.com/library/windows/desktop/bb775085), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

  
##  <a name="setimagelist"></a>CListCtrl::SetImageList  
 Назначает списка изображений в элементе управления списком.  
  
```  
CImageList* SetImageList(
    CImageList* pImageList,  
    int nImageListType);
```  
  
### <a name="parameters"></a>Параметры  
 `pImageList`  
 Указатель на список изображений для назначения.  
  
 `nImageListType`  
 Тип списка изображений. Он может принимать одно из следующих значений:  
  
- `LVSIL_NORMAL`Список изображений с помощью крупных значков.  
  
- `LVSIL_SMALL`Список изображений с маленькими значками.  
  
- `LVSIL_STATE`Список изображений с изображениями состояния.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на предыдущем списка изображений.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetImageList](#getimagelist).  
  
##  <a name="setinfotip"></a>CListCtrl::SetInfoTip  
 Задает текст всплывающей подсказки.  
  
```  
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```  
  
### <a name="parameters"></a>Параметры  
 *plvInfoTip*  
 Указатель на [LVFSETINFOTIP](http://msdn.microsoft.com/library/windows/desktop/bb774764) структуру, содержащую сведения, чтобы задать.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения **FALSE** в случае сбоя.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETINFOTIP](http://msdn.microsoft.com/library/windows/desktop/bb761180) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setinsertmark"></a>CListCtrl::SetInsertMark  
 Задает точку вставки на определенные позицию.  
  
```  
BOOL SetInsertMark(LPLVINSERTMARK lvim);
```  
  
### <a name="parameters"></a>Параметры  
 `lvim`  
 Указатель на [LVINSERTMARK](http://msdn.microsoft.com/library/windows/desktop/bb774758) структуры, указывающие, где для определения точки вставки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения или **FALSE** в противном случае. **FALSE** возвращается, если размер в `cbSize` членом **LVINSERTMARK** структуры не равно фактический размер структуры или когда курсор не применяются в текущем представлении.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETINSERTMARK](http://msdn.microsoft.com/library/windows/desktop/bb761182) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setinsertmarkcolor"></a>CListCtrl::SetInsertMarkColor  
 Задает цвет от точки вставки.  
  
```  
COLORREF SetInsertMarkColor(COLORREF color);
```  
  
### <a name="parameters"></a>Параметры  
 `color`  
 Объект [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) структуры цвета, чтобы задать точку вставки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **COLORREF** структуру, содержащую на предыдущий цвет.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETINSERTMARKCOLOR](http://msdn.microsoft.com/library/windows/desktop/bb761184) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setitem"></a>CListCtrl::SetItem  
 Задает все представления списка или атрибуты элемента.  
  
```  
BOOL SetItem(const LVITEM* pItem);

 
BOOL SetItem(
    int nItem,  
    int nSubItem,  
    UINT nMask,  
    LPCTSTR lpszItem,  
    int nImage,  
    UINT nState,  
    UINT nStateMask,  
    LPARAM lParam);

 
BOOL SetItem(
    int nItem,  
    int nSubItem,  
    UINT nMask,  
    LPCTSTR lpszItem,  
    int nImage,  
    UINT nState,  
    UINT nStateMask,  
    LPARAM lParam,  
    int nIndent);
```  
  
### <a name="parameters"></a>Параметры  
 `pItem`  
 Адрес [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуру, содержащую новый элемент атрибуты, как описано в разделе [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Структура **товар** и **iSubItem** члены определения элемента или подэлемента и структура **маска** член определяет атрибуты, чтобы задать. Дополнительные сведения о **маска** член, в разделе **примечания**.  
  
 `nItem`  
 Индекс элемента, атрибуты которого должны быть заданы.  
  
 `nSubItem`  
 Индекс подэлемента, атрибуты которого должны быть заданы.  
  
 `nMask`  
 Указывает, какие атрибуты задаются (см. примечания).  
  
 `lpszItem`  
 Адрес нулем строка, указывающая элемент label.  
  
 `nImage`  
 Индекс изображения элемента в списке изображений.  
  
 `nState`  
 Задает значения для состояния изменения (см. примечания).  
  
 `nStateMask`  
 Указывает, какие состояния будут изменены (см. примечания).  
  
 `lParam`  
 32-разрядное значение конкретного приложения следует связать с элементом.  
  
 `nIndent`  
 Ширина в пикселях отступы. Если `nIndent` меньше, чем минимальная ширина определяемые системой, новая ширина присвоено минимальные системные  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 **Товар** и **iSubItem** члены **LVITEM** структуры и `nItem` и `nSubItem` параметры определяют элемента и подэлементов, атрибуты которого должны быть заданы.  
  
 **Маска** членом **LVITEM** структуры и `nMask` параметра определяют, какой элемент задаются атрибуты:  
  
- `LVIF_TEXT`**PszText** член или `lpszItem` параметр является адрес строки с завершающим нулем; **cchTextMax** игнорируется.  
  
- `LVIF_STATE`**StateMask** член или `nStateMask` параметр указывает, какой элемент имеет состояние для изменения и **состояние** член или `nState` параметр содержит значения для этих состояний.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::HitTest](#hittest).  
  
##  <a name="setitemcount"></a>CListCtrl::SetItemCount  
 Подготавливает элемента управления представления списка для добавления большое число элементов.  
  
```  
void SetItemCount(int nItems);
```  
  
### <a name="parameters"></a>Параметры  
 `nItems`  
 Количество элементов управления в конечном итоге будет содержать.  
  
### <a name="remarks"></a>Примечания  
 Чтобы задать количество элементов для элемента управления представления виртуального списка, см. [CListCtrl::SetItemCountEx](#setitemcountex).  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetItemCount](http://msdn.microsoft.com/library/windows/desktop/bb775093), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

 
```cpp  
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

  
##  <a name="setitemcountex"></a>CListCtrl::SetItemCountEx  
 Задает количество элементов для элемента управления представления виртуального списка.  
  
```  
BOOL SetItemCountEx(
    int iCount,  
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```  
  
### <a name="parameters"></a>Параметры  
 `iCount`  
 Количество элементов управления в конечном итоге будет содержать.  
  
 `dwFlags`  
 Задает поведение элемента управления списком после сброса число элементов. Это значение может быть сочетанием следующих:  
  
- **LVSICF_NOINVALIDATEALL** управления представления списком не будет перерисовываться, если в настоящее время не затронутых элементов в представлении. Это значение по умолчанию.  
  
- **LVSICF_NOSCROLL** управления представления списком не изменится позиции прокрутки, когда элемент количество изменений.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetItemCountEx](http://msdn.microsoft.com/library/windows/desktop/bb775095), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]и должен вызываться только для представления виртуальных списков.  
  
### <a name="example"></a>Пример  

 
```cpp  
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate 
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

  
##  <a name="setitemdata"></a>CListCtrl::SetItemData  
 Задает 32-разрядное значение конкретного приложения, связанные с элемента, заданного параметром `nItem`.  
  
```  
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента списка, для которого задается.  
  
 `dwData`  
 32-разрядное значение, связываемое с элементом.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Имеет ненулевое значение в случае успешного выполнения, иначе — 0.  
  
### <a name="remarks"></a>Примечания  
 Это значение является **lParam** членом [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

  
##  <a name="setitemindexstate"></a>CListCtrl::SetItemIndexState  
 Задает состояние элемента текущего элемента управления представления списка.  
  
```  
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,   
    DWORD dwState,   
    DWORD dwMask) const;  
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `pItemIndex`|Указатель на [LVITEMINDEX](http://msdn.microsoft.com/library/windows/desktop/bb774762) структура, описывающая элемент. Вызывающий объект отвечает за выделение этой структуры и задание его члены.|  
|[in] `dwState`|Состояние элемента, это побитовое сочетание [состояния представления элемента списка](http://msdn.microsoft.com/library/windows/desktop/bb774733). Укажите ноль для сброса или для задания состояния.|  
|[in] `dwMask`|Маска битов допустимое состояние, указанное в `dwState` параметр. Побитовое сочетание (или) укажите [состояния представления элемента списка](http://msdn.microsoft.com/library/windows/desktop/bb774733).|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Дополнительные сведения о `dwState` параметр в разделе [состояния представления элемента списка](http://msdn.microsoft.com/library/windows/desktop/bb774733).  
  
 Дополнительные сведения о `dwMask` параметр в разделе `stateMask` членом [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры.  
  
 Этот метод отправляет [LVM_SETITEMINDEXSTATE](http://msdn.microsoft.com/library/windows/desktop/bb761190) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setitemposition"></a>CListCtrl::SetItemPosition  
 Перемещает элемент в указанной позиции в элементе управления списком.  
  
```  
BOOL SetItemPosition(
    int nItem,  
    POINT pt);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, позиция которого требуется задать.  
  
 `pt`  
 Объект [ТОЧКИ](http://msdn.microsoft.com/library/windows/desktop/dd162805) структуры, указав новое положение в представлении, координаты верхнего левого угла элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Элемент управления должен быть в значок или мелкими значками.  
  
 Если для элемента управления представления списка `LVS_AUTOARRANGE` организованы после задания позиции элемента style, представление списка.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetItemPosition](#getitemposition).  
  
##  <a name="setitemstate"></a>CListCtrl::SetItemState  
 Изменяет состояние элемента в элементе управления списком.  
  
```  
BOOL SetItemState(
    int nItem,  
    LVITEM* pItem);

 
BOOL SetItemState(
    int nItem,  
    UINT nState,  
    UINT nMask);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, состояние которого требуется задать.  
  
 `pItem`  
 Адрес [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)]. Структура **stateMask** указывает состояние, в котором bits для изменения, а также структура **состояние** член содержит новые значения для этих файлов. Другие члены учитываются.  
  
 `nState`  
 Новые значения для биты состояния. Список возможных значений см. в разделе [CListCtrl::GetNextItem](#getnextitem) и [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) члена.  
  
 `nMask`  
 Маска, указывающая состояние, в котором биты для изменения. Это значение соответствует элементу stateMask [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Элемент «состояние» — значение, которое указывает наличие товара, указывает на действия пользователя или в противном случае отражает состояние элемента. Элемент представления списка изменяет некоторые биты состояния, например, когда пользователь выбирает элемент. Приложение может изменить остальные биты состояния, чтобы отключить или скрыть элемент, или задать наложение изображения или изображения состояния.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetTopIndex](#gettopindex).  
  
##  <a name="setitemtext"></a>CListCtrl::SetItemText  
 Изменение текста элемента представления списка или подэлемента.  
  
```  
BOOL SetItemText(
    int nItem,  
    int nSubItem,  
    LPCTSTR lpszText);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс элемента, для которых задается.  
  
 `nSubItem`  
 Индекс вложенного элемента, или нуль, чтобы задать метку элемента.  
  
 `lpszText`  
 Указатель на строку, содержащую новый текст элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Этот метод не предназначен для использования с элементами управления, содержащий стиль окна LVS_OWNERDATA (фактически, это вызовет утверждение в отладочных построениях). Дополнительные сведения о стиле элемента управления этот список в разделе [Обзор элементов управления представления списка](http://msdn.microsoft.com/library/windows/desktop/bb774735).  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::InsertItem](#insertitem).  
  
##  <a name="setoutlinecolor"></a>CListCtrl::SetOutlineColor  
 Задает цвет границы элемента управления представления списка, если [LVS_EX_BORDERSELECT](http://msdn.microsoft.com/library/windows/desktop/bb774739) задать стиль окна расширенного.  
  
```  
COLORREF SetOutlineColor(COLORREF color);
```  
  
### <a name="parameters"></a>Параметры  
 `color`  
 Новый [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) структуру, содержащую цвет контура.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Предыдущий **COLORREF** структуру, содержащую цвет контура  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETOUTLINECOLOR](http://msdn.microsoft.com/library/windows/desktop/bb761200) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setselectedcolumn"></a>CListCtrl::SetSelectedColumn  
 Задает выбранного столбца элемента управления представления списка.  
  
```  
LRESULT SetSelectedColumn(int iCol);
```  
  
### <a name="parameters"></a>Параметры  
 *iCol*  
 Индекс столбца для выбора.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращаемое значение не используется.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETSELECTEDCOLUMN](http://msdn.microsoft.com/library/windows/desktop/bb761202) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setselectionmark"></a>CListCtrl::SetSelectionMark  
 Задает знак выбора элемента управления представления списка.  
  
```  
int SetSelectionMark(int iIndex);
```  
  
### <a name="parameters"></a>Параметры  
 `iIndex`  
 Отсчитываемый от нуля индекс первого элемента в множественного выбора.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Предыдущей метки выделения, или значение -1 в случае отсутствия метки без выделения.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetSelectionMark](http://msdn.microsoft.com/library/windows/desktop/bb775112), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetSelectionMark](#getselectionmark).  
  
##  <a name="settextbkcolor"></a>CListCtrl::SetTextBkColor  
 Задает цвет фона текста в элементе управления списком.  
  
```  
BOOL SetTextBkColor(COLORREF cr);
```  
  
### <a name="parameters"></a>Параметры  
 `cr`  
 Объект **COLORREF** Указание нового фонового цвета текста. Сведения см. в разделе [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

 
```cpp  
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

  
##  <a name="settextcolor"></a>CListCtrl::SetTextColor  
 Задает цвет текста элемента управления представления списка.  
  
```  
BOOL SetTextColor(COLORREF cr);
```  
  
### <a name="parameters"></a>Параметры  
 `cr`  
 Объект **COLORREF** цвета текста. Сведения см. в разделе [COLORREF](http://msdn.microsoft.com/library/windows/desktop/dd183449) в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

  
##  <a name="settileinfo"></a>CListCtrl::SetTileInfo  
 Задает данные на плитке управления представления списком.  
  
```  
BOOL SetTileInfo(PLVTILEINFO pti);
```  
  
### <a name="parameters"></a>Параметры  
 *PTI*  
 Указатель на [LVTILEINFO](http://msdn.microsoft.com/library/windows/desktop/bb774766) структуру, содержащую сведения, чтобы задать.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения **FALSE** в случае сбоя.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETTILEINFO](http://msdn.microsoft.com/library/windows/desktop/bb761210) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="settileviewinfo"></a>CListCtrl::SetTileViewInfo  
 Задает данные, используемые в элементе управления списком мозаичного представления.  
  
```  
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```  
  
### <a name="parameters"></a>Параметры  
 `ptvi`  
 Указатель на [LVTILEVIEWINFO](http://msdn.microsoft.com/library/windows/desktop/bb774768) структуру, содержащую сведения для установки.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает **TRUE** в случае успешного выполнения **FALSE** в случае сбоя.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETTILEVIEWINFO](http://msdn.microsoft.com/library/windows/desktop/bb761212) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="settooltips"></a>CListCtrl::SetToolTips  
 Задает подсказку, которая элемента управления списком будет использоваться для отображения подсказки.  
  
```  
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```  
  
### <a name="parameters"></a>Параметры  
 `pWndTip`  
 Указатель на `CToolTipCtrl` объект, который будет использоваться в элементе управления списком.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Указатель на [CToolTipCtrl](ctooltipctrl-class.md) объект, содержащий ранее используемые с помощью элемента управления всплывающей подсказки или `NULL` Если ранее использовались не подсказки.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение сообщения Win32 [LVM_SETTOOLTIPS](http://msdn.microsoft.com/library/windows/desktop/bb761216), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
 Чтобы не использовать подсказки, указать `LVS_NOTOOLTIPS` стиля при создании `CListCtrl` объекта.  
  
##  <a name="setview"></a>CListCtrl::SetView  
 Задает представление элемента управления представления списка.  
  
```  
DWORD SetView(int iView);
```  
  
### <a name="parameters"></a>Параметры  
 *iView*  
 Представление для выбора.  
  
### <a name="return-value"></a>Возвращаемое значение  
 В противном случае возвращает 1 в случае успешного выполнения или значение -1. Например если представление является недопустимым, возвращается значение -1.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SETVIEW](http://msdn.microsoft.com/library/windows/desktop/bb761220) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="setworkareas"></a>CListCtrl::SetWorkAreas  
 Задает область, где могут отображаться значки в элементе управления списком.  
  
```  
void SetWorkAreas(
    int nWorkAreas,  
    LPRECT lpRect);
```  
  
### <a name="parameters"></a>Параметры  
 `nWorkAreas`  
 Число `RECT` структуры (или [CRect](../../atl-mfc-shared/reference/crect-class.md) объектов) в массиве, который указывает `lpRect`.  
  
 `lpRect`  
 Адрес массива `RECT` структуры (или `CRect` объекты), укажите новые рабочие области элемента управления представления списка. Эти области должен быть указан в клиентских координатах. Если этот параметр равен **NULL**, рабочая область будет присвоено клиентской области элемента управления.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SetWorkAreas](http://msdn.microsoft.com/library/windows/desktop/bb775128), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

 
```cpp  
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

  
##  <a name="sortgroups"></a>CListCtrl::SortGroups  
 Функция сравнения, определяемых приложением для сортировки групп по Идентификатору в элементе управления списком.  
  
```  
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,  
    LPVOID _plv);
```  
  
### <a name="parameters"></a>Параметры  
 `_pfnGroupCompare`  
 Указатель на функцию сравнения группы.  
  
 `_plv`  
 Указатель типа void.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Возвращает `true` в случае успешного выполнения `false` в случае сбоя.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член эмулирует работу [LVM_SORTGROUPS](http://msdn.microsoft.com/library/windows/desktop/bb761225) сообщений, как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
##  <a name="sortitems"></a>CListCtrl::SortItems  
 Сортирует элементы списка с помощью функции сравнения, определяемых приложением.  
  
```  
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,  
    DWORD_PTR dwData);
```  
  
### <a name="parameters"></a>Параметры  
 [in] `pfnCompare`  
 Адрес функции сравнения, определяемых приложением.  
  
 Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения необходимо либо статический член класса или автономного функция, которая не является членом любой класс.  
  
 [in] `dwData`  
 Определяемые приложением значения, передаваемые функции сравнения.  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если метод успешно; в противном случае `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод изменяет индекс каждого элемента, чтобы отобразить новую последовательность.  
  
 Функция сравнения `pfnCompare`, имеет следующий вид:  
  
```  
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```  
Функция сравнения должен возвращать отрицательное значение, если первый элемент должен предшествовать второй, положительное значение, если первый элемент должен следовать второго или равно нулю, если два элемента равны.  
  
 `lParam1` Параметр является 32-разрядное значение, связанное с первым элементом, который сравнивается с `lParam2` параметр имеет значение, связанное с второго элемента. Это значения, которые были заданы в `lParam` членом элементов [LVITEM](http://msdn.microsoft.com/library/windows/desktop/bb774760) структуры, если они были добавлены в список. `lParamSort` Параметр является таким же, как `dwData` значение.  
  
 Этот метод отправляет [LVM_SORTITEMS](http://msdn.microsoft.com/library/windows/desktop/bb761227) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
 Ниже приведен функцией простого сравнения, приводит к элементов отсортированных сначала по их `lParam` значения.  
  
```cpp  
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2, 
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
return (int)(lParam1 - lParam2);
}
```
  
```cpp  
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```
  
##  <a name="sortitemsex"></a>CListCtrl::SortItemsEx  
 Сортирует элементы текущего элемента управления представления списка с помощью функции сравнения, определяемых приложением.  
  
```  
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,   
    DWORD_PTR dwData);
```  
  
### <a name="parameters"></a>Параметры  
  
|Параметр|Описание|  
|---------------|-----------------|  
|[in] `pfnCompare`|Адрес функции сравнения, определяемых приложением.<br /><br /> Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения необходимо либо статический член класса или автономного функция, которая не является членом любой класс.|  
|[in] `dwData`|Определяемые приложением значения, передаваемые функции сравнения.|  
  
### <a name="return-value"></a>Возвращаемое значение  
 `true`Если этот метод выполнен успешно; в противном случае — `false`.  
  
### <a name="remarks"></a>Примечания  
 Этот метод изменяет индекс каждого элемента, чтобы отобразить новую последовательность.  
  
 Функция сравнения `pfnCompare`, имеет следующий вид:  
  
```  
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```  
Это сообщение является как [LVM_SORTITEMS](http://msdn.microsoft.com/library/windows/desktop/bb761227), за исключением типа данных, переданных в функцию сравнения. В [LVM_SORTITEMS](http://msdn.microsoft.com/library/windows/desktop/bb761227), `lParam1` и `lParam2` значения элементов для сравнения. В [LVM_SORTITEMSEX](http://msdn.microsoft.com/library/windows/desktop/bb761228), `lParam1` текущий индекс первого элемента для сравнения и `lParam2` текущий индекс второго элемента. Вы можете отправлять [LVM_GETITEMTEXT](http://msdn.microsoft.com/library/windows/desktop/bb761055) сообщений для получения дополнительных сведений об элементе.  
  
 Функция сравнения должен возвращать отрицательное значение, если первый элемент должен предшествовать второй, положительное значение, если первый элемент должен следовать второго или равно нулю, если два элемента равны.  
  
> [!NOTE]
>  В процессе сортировки нестабильны содержимое представления списка. Если функция обратного вызова отправляет сообщения в элемент управления представления списка, отличное от [LVM_GETITEM](http://msdn.microsoft.com/library/windows/desktop/bb774953), результаты будут непредсказуемыми.  
  
 Этот метод отправляет [LVM_SORTITEMSEX](http://msdn.microsoft.com/library/windows/desktop/bb761228) сообщения, которое описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  
 В следующем примере кода определяется переменная, `m_listCtrl`, который используется для доступа к текущего элемента управления представления списка. Эта переменная используется в следующем примере.  
  
```cpp  
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl; 
```

  
### <a name="example"></a>Пример  
 В следующем примере кода показано `SortItemEx` метод. В предыдущем разделе этого примера кода мы создали управления представления списка, отображаются два столбца, под названием «ClientID» и «Уровень» в представлении отчета. В следующем примере кода выполняется сортировка таблицы с помощью значений в столбце «Уровень».  
  

```cpp  
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1, 
                             LPARAM lParam2, 
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

  
##  <a name="subitemhittest"></a>CListCtrl::SubItemHitTest  
 Определяет какой элемент представления списка, если он имеется в заданной позиции.  
  
```  
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```  
  
### <a name="parameters"></a>Параметры  
 `pInfo`  
 Указатель на [LVHITTESTINFO](http://msdn.microsoft.com/library/windows/desktop/bb774754) структуры.  
  
### <a name="return-value"></a>Возвращаемое значение  
 От единицы индекс элемента или подэлемента, тестируемой (при наличии) или в противном случае — значение -1.  
  
### <a name="remarks"></a>Примечания  
 Эта функция-член реализует поведение макроса Win32 [ListView_SubItemHitTest](http://msdn.microsoft.com/library/windows/desktop/bb775135), как описано в [!INCLUDE[winSDK](./includes/winsdk_md.md)].  
  
### <a name="example"></a>Пример  

```cpp  
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

  
##  <a name="update"></a>CListCtrl::Update  
 Заставляет элемент управления представления списка для отрисовки элемента, заданного параметром `nItem`.  
  
```  
BOOL Update(int nItem);
```  
  
### <a name="parameters"></a>Параметры  
 `nItem`  
 Индекс обновляемого элемента.  
  
### <a name="return-value"></a>Возвращаемое значение  
 Ненулевое значение в случае успеха, иначе —&0;.  
  
### <a name="remarks"></a>Примечания  
 Эта функция упорядочивает управления представления списком, если у него есть `LVS_AUTOARRANGE` стиль.  
  
### <a name="example"></a>Пример  
  В примере показано [CListCtrl::GetSelectedCount](#getselectedcount).  
  
## <a name="see-also"></a>См. также  
 [Пример MFC ROWLIST](../../visual-cpp-samples.md)   
 [CWnd-класс](cwnd-class.md)   
 [Диаграмма иерархии](../hierarchy-chart.md)   
 [CImageList-класс](cimagelist-class.md)


