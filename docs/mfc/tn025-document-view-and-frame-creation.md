---
title: "TN025. Создание документов, представлений и фреймов | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vc.creation"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "документы, создание представлений и фреймов"
  - "TN025"
ms.assetid: 09254d72-6e1d-43db-80e9-693887dbeda2
caps.latest.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 5
---
# TN025. Создание документов, представлений и фреймов
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

> [!NOTE]
>  Следующее техническое примечание не было обновлено, поскольку сначала оно было включено в электронную документацию.  В результате некоторые процедуры и разделы могут быть устаревшими или неверными.  Для получения последних сведений рекомендуется выполнить поиск интересующей темы в алфавитном указателе документации в Интернете.  
  
 Эта заметка описание проблемы владения для создания и WinApps, DocTemplates и документов, кадров и представления.  
  
## WinApp  
 Один объект `CWinApp` в системе.  
  
 В нем статических создается и инициализируется реализацией платформы внутренней `WinMain`.  Необходимо наследовать от задачи, `CWinApp` самое \(исключение: библиотеки DLL расширения не должна иметь экземпляр `CWinApp` — инициализация выполняется в `DllMain` вместо\).  
  
 Один объект `CWinApp` имеет список шаблонов документов \( `CPtrList`\).  Одно или несколько документов шаблон для каждого приложения.  DocTemplates обычно загружается из файла ресурсов \(т е массива строк\) в `CWinApp::InitInstance`.  
  
```  
pTemplate = new CDocTemplate(IDR_MYDOCUMENT, ...);  
AddDocTemplate(pTemplate);  
```  
  
 Один объект `CWinApp` имеет все фреймовые окна в приложении.  Главное фреймовое окно для приложения должны храниться в **CWinApp::m\_pMainWnd**; обычно необходимо установить `m_pMainWnd` в реализации `InitInstance` без позволяли AppWizard, выполняется его автоматически.  Для однодокументного интерфейса \(SDI\) это, `CFrameWnd` служащие фреймовое окно основного приложения, так и единственным фрейма документа.  Для интерфейса MDI \(MDI\) это MDI\- кадр \(класс `CMDIFrameWnd`\), служит фреймовое окно основного приложения, содержащего все дочернее `CFrameWnd` s.  Каждое дочернее окно `CMDIChildWnd` \(производного класса из `CFrameWnd`\) и служит один из множества потенциально фреймов окна документа.  
  
## DocTemplates  
 `CDocTemplate` создатель и диспетчер документов.  Он содержит документы, он создает.  Если приложение использует описанный ниже подходу зависимости к ресурсу, ему не будет наследовать от `CDocTemplate`.  
  
 Для приложения sdi\-приложения, класс `CSingleDocTemplate` отслеживает одного открытого документа.  Для приложения MDI класс `CMultiDocTemplate` сохраняет список \( `CPtrList`\) в настоящее время всех открытых документов, созданных с помощью этого шаблона.  `CDocTemplate::AddDocument` и `CDocTemplate::RemoveDocument` предоставляют виртуальные функции\-члена для добавления или удаления документа из шаблона.  `CDocTemplate` дружественной функции **CDocument**, поэтому мы можно установить защищенный указатель обратно **CDocument::m\_pDocTemplate** для указания обратно в шаблон документа, который создал документ.  
  
 `CWinApp` обрабатывает реализация `OnFileOpen` по умолчанию, которая будет в свою очередь запроса все шаблоны документа.  Реализация позволяет искать уже открытых документов и решать том формате для открытия новых документов в.  
  
 `CDocTemplate` управляет пользовательского интерфейса привязки для документов и кадров.  
  
 `CDocTemplate` сохраняет число неименованных документов.  
  
## CDocument  
 **CDocument** Принадлежит `CDocTemplate`.  
  
 Документы имеют список в данный момент открытых представлений \(производных от `CView`\), просмотр документа \( `CPtrList`\).  
  
 Не создают документы\/разрушают представления, но они вложены друг к другу после того, как они были созданы.  Когда будет закрыт документ \(то есть по файлу\/закрыть\), все подключенные представления будут закрыты.  Если последнее представление в документе будет закрыто \(то есть окно\/закрыть\) документ будет закрыт.  
  
 `CDocument::AddView`, интерфейс `RemoveView` используется для ведения списка представления.  **CDocument** friend `CView` поэтому мы можно задать указатель обратно **CView::m\_pDocument**.  
  
## CFrameWnd  
 `CFrameWnd` \(также известное как фрейм\) играет ту же роль, что и в MFC 1.0, но теперь класс `CFrameWnd` должно использоваться во многих случаях без наследование нового класса.  Производные классы `CMDIFrameWnd` и `CMDIChildWnd` также предоставляет пользователю большое число стандартных команд уже реализованы.  
  
 `CFrameWnd` отвечает за создание клиентской области окна фрейма.  Обычно одного главного окна заполнение клиентской области кадра.  
  
 В окне MDI\- фрейма, клиентскую область заполняется элементом управления MDICLIENT, который, в свою очередь родительский фреймовых всех окон MDI\- дочернего элемента.  Для окна Интерфейс SDI\- кадра или фреймового окна MDI\- дочернего элемента, клиентскую область обычно заполняется `CView`\- производным объектом окна.  В случае `CSplitterWnd`, клиентскую область представления заполняется объектом окна `CSplitterWnd` и `CView`\- производные объекты окна \(один для каждого область разделения\) создаются как дочерние окна `CSplitterWnd`.  
  
## См. также  
 [Технические примечания по номеру](../mfc/technical-notes-by-number.md)   
 [Технические примечания по категории](../mfc/technical-notes-by-category.md)