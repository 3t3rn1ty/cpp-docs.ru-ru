---
title: "Рисование изображений из списка изображений | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-windows
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: C++
helpviewer_keywords:
- CImageList class [MFC], drawing images from
- drawing [MFC], images from image lists
- image lists [MFC], drawing images from
- images [MFC], drawing
ms.assetid: 2f6063fb-1c28-45f8-a333-008c064db11c
caps.latest.revision: "11"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.openlocfilehash: cf53177e0d24777a5447c6655e7b801955610168
ms.sourcegitcommit: ebec1d449f2bd98aa851667c2bfeb7e27ce657b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2017
---
# <a name="drawing-images-from-an-image-list"></a>Рисование изображений из списка изображений
Чтобы нарисовать изображение, используйте [CImageList::Draw](../mfc/reference/cimagelist-class.md#draw) функции-члена. Вы зададите указатель на объект контекста устройства, индекс образа для рисования, расположение, в контексте устройства, на котором будет рисоваться изображение и набор флагов, чтобы указать стиль рисования.  
  
 При указании `ILD_TRANSPARENT` стиля, **нарисовать** использует двухэтапный процесс, чтобы нарисовать изображение с маской. Во-первых, он выполняет логическое- и операции на биты изображения и биты маски. Затем он выполняет операцию логического исключающего или на результаты первой операции, а биты фона контекста устройства назначения. Этот процесс создает прозрачные области в итоговый образ; то есть каждого белый бита в маске в результате чего соответствующий бит полученное изображение прозрачным.  
  
 Перед рисованием скрытого изображения на сплошной цвет фона, следует использовать [SetBkColor](../mfc/reference/cimagelist-class.md#setbkcolor) функцию-член, чтобы задать цвет фона списка изображений для назначения совпадает с цветом. Установка цвета избавляет от необходимости Создание прозрачных областей на рисунке и позволяет **нарисовать** чтобы просто скопировать образ в контексте устройства назначения, что приводит к значительному росту производительности. Чтобы нарисовать изображение, укажите `ILD_NORMAL` при вызове в стиле **нарисовать**.  
  
 Можно задать цвет фона для списка маскированных изображений ([CImageList](../mfc/reference/cimagelist-class.md)) в любое время, что он правильно рисует на любой непрозрачный фон. Установка цвета фона `CLR_NONE` вызывает изображения, которые прозрачным по умолчанию. Получить цвет фона для списка изображений с помощью [GetBkColor](../mfc/reference/cimagelist-class.md#getbkcolor) функции-члена.  
  
 `ILD_BLEND25` И `ILD_BLEND50` стили сглаживание изображения с системным цветом. Эти стили полезны при использовании скрытого изображения для представления объекта, который может выбрать пользователь. Например, можно использовать `ILD_BLEND50` стиль для прорисовки изображения, когда пользователь выбирает его.  
  
 Nonmasked образ копируется в контексте устройства назначения с помощью **SRCCOPY** выполнению растровую операцию. Цвета изображения внешне кажутся одинаковыми, независимо от того, цвет фона контекста устройства. Стили рисования, указанный в **нарисовать** также не оказывают влияния на nonmasked изображения.  
  
 В дополнение к функции-члену Draw, другую функцию [DrawIndirect](../mfc/reference/cimagelist-class.md#drawindirect), расширяет возможность обрабатывать изображения перед просмотром. `DrawIndirect`принимает в качестве параметра, [IMAGELISTDRAWPARAMS](http://msdn.microsoft.com/library/windows/desktop/bb761395) структуры. Эта структура используется для настройки обработки текущего изображения, включая использование коды растровых операций (ROP). Дополнительные сведения о кодах ROP см. в разделе [коды растровых операций](http://msdn.microsoft.com/library/windows/desktop/dd162892) и [растровых изображений как кисти](http://msdn.microsoft.com/library/windows/desktop/dd183378) в Windows SDK.  
  
## <a name="see-also"></a>См. также  
 [Использование CImageList](../mfc/using-cimagelist.md)   
 [Элементы управления](../mfc/controls-mfc.md)

