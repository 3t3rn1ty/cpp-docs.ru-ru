---
title: "Рисование изображений из списка изображений | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "CImageList - класс, создание изображений из"
  - "рисование, изображения из списков изображений"
  - "списки изображений [C++], создание изображений из"
  - "изображения [C++], рисование"
ms.assetid: 2f6063fb-1c28-45f8-a333-008c064db11c
caps.latest.revision: 11
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 7
---
# Рисование изображений из списка изображений
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Чтобы нарисовать изображение, используйте функции\-члена [CImageList::Draw](../Topic/CImageList::Draw.md).  Необходимо задать указатель на объект контекста устройства, индексу образа для рисования, расположение в контексте устройства, на котором рисования изображение и набор флажков, чтобы указать стиль рисования.  
  
 При определении стиля `ILD_TRANSPARENT`, **Рисование** используется процесс 2 — шага для рисования замаскированный изображение.  Во\-первых, он выполняет операцию AND a логический в битах образа и битах маски.  Затем он выполняет операцию побитового исключающего ИЛИ логический на результатах первой операции и фоновых битах контекста устройства назначения.  Этот процесс создает прозрачных областей в результирующий образ; это значит, что каждый бит белый в маске вызывает соответствующий бит в результирующий образ быть прозрачный.  
  
 Прежде чем создание замаскированный изображение на фоне сплошного цвета, необходимо использовать функции\-члена [SetBkColor](../Topic/CImageList::SetBkColor.md) для задания цвета фона списка изображений в тот же цвет по назначению.  Устанавливать цвет исключает необходимость создания прозрачных областей в виде и позволяет **Рисование** просто скопировать изображение к контексту устройства назначения, и в значительном росте в производительности.  Чтобы создать образ укажите стиль `ILD_NORMAL` при вызове **Рисование**.  
  
 Можно задать цвет фона для замаскированного списка изображений \([CImageList](../Topic/CImageList%20Class.md)\) в любое время, чтобы он отрисовывал правильно на любом твердом фоне.  Устанавливать цвет фона приводит к тому, `CLR_NONE` отображает быть выписанным прозрачно по умолчанию.  Для извлечения цвет фона списка изображений используйте функции\-члена [GetBkColor](../Topic/CImageList::GetBkColor.md).  
  
 Стили `ILD_BLEND25` и `ILD_BLEND50` сгладят образ цветом выделения системы.  Эти стили полезны при использовании замаскированный изображение для представления объекта, который пользователь может выбрать.  Например, можно использовать стиль `ILD_BLEND50` рисования изображение, когда пользователь выделяет его.  
  
 Nonmasked образ копируется в контекст устройства назначения с помощью операции растра **SRCCOPY**.  Цвета в виде отображаются одинаково независимо от цвета фона контекста устройства.  Стили рисования, указанных в **Рисование** также не влияет на nonmasked виде образа.  
  
 Помимо функцию\-член рисования, другая функция, [DrawIndirect](../Topic/CImageList::DrawIndirect.md) расширяет возможности отрисовки изображение.  `DrawIndirect` принимает в качестве параметра, структуры [IMAGELISTDRAWPARAMS](http://msdn.microsoft.com/library/windows/desktop/bb761395).  Эту структуру можно использовать, чтобы настраивать отрисовку текущего образа, включая использование кодов \(ROP\) операции растра.  Дополнительные сведения о кодах ROP см. в разделах [Коды операции растра](http://msdn.microsoft.com/library/windows/desktop/dd162892) и [Растровых изображений в качестве кисти](http://msdn.microsoft.com/library/windows/desktop/dd183378) в [!INCLUDE[winSDK](../atl/includes/winsdk_md.md)].  
  
## См. также  
 [Использование CImageList](../mfc/using-cimagelist.md)   
 [Элементы управления](../mfc/controls-mfc.md)