---
title: "Обмен данными диалоговых окон | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "отмена обмена данными"
  - "захват пользовательского ввода"
  - "CDataExchange - класс, использование языка DDX"
  - "обмен данными диалоговых окон (DDX), отмена"
  - "обмен данными диалоговых окон (DDX), механизм обмена данными"
  - "данные диалогового окна"
  - "данные диалогового окна, извлечение"
  - "диалоговые окна, обмен данными"
  - "диалоговые окна, инициализация"
  - "диалоговые окна, извлечение пользовательского ввода с помощью DDX"
  - "DoDataExchange - метод"
  - "инициализация диалоговых окон"
  - "извлечение данных диалоговых окон"
  - "перенос данных диалоговых окон"
  - "UpdateData - метод"
  - "ввод данных пользователем, извлечение из диалоговых окон MFC"
ms.assetid: 4675f63b-41d2-45ed-b6c3-235ad8ab924b
caps.latest.revision: 10
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 6
---
# Обмен данными диалоговых окон
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

При использовании механизма DDX, следует установить начальные значения переменных\-членов объекта диалогового окна, обычно в обработчике `OnInitDialog` или конструкторе диалогового окна.  Непосредственно перед диалоговое окно отображается, механизма DDX платформы передает значения переменные\-члены для элементов управления в диалоговом окне, где они отображаются в диалоговом окне само отображается в ответ на `DoModal` или **Создать**.  Реализация по умолчанию `OnInitDialog` в `CDialog` функции\-члена `UpdateData` класса `CWnd` для инициализации элементов управления в диалоговом окне.  
  
 Возвращает тот же механизм значений элементов управления к переменным, когда пользователь нажимает кнопку " ОК " \(или при вызове функции\-члена `UpdateData` с аргументом **TRUE**\).  Механизм проверки данных диалогового окна проверяет все элементы данных, для которых был указан правила проверки.  
  
 Следующий рисунок иллюстрирует обмена данными с диалоговым окном.  
  
 ![Обмен данными диалоговых окон](../mfc/media/vc379d1.png "vc379D1")  
Обмен данными в диалоговом окне  
  
 `UpdateData` работает в обоих направлениях, заданное параметром **bool**, переданным ему.  Для выполнения обмена `UpdateData` настраивает объект `CDataExchange` и вызовет переопределение класса диалогового окна функции\-члена `CDialog``DoDataExchange`.  `DoDataExchange` принимает аргумент типа `CDataExchange`.  Объект `CDataExchange`, переданный `UpdateData` представляет контекст обмена, указав такие сведения, как направление обмена.  
  
 Когда пользователь \(или мастера кода\) переопределите `DoDataExchange` указывается вызова одной функции DDX при использовании dataitem \(элемент управления\).  Каждая функция DDX знает, как для обмена данными в обоих направлениях исходя из контекста указанный аргументом `CDataExchange` передаваемого в `DoDataExchange``UpdateData`.  
  
 MFC предоставляет различные функции DDX для различных типов обмена.  В следующем примере показано переопределение `DoDataExchange`, в котором вызываются 2 функции DDX и одной функции DDV:  
  
 [!code-cpp[NVC_MFCControlLadenDialog#49](../mfc/codesnippet/CPP/dialog-data-exchange_1.cpp)]  
  
 Линии `DDX_` и `DDV_` сопоставление данных.  Пример DDX и отображаются функции DDV для управления чек\- окна и управления поля ввода, соответственно.  
  
 Если пользователь отменяет модальное диалоговое окно, функцию\-член `OnCancel` заканчивается диалоговое окно и `DoModal` возвращает значение **IDCANCEL**.  В этом случае никакие данные не обменян между кнопками и объектом диалогового окна.  
  
## См. также  
 [Обмен данными диалоговых окон и их проверка](../mfc/dialog-data-exchange-and-validation.md)   
 [Жизненный цикл диалогового окна](../mfc/life-cycle-of-a-dialog-box.md)   
 [Проверка данных диалогового окна](../mfc/dialog-data-validation.md)