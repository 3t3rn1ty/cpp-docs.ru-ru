---
title: "Установка состояния дня в элементе управления &quot;Календарь на месяц&quot; | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "MCN_GETDAYSTATE"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "CMonthCalCtrl - класс, задание информации о состоянии дня"
  - "MCN_GETDAYSTATE - уведомление"
  - "элементы управления "календарь месяца", информация о состоянии дня"
ms.assetid: 435d1b11-ec0e-4121-9e25-aaa6af812a3c
caps.latest.revision: 11
caps.handback.revision: 7
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Установка состояния дня в элементе управления &quot;Календарь на месяц&quot;
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Один из атрибутов календаря месяца возможность хранения данных, которые называются дня состояние элемента управления, на каждый день месяца.  Эти сведения используются для выделения определенных дат для в данный момент отображаемое название месяца.  
  
> [!NOTE]
>  Объект `CMonthCalCtrl` должен иметь стиль **MCS\_DAYSTATE** для отображения информации о состоянии дня.  
  
 Сведения о состоянии дня выражается в виде 32\-разрядному типу данных, **MONTHDAYSTATE**.  Каждый бит в битовом поле **MONTHDAYSTATE** \(1\) представляет состояние через 31 дня в месяце.  Если же включен, соответствующий дня будет выделен полужирным шрифтом; в противном случае он будет отображаться без ударений.  
  
 2 Для параметра метода состояние дня месяца календаря: явно, вызвав метод [CMonthCalCtrl::SetDayState](../Topic/CMonthCalCtrl::SetDayState.md) или при обработке сообщения уведомления **MCN\_GETDAYSTATE**.  
  
## Для обработки сообщений уведомлений MCN\_GETDAYSTATE  
 Сообщение **MCN\_GETDAYSTATE** передается элементом управления для определения способа дни в пределах видимых месяцев должны отображаться.  
  
> [!NOTE]
>  Поскольку элемент управления и после кэширования предыдущие месяцы, следуйте отношению к отображаемому месяцу будет получено это уведомление всякий раз, когда новый месяц выбран.  
  
 Для правильной обработки это сообщение необходимо указать сведения о состоянии, сколько дней, месяцев был запрошен для инициализации массива структур **MONTHDAYSTATE** с правильными значениями и инициализирует связанный элемент структуры с новыми данными.  В следующей процедуре, детализируя основные шаги, высказывать, с именем объекта `CMonthCalCtrl``m_monthcal` и массив объектов **MONTHDAYSTATE**, `mdState`.  
  
#### Для обработки сообщений уведомлений MCN\_GETDAYSTATE  
  
1.  С помощью окна свойств, добавьте обработчик уведомления для сообщения **MCN\_GETDAYSTATE** в объект `m_monthcal` \(см. [Сообщения сопоставления в функции](../Topic/Mapping%20Messages%20to%20Functions.md)\).  
  
2.  В теле обработчика, добавьте следующий код:  
  
     [!code-cpp[NVC_MFCControlLadenDialog#26](../mfc/codesnippet/CPP/setting-the-day-state-of-a-month-calendar-control_1.cpp)]  
  
     Пример преобразования указателя `pNMHDR` к нужному типу, а затем укажите число месяцев сведения спрашиваются \(`pDayState->cDayState`\).  Для каждого месяца, текущее битовоеполе \(`pDayState->prgDayState[i]`\) присваивается значение равно нулю, а затем необходимые даты задано \(в данном случае пятнадцат из каждого месяца\).  
  
## См. также  
 [Использование CMonthCalCtrl](../Topic/Using%20CMonthCalCtrl.md)   
 [Элементы управления](../mfc/controls-mfc.md)