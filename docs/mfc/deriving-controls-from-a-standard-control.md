---
title: "Наследование элементов управления от стандартного элемента управления | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "стандартные элементы управления [C++], производное из"
  - "элементы управления [MFC], производные"
  - "производные элементы управления"
  - "стандартные элементы управления"
  - "стандартные элементы управления, наследование элементов управления из"
  - "общие элементы управления Windows [C++], производное из"
ms.assetid: a6f84315-7007-4e0e-8576-78be81254802
caps.latest.revision: 11
caps.handback.revision: 7
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Наследование элементов управления от стандартного элемента управления
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Как и любой [CWnd](../Topic/CWnd%20Class.md)\- производный класс, можно изменить расширение функциональности элемента управления, наследующие новый класс из существующего элемента управления.  
  
### Создать производный класс элемента управления  
  
1.  Создайте производный класс от класса существующего элемента управления и выборочно переопределить функцию\-член **Создать**, чтобы можно было реализовать обязательные аргументы функции **Создать** базового класса.  
  
2.  Предоставляет функции\-члены обработчика сообщений и записи сопоставления сообщений, чтобы изменить расширение функциональности элемента управления в ответ на определенные сообщения Windows.  См. раздел [Сопоставление сообщений с функциями](../Topic/Mapping%20Messages%20to%20Functions.md).  
  
3.  Предоставление новых функций\-членов для расширения функциональности элемента управления \(необязательно\).  
  
 Использование производный элемент управления в диалоговом окне требует дополнительной работы.  Типы и положения элементов управления в диалоговом окне обычно задаются в ресурс шаблона диалоговых окон.  При создании производного класса элемента управления, нельзя указать его в шаблоне диалоговых окон, поскольку компилятору ресурсов ничего не знает о производном классе.  
  
#### Задать производный элемент управления в диалоговом окне  
  
1.  Внедрить объект производного класса элемента управления в объявлении производного класса диалогового окна.  
  
2.  Переопределить функцию\-член `OnInitDialog` в классе диалогового окна для вызова функции\-члена `SubclassDlgItem` для производного элемента управления.  
  
 подклассы `SubclassDlgItem` «динамически» элемент управления, созданный из шаблона диалогового окна.  Если элемент управления динамически является подклассом, обработчик в Windows, процесс некоторые сообщения внутри собственного приложения, а затем передать оставшиеся сообщения и перейти к Windows.  Дополнительные сведения см. в функцию\-член [SubclassDlgItem](../Topic/CWnd::SubclassDlgItem.md) класса `CWnd` в *справочнике по MFC*.  В следующем примере показано, как можно написать переопределение `OnInitDialog` для вызова `SubclassDlgItem`:  
  
 [!code-cpp[NVC_MFCControlLadenDialog#3](../mfc/codesnippet/CPP/deriving-controls-from-a-standard-control_1.cpp)]  
  
 Поскольку производный элемент управления внедряется в классе диалогового окна, он будет построен в диалоговом окне будет создан, и он будет при уничтожении диалоговое окно становится уничтожается.  Сравните этот код в примере в разделе [Добавление элементов управления вручную](../mfc/adding-controls-by-hand.md).  
  
## См. также  
 [Создание и использование элементов управления](../mfc/making-and-using-controls.md)   
 [Элементы управления](../mfc/controls-mfc.md)