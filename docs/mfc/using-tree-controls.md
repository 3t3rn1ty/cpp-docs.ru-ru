---
title: Использование элементов управления древовидного | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- CTreeCtrl class [MFC], using
- tree controls [MFC], about tree controls
ms.assetid: 4e92941a-e477-4fb1-b1ce-4abeafbef1c1
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: f9cb5c8892583adac01ca883034b8c0af18595c9
ms.sourcegitcommit: c6b095c5f3de7533fd535d679bfee0503e5a1d91
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2018
ms.locfileid: "36954599"
---
# <a name="using-tree-controls"></a>Использование элементов управления древовидного типа
Типичное использование элемента управления дерева ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) соответствует шаблону ниже:  
  
-   Элемент управления создается. Если элемент управления, заданный в шаблон диалогового окна или если вы используете `CTreeView`, создания выполняется автоматически при создании диалогового окна или представления. Если вы хотите создать древовидный элемент управления как дочернего окна другие окна, используйте [создать](../mfc/reference/ctreectrl-class.md#create) функции-члена.  
  
-   Если необходимо использовать изображения элемента управления дерева, задать список изображений, вызвав [SetImageList](../mfc/reference/ctreectrl-class.md#setimagelist). Можно также изменить отступы, вызвав [SetIndent](../mfc/reference/ctreectrl-class.md#setindent). Делать это подходящий момент находится в [OnInitDialog](../mfc/reference/cdialog-class.md#oninitdialog) (для элементов управления в диалоговых окнах) или [OnInitialUpdate](../mfc/reference/cview-class.md#oninitialupdate) (для представления).  
  
-   Поместить данные в элемент управления путем вызова `CTreeCtrl` [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) функцию один раз для каждого элемента данных. `InsertItem` Возвращает дескриптор для элемента, который можно использовать для ссылки на него в более поздней версии, например, при добавлении дочерних элементов. Подходящее время для инициализации данных находится в `OnInitDialog` (для элементов управления в диалоговых окнах) или `OnInitialUpdate` (для представления).  
  
-   Как пользователь взаимодействует с элементом управления, он передает различные сообщения уведомления. Можно указать функцию для обработки всех сообщений, которые необходимо обработать, добавив макрос ON_NOTIFY_REFLECT в схеме сообщений окна управления либо путем добавления ON_NOTIFY-макрос схему сообщений родительского окна. В разделе [уведомляющие сообщения древовидного элемента управления](../mfc/tree-control-notification-messages.md) далее в этом разделе список возможных уведомления.  
  
-   Вызывайте различные функции-члены набор для установки значений для элемента управления. Изменения, выполненные включают установку отступы и изменения текста, изображения или данные, связанные с элементом.  
  
-   Используйте различные функции Get для проверки содержимого элемента управления. Также можно просматривать содержимое элемента управления дерева с функциями, которые дают возможность получить маркеры для родительских, дочерних и элементов с общим родителем указанного элемента. Можно даже сортировать дочерние узлы определенного узла.  
  
-   После завершения с помощью элемента управления, убедитесь, что он будет уничтожен надлежащим образом. Если элемент управления дерева в диалоговом окне или если это представление, он и `CTreeCtrl` объект будет удален автоматически. Если нет, необходимо убедиться, что оба элемента управления и `CTreeCtrl` правильно удаляется объект.  
  
## <a name="see-also"></a>См. также  
 [Использование CTreeCtrl](../mfc/using-ctreectrl.md)   
 [Элементы управления](../mfc/controls-mfc.md)

