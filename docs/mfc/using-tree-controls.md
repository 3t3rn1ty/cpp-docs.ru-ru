---
title: "Использование элементов управления древовидного типа | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "CTreeCtrl - класс, использование"
  - "элементы управления "дерево", об элементах управления типа "дерево""
ms.assetid: 4e92941a-e477-4fb1-b1ce-4abeafbef1c1
caps.latest.revision: 10
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 6
---
# Использование элементов управления древовидного типа
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Типичное потребление управления дерева \([CTreeCtrl](../mfc/reference/ctreectrl-class.md)\), соответствует шаблон ниже:  
  
-   Элемент управления.  Если элемент управления определен в шаблоне диалогового окна или при использовании `CTreeView`, создание автоматически, когда диалоговое окно или представления создаются.  Если требуется создать элемент управления "Дерево" как дочернее окно какого\-либо окна, используйте функции\-члена [Создать](../Topic/CTreeCtrl::Create.md).  
  
-   Если требуется, чтобы элемент управления "Дерево" использование изображений, выберите в списке изображений с помощью метода [SetImageList](../Topic/CTreeCtrl::SetImageList.md).  Можно также изменить отступ с помощью метода [SetIndent](../Topic/CTreeCtrl::SetIndent.md).  Для работы в этом режиме это [OnInitDialog](../Topic/CDialog::OnInitDialog.md) \(для элементов управления в диалоговых окнах\) или [OnInitialUpdate](../Topic/CView::OnInitialUpdate.md) \(для представления\).  
  
-   Размещение данных в элемент управления путем вызова функции `CTreeCtrl`[InsertItem](../Topic/CTreeCtrl::InsertItem.md) один раз для каждого элемента данных.  `InsertItem` возвращает дескриптор к элементу можно использовать ссылки на него далее, например добавление дочерних элементов.  Самое время работы инициализировать данные в `OnInitDialog` \(для элементов управления в диалоговых окнах\) или `OnInitialUpdate` \(для представления\).  
  
-   По мере того, как пользователь взаимодействует с элементом управления, он отправляет различные сообщения\-уведомления.  Можно задать функцию для обработки каждого из сообщений необходимо обработать, добавив макрос **ON\_NOTIFY\_REFLECT** в схеме сообщений окна элемента управления или путем добавления макрос `ON_NOTIFY` к схеме сообщений своего родительского окна.  См. подраздел [Сообщения уведомления элемента управления "Дерево"](../mfc/tree-control-notification-messages.md) далее в этом разделе список возможных уведомлений.  
  
-   Вызовите различные функции\-члены к значениям, заданным для элемента управления.  Изменения, которые можно сделать, чтобы включить параметр отступов и изменять текст, изображение или данные, связанные с элементом.  
  
-   Используйте другое сообщение, что функция просмотреть содержимое элемента управления.  Можно также траверза содержимого элемента управления дерева с функциями, которые позволяют извлекать дескрипторы в родительскиям, дочерним и одноуровневым указанного элемента.  Можно даже сортировка дочерних элементов указанного узла.  
  
-   По завершении с элементом управления, убедитесь, что он правильно уничтожается.  Если элемент управления "Дерево" в диалоговом окне или если представление, его и объект `CTreeCtrl` будут уничтожены автоматически.  Если нет, необходимо убедиться, что и элемент управления и объект `CTreeCtrl` правильно уничтожены.  
  
## См. также  
 [Использование CTreeCtrl](../Topic/Using%20CTreeCtrl.md)   
 [Элементы управления](../mfc/controls-mfc.md)