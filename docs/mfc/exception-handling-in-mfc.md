---
title: "Обработка исключений в MFC | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "аномальное выполнение программы [C++]"
  - "исключения архивов [C++]"
  - "утверждения [C++], Условия использования исключений"
  - "автоматизация [C++], исключения"
  - "обработка исключений С++, включение"
  - "обработка исключений С++, приложения MFC"
  - "обработка исключений С++, типы"
  - "библиотеки классов [C++], поддержка исключений"
  - "DAO [C++], исключения"
  - "исключения баз данных [C++]"
  - "обработка ошибок [C++], исключения и"
  - "ошибки [C++], обнаружено утверждениями"
  - "обработка исключений [С++], MFC - библиотека"
  - "макросы исключений [C++]"
  - "исключения [C++], макросы MFC или ключевые слова C++"
  - "вызовы функций, результаты"
  - "ключевые слова [C++], обработка исключений"
  - "макросы [C++], обработка исключений"
  - "макросы [C++], макросы исключений MFC"
  - "память [C++], исключения вне памяти"
  - "MFC [C++], исключения"
  - "ODBC - исключения [C++]"
  - "OLE - исключения [C++], обработка исключений MFC"
  - "исключения вне памяти [C++]"
  - "предопределенные исключения [C++]"
  - "запросы неподдерживаемых служб"
  - "исключение выделения ресурсов"
  - "ресурсы [C++], выделение"
  - "сериализация [C++], исключения"
  - "Windows [C++], исключения выделения ресурсов"
ms.assetid: 0926627d-2ba7-44a6-babe-d851a4a2517c
caps.latest.revision: 12
caps.handback.revision: 8
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Обработка исключений в MFC
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

В этой статье описывается механизм обработки исключений, доступные в MFC.  2 Два свойства:  
  
-   Исключения C\+\+, доступные в MFC версии 3.0 и более поздние версии  
  
-   Макросы исключения MFC, доступные в версии MFC 1.0 и более поздние версии  
  
 При создании нового приложения с помощью MFC следует использовать механизм C C\+\+.  Можно использовать механизм макрос\-, если существующие приложения уже используют этот механизм пересмотрено.  
  
 Можно легко существующий код преобразования к исключениям C\+\+ вместо использования макросов MFC исключения.  Преимущества преобразовать в код и рекомендации по определению, описанных в статье [Исключения. Преобразование из макроса исключений MFC](../mfc/exceptions-converting-from-mfc-exception-macros.md).  
  
 Если уже разработано приложение с помощью макросов MFC исключения можно продолжать использовать эти макросы в имеющемся коде, применяя исключения C\+\+ в новом коде.  Статья [Исключения. Изменения макроса исключений в версии 3.0](../mfc/exceptions-changes-to-exception-macros-in-version-3-0.md) представлены рекомендации по методика.  
  
> [!NOTE]
>  Включить обработку исключений C\+\+ C в коде, select включает исключения C\+\+ на странице создания кода в папке C C И C\+\+ диалогового окна " Страницы свойств проекта, или используется параметр компилятора \/GX.  Значение по умолчанию — \/GX, отключите обработку исключений.  
  
 Этот раздел охватывает следующее:  
  
-   [Когда использовать исключения](#_core_when_to_use_exceptions)  
  
-   [Поддержка исключения MFC](#_core_mfc_exception_support)  
  
-   [Дальнейшее чтение об исключениях](#_core_further_reading_about_exceptions)  
  
##  <a name="_core_when_to_use_exceptions"></a> Когда использовать исключения  
 3 Категории результатов может произойти, если функция вызывается во время выполнения программы. стандартное выполнение, ошибочное выполнение, или анормальное выполнения.  Каждая категория описана ниже.  
  
-   Обычное выполнения  
  
     Функция может выполняться в обычном режиме и вернуть.  Некоторые функции возвращают код результата вызывающему объекту, который отображает результат функции.  Возможные коды результата строго, определенных для функции и представляют диапазон возможных результатов функции.  Код результата может отображать успешность или даже может отображать конкретный тип ошибки, в обычный диапазон ожиданий.  Например, функция состояния файла может возвращать код, который показывает, что файл не существует.  Обратите внимание, что не используется термин «код ошибки», поскольку код результата представляет один из многих ожидаемых исходов.  
  
-   Ошибочное выполнения  
  
     Вызывающий объект выделяет определенная ошибка при передаче аргументов функции или вызывает функцию в недопустимом контексте.  Эта ситуация вызывает ошибку, и она должна быть обнаружена на утверждение положительного программы во время разработки. \(Дополнительные сведения об утверждениях см. в разделе [Утверждения C\/C\+\+](../Topic/C-C++%20Assertions.md)\).  
  
-   Анормальное выполнения  
  
     Анормальное выполнения включает ситуации, когда условия за пределами элемента управления программы, например недостаточно памяти или ошибки ВВОДА\-ВЫВОДА, влияют на результат функции.  Нестандартные ситуации следует проводить обнаружение и созданию исключения.  
  
 Использование исключений особенно подходит для анормалного выполнения.  
  
##  <a name="_core_mfc_exception_support"></a> Поддержка исключения MFC  
 Используется ли исключения C или C\+\+ непосредственно использовать макросы исключения MFC следует использовать [CException Class](../mfc/reference/cexception-class.md) или `CException`\- производные объекты, которые могут быть созданы средой выполнения или приложением.  
  
 В следующей таблице представлены предопределенные исключения предусмотренные MFC.  
  
|Класс исключения|Значение|  
|----------------------|--------------|  
|[CMemoryException Class](../mfc/reference/cmemoryexception-class.md)|Нехватки памяти|  
|[CFileException Class](../mfc/reference/cfileexception-class.md)|Исключение файла|  
|[CArchiveException Class](../mfc/reference/carchiveexception-class.md)|Исключение архива или сериализации|  
|[CNotSupportedException Class](../mfc/reference/cnotsupportedexception-class.md)|Ответ, которые следует задать для неподдержанной службы|  
|[CResourceException Class](../mfc/reference/cresourceexception-class.md)|Исключение выделения ресурсов Windows|  
|[CDaoException Class](../mfc/reference/cdaoexception-class.md)|Исключения баз данных \(классы DAO\)|  
|[CDBException Class](../mfc/reference/cdbexception-class.md)|Классы исключений базы данных \(ODBC\)|  
|[COleException Class](../mfc/reference/coleexception-class.md)|Исключения OLE|  
|[COleDispatchException Class](../Topic/COleDispatchException%20Class.md)|Исключения диспетчеризации \(автоматизации\)|  
|[CUserException Class](../mfc/reference/cuserexception-class.md)|Исключение, которое предупреждает пользователя с окном сообщения, а затем создает универсальное [CException Class](../mfc/reference/cexception-class.md)|  
  
> [!NOTE]
>  MFC поддерживает исключения C\+\+ и макросы исключения MFC.  MFC не поддерживает непосредственно обработчики \(SEH\) структурированного исключения Windows NT, как описано в разделе [Структурной обработки исключений](http://msdn.microsoft.com/library/windows/desktop/ms680657).  
  
##  <a name="_core_further_reading_about_exceptions"></a> Дальнейшее чтение об исключениях  
 В следующих статьях объясняется использование библиотеки MFC для обрабатывая исключения:  
  
-   [Исключения. Перехват и удаление исключений](../mfc/exceptions-catching-and-deleting-exceptions.md)  
  
-   [Исключения. Анализ содержимого исключений](../mfc/exceptions-examining-exception-contents.md)  
  
-   [Исключения. Высвобождение объектов в исключениях](../Topic/Exceptions:%20Freeing%20Objects%20in%20Exceptions.md)  
  
-   [Исключения. Создание исключений из собственных функций](../mfc/exceptions-throwing-exceptions-from-your-own-functions.md)  
  
-   [Исключения. Исключения баз данных](../mfc/exceptions-database-exceptions.md)  
  
-   [Исключения. Исключения OLE](../Topic/Exceptions:%20OLE%20Exceptions.md)  
  
 В следующих статьях " макросы исключения MFC с ключевыми словами исключения C\+\+ объясняется, как можно адаптировать код:  
  
-   [Исключения. Изменения макроса исключений в версии 3.0](../mfc/exceptions-changes-to-exception-macros-in-version-3-0.md)  
  
-   [Исключения. Преобразование из макроса исключений MFC](../mfc/exceptions-converting-from-mfc-exception-macros.md)  
  
-   [Исключения. Использование макросов MFC и исключений C\+\+](../mfc/exceptions-using-mfc-macros-and-cpp-exceptions.md)  
  
## См. также  
 [Принцип I: Создайте мои собственные пользовательские классы исключений?](http://go.microsoft.com/fwlink/?LinkId=128045)   
 [Обработка исключений С\+\+](../cpp/cpp-exception-handling.md)