---
title: Обработчики для стандартных сообщений Windows | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
f1_keywords:
- afx_msg
dev_langs:
- C++
helpviewer_keywords:
- Windows messages [MFC], handlers
- message handling [MFC], Windows message handlers
- handler functions, standard Windows messages
- functions [MFC], handler
- messages [MFC], Windows
ms.assetid: 19412a8b-2c38-4502-81da-13c823c7e36c
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 1eb904d67463cefd9fecdb33c7367bfde79e27f8
ms.sourcegitcommit: 060f381fe0807107ec26c18b46d3fcb859d8d2e7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/25/2018
ms.locfileid: "36928519"
---
# <a name="handlers-for-standard-windows-messages"></a>Обработчики для стандартных сообщений Windows
По умолчанию обработчики для стандартных сообщений Windows (**WM_**) предварительно определены в классе `CWnd`. Библиотека классов сформирует имена для этих обработчиков на имя сообщения. Например, обработчик **WM_PAINT** сообщение объявляется в `CWnd` как:  
  
 `afx_msg void OnPaint();`  
  
 **Afx_msg** ключевое слово предлагает эффект C++ **виртуальных** ключевое слово by отличия от других обработчиков `CWnd` функции-члены. Обратите внимание, что эти функции не фактически виртуальным; Вместо этого они реализуются с помощью схемы сообщений. Схемы сообщений зависят от исключительно на стандартные макросы препроцессора не для всех расширений языка C++. **Afx_msg** ключевое слово разрешается пробелы после предварительной обработки.  
  
 Чтобы переопределить обработчика, определенные в базовом классе, просто определите функцию с же прототип в производном классе, а также записи схемы сообщений для обработчика. Обработчик «переопределяет» любого обработчика с тем же именем, ни в одном из базовых классов ваш класс.  
  
 В некоторых случаях обработчик следует вызывать переопределенный обработчика в базовом классе, базовые классы и Windows могут работать в сообщении. Когда вызывать обработчик базового класса в переопределении зависит от обстоятельств. Иногда необходимо сначала вызвать обработчик базового класса и иногда последним. Иногда вызове обработчика базового класса условно, если вы решили не самостоятельно обрабатывать сообщения. Иногда необходимо вызывать обработчик базового класса, а затем позволяет выполнять собственный код обработчика, в зависимости от значения или состояния, возвращаемого обработчиком базового класса.  
  
> [!CAUTION]
>  Измените аргументы, переданные в обработчик, если требуется передать обработчик базового класса небезопасно. Например, может возникнуть желание изменить *nChar* аргумент `OnChar` обработчика (для преобразования в верхний регистр, например). Такое поведение довольно запутанные, но если необходимо выполнить этот эффект, используйте `CWnd` функция-член `SendMessage` вместо него.  
  
 Как определить правильный способ переопределить данное сообщение, если окно свойств записывает основу функции обработчика для заданного сообщения — `OnCreate` обработчик для **WM_CREATE**, например, он эскизы в форме функция рекомендуемые переопределенному члену. Следующий пример рекомендует обработчик сначала вызывает обработчик базового класса и продолжить работу только при условии, что он не возвращает значение -1.  
  
 [!code-cpp[NVC_MFCMessageHandling#3](../mfc/codesnippet/cpp/handlers-for-standard-windows-messages_1.cpp)]  
  
 По соглашению имена этих обработчиков начинаются с префикса «On». Некоторые из этих обработчиков не принимают аргументов, тогда как другие принимают несколько. Также есть тип возвращаемого значения не **void**. Обработчики по умолчанию для всех **WM_** сообщений описаны в *Справочник по библиотеке MFC* как функции-члены класса `CWnd` , имена которых начинаются с «Далее». В объявлениях функций-членов `CWnd` начинаются с префикса **afx_msg**.  
  
## <a name="see-also"></a>См. также  
 [Объявление функций обработчиков сообщений](../mfc/declaring-message-handler-functions.md)
