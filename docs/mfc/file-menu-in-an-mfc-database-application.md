---
title: Файл меню в приложении базы данных MFC | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- File menu
- database applications [MFC], File menu commands
ms.assetid: 92dafb75-c1b3-4860-80a0-87a83bfc36f2
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 71e669336e4a23f1a34e0bbd65bd8123e0df3335
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33345759"
---
# <a name="file-menu-in-an-mfc-database-application"></a>Меню "Файл" в приложении базы данных MFC
Если создание приложений баз данных MFC и не используйте сериализации, как следует интерпретировать открытия, закрытия, сохранить и сохраните как команды меню "файл" пока не существует правил стиля для этого вопроса, ниже приведены несколько советов:  
  
-   Полностью удалите команды Открыть меню «файл».  
  
-   Интерпретировать «открыть базу данных» команду «Открыть» и вывести список источников данных, который распознает приложение пользователя.  
  
-   Интерпретировать команды «Открыть», как, возможно, «открыть профиль». Сохранить Open для открытия сериализованного файла, но использовать файл для хранения сериализованного документа, содержащего сведения «профиль пользователя», такие как предпочтения пользователя, включая его или ее идентификатор входа (при необходимости, за исключением пароля) и источника данных он или она наиболее недавно в сотрудничестве с.  
  
 Мастер приложений MFC поддерживает создание приложения с помощью команд меню Файл не связанных с документом. Выберите **представление без поддержки файлов базы данных** параметр **база данных поддерживает** страницы.  
  
 Для интерпретации команде меню Файл особым образом, необходимо переопределить один или несколько обработчиков команд, в основном вашей `CWinApp`-производного класса. Например, если вы полностью переопределить `OnFileOpen` (, реализующий `ID_FILE_OPEN` команда) означает «открыть базу данных:»  
  
-   Не вызывайте базовый класс версию `OnFileOpen`, поскольку полностью замене реализацией по умолчанию команды.  
  
-   Вместо этого используйте обработчик для отображения диалоговое окно со списком источников данных. Можно отобразить такого диалога, вызвав `CDatabase::OpenEx` или `CDatabase::Open` с параметром **NULL**. Откроется диалоговое окно с ODBC, который отображает все доступные источники данных на компьютере пользователя.  
  
-   Так как приложения баз данных обычно не сохранить весь документ, возможно, имеет смысл удалить сохранения и сохраните как реализации, если не используется для хранения сведений о профиле сериализованного документа. В противном случае могут быть реализованы команды «Сохранить», как, например, «зафиксировать транзакцию.» В разделе [Технические заметки 22](../mfc/tn022-standard-commands-implementation.md) Дополнительные сведения о переопределении этих команд.  
  
## <a name="see-also"></a>См. также  
 [Сериализация. Сериализация или База данных ввода вывода](../mfc/serialization-serialization-vs-database-input-output.md)

