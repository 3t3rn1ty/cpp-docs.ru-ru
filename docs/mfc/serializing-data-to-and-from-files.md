---
title: "Сериализация данных в файлы и из них | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "данные [MFC]"
  - "данные [MFC], сериализация"
  - "десериализация [C++]"
  - "данные документа [C++]"
  - "документы [C++], сохранение"
  - "документы [C++], сериализация"
  - "сохранение документов"
  - "сериализация [C++], роль данных"
  - "сериализация [C++], роль документа"
ms.assetid: b42a0c68-4bc4-4012-9938-5433a26d2c24
caps.latest.revision: 9
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 5
---
# Сериализация данных в файлы и из них
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Основная мысль сохранения, объект должен записывать его текущее состояние, показанное значениями его переменных\-членов, в постоянное хранилище.  В дальнейшем объект можно воссоздать, или путем чтения «поиск» состояние объекта из постоянного хранилища.  Узловой пункт заключается в том, что сам объект отвечает за чтения и записи состояния.  Таким образом, для класса, который должен быть упорен, он должен реализовать базовые операции сериализации.  
  
 Платформа предоставляет реализацию по умолчанию для хранения документов на дисковым файлам в ответ на и команды "Сохранить как" в меню " Файл и для загрузки документов из дисковых файлов в ответ на открытую команды.  Очень с меньшим работы, можно реализовать возможность документа записывать и считывать данные из и в файле.  Главный элемент необходимо сделать переопределить функцию\-член [Выполнять сериализацию](../Topic/CObject::Serialize.md) в классе документа.  
  
 Мастер приложений MFC задает скелетное переопределить функцию\-член `Serialize`**CDocument** в классе документа создается автоматически.  После реализации переменных\-членов приложения можно заполните переопределенный `Serialize` с кодом, отправить данные в «подключенному объект архива» в файл.  Объект [CArchive](../mfc/reference/carchive-class.md) похож на объекты ввода\-вывода `cin` и `cout` в библиотеке iostream C C\+\+.  Однако `CArchive` записи и считывает бинарный формат, не форматированный текст.  
  
## Дополнительные сведения  
  
-   [Сериализация](../Topic/Serialization%20in%20MFC.md)  
  
-   [Роль document в сериализации](#_core_the_document.92.s_role_in_serialization)  
  
-   [Роль в сериализации данных](#_core_the_data.92.s_role_in_serialization)  
  
-   [Пропуск механизм сериализации](../mfc/bypassing-the-serialization-mechanism.md)  
  
##  <a name="_core_the_document.92.s_role_in_serialization"></a> Роль document в сериализации  
 Платформа отвечает автоматически в меню "Файл" команды " открыть, сохранения и сохранить как путем вызова функции\-члена `Serialize` документа, если она реализована.  Команда `ID_FILE_OPEN`, например, вызывает функцию обработчика в объекте приложения.  Во время этого процесса, пользователь видит и ответа в диалоговое окно файла открытый и платформа получает имя файла выбранные пользователем.  Платформа создает настройку объекта `CArchive` для загрузки данных в документ и передает архив в `Serialize`.  Платформа уже раскрывала файл.  Код в функции\-члене `Serialize` создаваемого документа считывает данные в архив, реконструируя через объекты данных по мере необходимости.  Дополнительные сведения о сериализации см. в статье [Сериализация](../Topic/Serialization%20in%20MFC.md).  
  
##  <a name="_core_the_data.92.s_role_in_serialization"></a> Роль в сериализации данных  
 Как правило, данные типа класса должна быть возможность сериализации.  Это значит, что при передаче объекта в архив, он должен знать, как создаются в архив и считывания из архива.  MFC предоставляет поддержку для создания классов сериализуемый таким образом.  При создании класса для указания типа данных и требуется сериализовать данные этого типа, создайте для сериализации.  
  
## См. также  
 [Использование документов](../mfc/using-documents.md)