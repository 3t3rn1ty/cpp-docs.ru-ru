---
title: Сериализация данных из файлов | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- documents [MFC], serialization
- documents [MFC], saving
- saving documents
- deserialization [MFC]
- serialization [MFC], role of document
- serialization [MFC], role of data
- data [MFC]
- data [MFC], serializing
- document data [MFC]
ms.assetid: b42a0c68-4bc4-4012-9938-5433a26d2c24
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: ec6bfbe647045a334af9fe95cd6d1ab40625a51f
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
ms.locfileid: "33380436"
---
# <a name="serializing-data-to-and-from-files"></a>Сериализация данных в файлы и из них
Основная идея сохраняемости является, объект должен иметь возможность записи его текущее состояние, определяется значениями его переменных-членов, в постоянное хранилище. Более поздней версии объект может быть воссоздан путем чтения, или «десериализации» состояния объекта из постоянного хранилища. Фактор — то, что сам объект отвечает за чтение и запись собственное состояние. Таким образом класс может быть постоянным, он должен реализовать операции базовой сериализации.  
  
 Платформа предоставляет реализацию по умолчанию для сохранения файлов в ответ на сохранение документов и сохранить как команды, в меню «файл», а также для загрузки документов из файлов на диске в ответ на команду «Открыть». С небольшими затратами усилий можно реализовать возможность записи и чтения данных и файла документа. Главное, необходимо сделать — переопределение [сериализации](../mfc/reference/cobject-class.md#serialize) функции-члена в классе документа.  
  
 Мастер приложений MFC помещает базовой переопределение **CDocument** функции-члена `Serialize` в классе документа, он будет создан. После реализации приложения переменные-члены можно заполнить вашей `Serialize` переопределения с кодом, который отправляет данные подключения в файл «архив объекта». Объект [CArchive](../mfc/reference/carchive-class.md) объект подобен `cin` и `cout` объекты из библиотеки iostream C++ ввода вывода. Тем не менее `CArchive` для записи и чтения двоичный формат, не форматированный текст.  
  
## <a name="what-do-you-want-to-know-more-about"></a>Выберите Дополнительные сведения  
  
-   [Сериализация](../mfc/serialization-in-mfc.md)  
  
-   [Роль документа в сериализации](#_core_the_document.92.s_role_in_serialization)  
  
-   [Роль данных в сериализации](#_core_the_data.92.s_role_in_serialization)  
  
-   [Обход механизма сериализации](../mfc/bypassing-the-serialization-mechanism.md)  
  
##  <a name="_core_the_document.92.s_role_in_serialization"></a> Роль документа в сериализации  
 Платформа автоматически реагирует на него для открытия меню «файл», сохраните и сохранить в виде команд, вызвав документа `Serialize` функция-член, если оно реализовано. `ID_FILE_OPEN` Команда, например, вызывает функцию обработчика событий в объект приложения. Во время этого процесса пользователь увидит и реагирует на диалоговое окно открытия файла и платформа получает имя файла, пользователь нажимает кнопку. Платформа создает `CArchive` набор объектов для загрузки данных в документ и передает архива `Serialize`. Платформа файл уже открыт. Код в ваш документ `Serialize` функции-члена считывания данных через архива, реконструкции объекты данных, при необходимости. Дополнительные сведения о сериализации см. в статье [сериализации](../mfc/serialization-in-mfc.md).  
  
##  <a name="_core_the_data.92.s_role_in_serialization"></a> Роль данных в сериализации  
 Как правило данные типа класса должны иметь возможность сериализовать себя. Т. е при передаче объекта в архив объект следует знать способы сам записать в архив и считывается в архив. MFC предоставляет поддержку для создания классов сериализуемые таким образом. При создании класса, чтобы определить тип данных и вы собираетесь сериализовать этот тип конструктора для сериализации данных.  
  
## <a name="see-also"></a>См. также  
 [Использование документов](../mfc/using-documents.md)

