---
title: "Компилятор C4838 предупреждение (уровень 1) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: error-reference
f1_keywords:
- C4838
dev_langs:
- C++
helpviewer_keywords:
- C4838
ms.assetid: fea07924-5feb-4ed4-99b5-1a8c41d28db6
caps.latest.revision: 4
author: corob-msft
ms.author: corob
manager: ghogen
translationtype: Machine Translation
ms.sourcegitcommit: 3168772cbb7e8127523bc2fc2da5cc9b4f59beb8
ms.openlocfilehash: 227af1840fe5aee63545e35456fe09749f00de1d
ms.lasthandoff: 02/24/2017

---
# <a name="compiler-warning-level-1-c4838"></a>Компилятор C4838 предупреждение (уровень 1)
Преобразование «тип_1» в «тип2» требуется сужающее преобразование  
  
 Неявное сужающее преобразование найден при использовании статистической функции или список инициализации.  
  
 Языка C разрешает неявные сужающие преобразования в назначения и инициализации, и C++ следует масти, несмотря на то, что Непредвиденная сужающие является причиной многих ошибок кода. Чтобы сделать код более безопасным, стандарт языка C++ требует диагностическое сообщение, если сужающее преобразование происходит в списке инициализации. В Visual C++ — диагностические [C2397 ошибки компилятора](../../error-messages/compiler-errors-1/compiler-error-c2397.md) при использовании единообразная инициализация синтаксиса поддерживается начиная с Visual Studio 2015. Компилятор создает предупреждение C4838 при использовании списка или агрегатной инициализации синтаксис, поддерживаемый Visual Studio 2013.  
  
 Сужающее преобразование может быть допустимо, если известно, что возможный диапазон значений может поместиться в целевой базе данных. В этом случае вы знаете, более чем компилятор. При внесении сужающее преобразование намеренно свои намерения явно объявить с помощью статических приведения. В противном случае — это предупреждающее сообщение почти всегда указывает наличие ошибки в коде. Вы можете исправить, убедившись, что объекты, которые необходимо инициализировать иметь типы, достаточное для обработки входных данных.  
  
 Следующий пример приводит к возникновению ошибки C4838 и показан один из способов устранить проблему:  
  
```  
// C4838.cpp -- C++ narrowing conversion diagnostics  
// Compile by using: cl /EHsc C4838.cpp  
  
struct S1 {  
    int m1;  
    double m2, m3;  
};  
  
void function_C4838(double d1) {  
    double ad[] = { 1, d1 }; // OK  
    int ai[] = { 1, d1 };    // warning C4838  
    S1 s11 = { 1, 2, d1 };   // OK  
    S1 s12 { d1, 2, 3 };     // warning C4838  
    S1 s13 { static_cast<int>(d1), 2, 3 }; // possible fix for C4838  
}  
```
