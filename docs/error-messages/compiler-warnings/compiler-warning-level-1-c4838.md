---
title: "Предупреждение (уровень 1) C4838 компилятора | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: error-reference
f1_keywords:
- C4838
dev_langs:
- C++
helpviewer_keywords:
- C4838
ms.assetid: fea07924-5feb-4ed4-99b5-1a8c41d28db6
caps.latest.revision: 
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 76002ebf0a6ac6e610b1fcd10d02fab49287495b
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="compiler-warning-level-1-c4838"></a>Компилятор C4838 предупреждение (уровень 1)
Преобразование «тип_1» в «тип2» требует сужающего преобразования  
  
 Неявные преобразования с сужением найден при использовании статистического выражения или список инициализации.  
  
 Языка C разрешает неявные сужающие преобразования в назначения и инициализации, и C++ следует масть, даже если Непредвиденная сужение является причиной многих ошибок кода. Чтобы сделать код безопаснее, стандарт языка C++ требует диагностическое сообщение при возникновении сужающее преобразование, в списке инициализации. В Visual C++ — диагностические [C2397 ошибки компилятора](../../error-messages/compiler-errors-1/compiler-error-c2397.md) при использовании единообразная инициализация синтаксиса поддерживается начиная с Visual Studio 2015. Компилятор выдает предупреждение C4838 при использовании списка или агрегатной инициализации синтаксис, поддерживаемый Visual Studio 2013.  
  
 Сужающее преобразование может быть нормально, если известно, что возможный диапазон значений может поместиться в целевом объекте. В этом случае известно более, чем компилятор. При внесении сужающее преобразование намеренно свои намерения явно объявить с помощью статическому типу. В противном случае это предупреждающее сообщение почти всегда указывает, имеется ошибка в коде. Вы можете исправить, убедившись, что объекты, которые можно инициализировать иметь типы, достаточное для обработки входных данных.  
  
 Следующий пример приводит к возникновению ошибки C4838 и показано, как исправить эту ошибку:  
  
```  
// C4838.cpp -- C++ narrowing conversion diagnostics  
// Compile by using: cl /EHsc C4838.cpp  
  
struct S1 {  
    int m1;  
    double m2, m3;  
};  
  
void function_C4838(double d1) {  
    double ad[] = { 1, d1 }; // OK  
    int ai[] = { 1, d1 };    // warning C4838  
    S1 s11 = { 1, 2, d1 };   // OK  
    S1 s12 { d1, 2, 3 };     // warning C4838  
    S1 s13 { static_cast<int>(d1), 2, 3 }; // possible fix for C4838  
}  
```