---
title: "Компилятора (уровень 4) предупреждения C4121 | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-tools
ms.tgt_pltfrm: 
ms.topic: error-reference
f1_keywords: C4121
dev_langs: C++
helpviewer_keywords: C4121
ms.assetid: 8c5b85c9-2543-426b-88bc-319c50158c7e
caps.latest.revision: "10"
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: 4886f8274ed8813cf556529efe657dca786f0e36
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="compiler-warning-level-4-c4121"></a>Компилятор C4121 предупреждение (уровень 4)
"символ" : выравнивание члена чувствительно к упаковке  
  
 Компилятор добавил заполнение для выравнивания члена структуры по границе упаковки, но упаковочный размер меньше размера члена. Например, следующий фрагмент код приводит к появлению предупреждения C4121:  
  
```  
// C4121.cpp  
// compile with: /W4 /c  
#pragma pack(2)  
struct s  
{  
   char a;  
   int b; // C4121  
   long long c;  
};  
```  
  
 Чтобы устранить эту проблему, внесите одно из следующих изменений.  
  
-   Задайте для упаковочного размера значение, большее или равное размеру члена, который вызвал предупреждение. Например, в этом фрагменте кода измените `pack(2)` на `pack(4)` или `pack(8)`.  
  
-   Измените порядок объявления членов в соответствии с их размером, в порядке убывания. В этом фрагменте кода расположите члены структуры так, чтобы член `long long` предшествовал члену `int`, а член `int` предшествовал члену `char`.  
  
 Это предупреждение возникает только в случае, когда компилятор добавляет заполнение перед членами данных. Оно не возникает, если при упаковке данные были помещены в расположение в памяти, не выровненное для этого типа данных, но при этом заполнение перед членом данных не добавлялось. Если данные не выровнены по границе, кратной размеру данных, возможно снижение производительности. При чтении и записи невыровненных данных на процессорах с некоторым архитектурами возникают ошибки, на устранение которых может потребоваться на 2–3 порядка больше времени. Доступ к невыровненным данным невозможно перенести на некоторые архитектуры RISC.  
  
 Можно использовать [#pragma pack](../../preprocessor/pack.md) или [/Zp](../../build/reference/zp-struct-member-alignment.md) для задания выравнивания структуры. (Компилятор не создает данное предупреждение, если **/Zp1** указано.)