---
title: "Явное создание экземпляра | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-language
ms.tgt_pltfrm: 
ms.topic: language-reference
dev_langs: C++
helpviewer_keywords:
- templates, instantiation
- explicit instantiation
- instantiation, explicit
ms.assetid: 8b0d4e32-45a6-49d5-8041-1ebdd674410e
caps.latest.revision: "9"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: e272652ecc82b65d0251194f17a746ddde58fcc1
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="explicit-instantiation"></a>явное создание экземпляра
Явное создание экземпляров можно использовать для создания шаблонного класса или функции, чтобы обойтись без их использования в коде. Поскольку это полезно для создания файлов библиотек (.lib), в которых шаблоны используются для распространения, то определения шаблонов без создания экземпляров не включаются в объектные файлы (.obj).  
  
 В следующем примере кода создается экземпляр класса `MyStack` для переменных `int` и 6 элементов.  
  
```cpp  
template class MyStack<int, 6>;  
```  
  
 Этот оператор создает экземпляр класса `MyStack`, но не резервирует пространство в памяти для полученного объекта. Код создается для всех членов.  
  
 В следующей строке явное создание экземпляра выполняется только для функции-члена конструктора.  
  
```cpp  
template MyStack<int, 6>::MyStack( void );  
```  
  
 Можно явно создать экземпляр шаблонов функций с помощью аргумента определенного типа для повторного объявления их, как показано в примере в [создание экземпляра шаблона функции](../cpp/function-template-instantiation.md).  
  
 Ключевое слово `extern` позволяет предотвратить автоматическое создание экземпляров элементов. Пример:  
  
```cpp  
extern template class MyStack<int, 6>;  
```  
  
 Аналогично, определенные элементы можно пометить как внешние, для которых не был создан экземпляр.  
  
```cpp  
extern template MyStack<int, 6>::MyStack( void );  
```  
  
 Ключевое слово `extern` позволяет запретить компилятору формировать один и тот же код создания экземпляра более чем в одном объектном модуле. Если функция вызывается, то экземпляр шаблонной функции должен быть создан с использованием заданных явных параметров шаблона по меньшей мере в одном связанном модуле; в противном случае при сборке программы возникнет ошибка компоновщика.  
  
> [!NOTE]
>  Ключевое слово `extern` в специализации применяется только к функциям-членам, которые были определены за пределами тела класса. Функции, определенные внутри объявления класса, рассматриваются как встраиваемые; для них всегда создаются экземпляры.  
  
## <a name="see-also"></a>См. также  
 [Шаблоны функций](../cpp/function-templates.md)