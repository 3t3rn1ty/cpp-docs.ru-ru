---
title: Область (Visual C++) | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-language
ms.topic: language-reference
dev_langs:
- C++
helpviewer_keywords:
- classes [C++], scope
- scope [C++]
- function prototypes [C++], scope
- class scope
- prototype scope
- functions [C++], scope
- scope, C++ names
ms.assetid: 81fecbb0-338b-4325-8332-49f33e716352
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 469fc76701161fda8116627c2b16fb4dfa63224e
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="scope-visual-c"></a>Область (Visual C++)
Имена C++ можно использовать только в некоторых областях программы. Эта область называется областью видимости имени. Область видимости определяет время существования имени, которое не обозначает статический объект. Область также определяет видимость имени, когда вызываются конструкторы и деструкторы классов и когда инициализируются переменные, являющиеся локальными для данной области видимости. (Дополнительные сведения см. в разделе [конструкторы](../cpp/constructors-cpp.md) и [деструкторы](../cpp/destructors-cpp.md).) Существует пять типов области видимости.  
  
-   **Локальная область** имя, объявленное в блоке доступен только в этом блоке и блоков, заключенный в нем и только после точки объявления. Имена формальных аргументов функции в области внешнего блока функции имеют локальную область видимости, как если бы они были объявлены внутри блока, включающего тело функции. Рассмотрим следующий фрагмент кода:  
  
    ```  
    {  
        int i;  
    }  
    ```  
  
     Поскольку объявление `i` находится в блоке, заключенном в фигурные скобки, `i` имеет локальную область и никогда не доступно, потому что никакой код не осуществляет доступ к нему до закрытия фигурной скобки.  
  
-   **Область функций** метки имеют только имена, которые имеют область видимости функции. Их можно использовать в любом месте функции, однако они недоступны за пределами этой функции. Формальные аргументы функции (то есть заданные в ее определении) находятся в области видимости самого внешнего блока тела функции.  
  
-   **Область файлов** любое имя, объявленное за пределами всех блоков или классов имеет область видимости файла. Она доступна в любом месте записи преобразования после объявления. Имена с областью файлов, не объявляющие статические объекты, часто называются глобальными именами.  
  
     В C++ область файлов также известна как область пространства имен.  
  
-   **Область видимости класса** имена членов класса имеют область видимости класса. Функции-члены класса можно осуществлять только с помощью операторов выбора члена (**.** или **->**) или операторов указателя на член (**.\***  или **-> \***) на объект или указатель на объект этого класса; данные члена класса нестатические считается локальным для объекта данного класса. Рассмотрим следующее объявление класса.  
  
    ```  
    class Point  
    {  
        int x;  
        int y;  
    };  
    ```  
  
     Считается, что члены класса `x` и `y` находятся в области класса `Point`.  
  
-   **Область прототипа** имена, объявленные в прототипе функции, видны только до конца прототипа. Следующий прототип объявляет три имя (`strDestination`, `numberOfElements` и `strSource`); эти имена находятся вне области в конце прототипа.  
  
    ```  
    errno_t strcpy_s( char *strDestination, size_t numberOfElements, const char *strSource );  
    ```  
  
## <a name="hiding-names"></a>Скрытие имен  
 Можно скрыть имя, объявив его в закрытом блоке. На следующем рисунке `i` повторно объявляется во внутреннем блоке, таким образом скрывая переменную, связанную с `i` во внешней области видимости блока.  
  
 ![Блок&#45;область скрытие](../cpp/media/vc38sf1.png "vc38SF1")  
Область видимости блока и скрытие имен  
  
 Выходные данные программы, представленной на рисунке, выглядят следующим образом.  
  
```  
i = 0  
i = 7  
j = 9  
i = 0  
```  
  
> [!NOTE]
>  Считается, что аргумент `szWhat`, находится в области видимости функции. Поэтому он обрабатывается так, как если бы он был объявлен в крайнем блоке функции.  
  
## <a name="hiding-class-names"></a>Скрытие имен классов  
 Имена классов можно скрыть, объявив функцию, объект, переменную или перечислитель в той же области. Тем не менее, имя класса по-прежнему доступно при предшествует ключевое слово **класса**.  
  
```  
// hiding_class_names.cpp  
// compile with: /EHsc  
#include <iostream>  
using namespace std;  
  
// Declare class Account at file scope.  
class Account  
{  
public:  
    Account( double InitialBalance )  
        { balance = InitialBalance; }  
    double GetBalance()  
        { return balance; }  
private:  
    double balance;  
};  
  
double Account = 15.37;            // Hides class name Account  
  
int main()  
{  
    class Account Checking( Account ); // Qualifies Account as   
                                       //  class name  
  
    cout << "Opening account with balance of: "  
         << Checking.GetBalance() << "\n";  
}  
//Output: Opening account with balance of: 15.37  
```  
  
> [!NOTE]
>  В любом месте вызова имени класса (`Account`) необходимо использовать ключевое слово class, чтобы отличить его от переменной Account, видимой в пределах файла. Это правило не применяется, если имя класса находится слева от оператора разрешения области действия (::). Имена слева от оператора разрешения области действия всегда считаются именами класса.  
  
 В следующем примере показано, как объявить указатель на объект типа `Account` с помощью **класса** ключевое слово:  
  
```  
class Account *Checking = new class Account( Account );  
```  
  
 `Account` В инициализаторе (в скобках) в предыдущей инструкции имеет область видимости файла; он имеет тип **двойные**.  
  
> [!NOTE]
>  Повторное использование имен идентификаторов считается плохим стилем программирования, как показано в следующем примере.  
  
 Дополнительные сведения об указателях см. в разделе [производные типы](http://msdn.microsoft.com/en-us/aa14183c-02fe-4d81-95fe-beddb0c01c7c). Сведения об объявлении и инициализации объектов классов см. в разделе [классов, структур и объединений](../cpp/classes-and-structs-cpp.md). Дополнительные сведения об использовании **новый** и **удаление** операторов свободного хранилища см. в разделе [новый и удаление операторов](new-and-delete-operators.md).  
  
## <a name="hiding-names-with-file-scope"></a>Скрытие имен в области видимости файла  
 Имена с областью видимости файла можно скрыть, явно объявив одно и то же имя в области видимости блока. Однако доступ к именам области видимости файла можно получить с помощью оператора разрешения области действия (`::`).  
  
```  
// file_scopes.cpp  
// compile with: /EHsc  
#include <iostream>  
  
int i = 7;   // i has file scope, outside all blocks  
using namespace std;  
  
int main( int argc, char *argv[] ) {  
   int i = 5;   // i has block scope, hides i at file scope  
   cout << "Block-scoped i has the value: " << i << "\n";  
   cout << "File-scoped i has the value: " << ::i << "\n";  
}  
```  
  
```Output  
Block-scoped i has the value: 5  
File-scoped i has the value: 7  
```  
  
## <a name="see-also"></a>См. также  
 [Основные понятия](../cpp/basic-concepts-cpp.md)