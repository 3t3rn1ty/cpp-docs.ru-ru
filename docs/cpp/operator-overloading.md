---
title: "Перегрузка операторов | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "language-reference"
f1_keywords: 
  - "operator_cpp"
  - "operator"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "операторы без возможности повторного определения"
  - "operator - ключевое слово [C++]"
  - "перегрузка операторов"
  - "операторы [C++], перегрузка"
  - "операторы с возможностью повторного определения"
ms.assetid: 56ad4c4f-dd0c-45e0-adaa-08fe98cb1f8e
caps.latest.revision: 13
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 13
---
# Перегрузка операторов
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Ключевое слово `operator` объявляет функцию, которая указывает, что означает `operator-symbol` при применении к экземпляру класса.  Это дает оператору более одного значения — "перегружает" его.  Компилятор различает разные значения оператора, проверяя типы его операндов.  
  
## Синтаксис  
  
```  
  
type operator operator-symbol ( parameter-list )  
```  
  
## Заметки  
 Функцию большинства встроенных операторов можно переопределить глобально или для отдельных классов.  Перегруженные операторы реализуются в виде функции.  
  
 Перегруженный оператор имеет имя `operator``x`, где `x` означает оператор из следующей таблицы.  Например, для перегрузки оператора сложения необходимо определить функцию `operator+`.  Аналогично, для сложения\/присвоения `+=` необходимо определить функцию `operator+=`.  
  
### Переопределяемые операторы  
  
|Оператор|Имя|Тип|  
|--------------|---------|---------|  
|`,`|Comma|Binary|  
|`!`|Логическое НЕ|Унарный|  
|`!=`|Неравенство|Binary|  
|`%`|Модуль|Binary|  
|`%=`|Назначение модуля|Binary|  
|`&`|Побитовое И|Binary|  
|`&`|Взятие адреса|Унарный|  
|`&&`|Логическое И|Binary|  
|`&=`|Назначение побитового И|Binary|  
|`( )`|Вызов функции|—|  
|`( )`|Оператор приведения типа|Унарный|  
|`*`|Умножение|Binary|  
|`*`|Разыменование указателя|Унарный|  
|`*=`|Присваивание умножения|Binary|  
|`+`|Сложение|Binary|  
|`+`|Унарный плюс|Унарный|  
|`++`|Инкремент<sup>1</sup>|Унарный|  
|`+=`|Присваивание сложения|Binary|  
|`–`|Вычитание|Binary|  
|`–`|Унарное отрицание|Унарный|  
|`––`|Декремент<sup>1</sup>|Унарный|  
|`–=`|Присваивание вычитания|Binary|  
|`–>`|Выбор члена|Binary|  
|`–>*`|Выбор указателя на член|Binary|  
|`/`|Деление|Binary|  
|`/=`|Присваивание деления|Binary|  
|`<`|Меньше|Binary|  
|`<<`|Сдвиг влево|Binary|  
|`<<=`|Сдвиг влево и присваивание|Binary|  
|`<=`|Меньше или равно|Binary|  
|`=`|Назначение|Binary|  
|`==`|Равенство|Binary|  
|`>`|Больше|Binary|  
|`>=`|Больше или равно|Binary|  
|`>>`|Сдвиг вправо|Binary|  
|`>>=`|Сдвиг вправо и присваивание|Binary|  
|`[ ]`|Нижний индекс массива|—|  
|`^`|Исключающее ИЛИ|Binary|  
|`^=`|Исключающее ИЛИ\/присваивание|Binary|  
|`&#124;`|Побитовое включающее ИЛИ|Binary|  
|`&#124;=`|Назначение побитового включающего ИЛИ|Binary|  
|`&#124;&#124;`|Логическое ИЛИ|Binary|  
|`~`|Дополнение до единицы|Унарный|  
|`delete`|`Delete`|—|  
|`new`|`New`|—|  
|`conversion operators`|операторы преобразования|Унарный|  
  
 1   Существуют две версии унарных операторов инкремента или декремента: префиксная и постфиксная.  
  
 Дополнительные сведения см. в разделе [Общие правила перегрузки операторов](../cpp/general-rules-for-operator-overloading.md).  Ограничения для разных категорий перегруженных операторов описываются в следующих разделах.  
  
-   [Унарные операторы](../cpp/overloading-unary-operators.md)  
  
-   [Бинарные операторы](../cpp/binary-operators.md)  
  
-   [Назначение](../cpp/assignment.md)  
  
-   [Вызов функции](../Topic/Function%20Call%20\(C++\).md)  
  
-   [Индексация ;](../cpp/subscripting.md)  
  
-   [Обращение к членам класса](../Topic/Member%20Access.md)  
  
-   [Инкремент и декремент](../Topic/Increment%20and%20Decrement%20Operator%20Overloading%20\(C++\).md).  
  
-   [Преобразования](../cpp/user-defined-type-conversions-cpp.md)  
  
 Операторы, перечисленные в следующей таблице, не могут быть перегружены.  В этой таблице содержатся символы препроцессора `#` и `##`.  
  
### Непереопределяемые операторы  
  
|||  
|-|-|  
|`Operator`|`Name`|  
|`.`|Выбор члена|  
|`.*`|Выбор указателя на член|  
|`::`|Разрешение области|  
|`?  :`|Условие|  
|`#`|Препроцессор: преобразование в строку|  
|`##`|Препроцессор: конкатенация|  
  
 Хотя перегруженные операторы обычно называются компилятором неявным образом при их появлении в коде, их можно вызывать и явным образом — точно так же, как и любую функцию\-член или функцию, не являющуюся членом.  
  
```  
Point pt;  
pt.operator+( 3 );  // Call addition operator to add 3 to pt.  
```  
  
## Пример  
 В следующем примере выполняется перегрузка оператора `+`, после чего он складывает два комплексных числа и возвращает результат.  
  
```  
// operator_overloading.cpp  
// compile with: /EHsc  
#include <iostream>  
using namespace std;  
  
struct Complex {  
   Complex( double r, double i ) : re(r), im(i) {}  
   Complex operator+( Complex &other );  
   void Display( ) {   cout << re << ", " << im << endl; }  
private:  
   double re, im;  
};  
  
// Operator overloaded using a member function  
Complex Complex::operator+( Complex &other ) {  
   return Complex( re + other.re, im + other.im );  
}  
  
int main() {  
   Complex a = Complex( 1.2, 3.4 );  
   Complex b = Complex( 5.6, 7.8 );  
   Complex c = Complex( 0.0, 0.0 );  
  
   c = a + b;  
   c.Display();  
}  
```  
  
## Вывод  
  
```  
6.8, 11.2  
```  
  
## В данном разделе  
  
1.  [Общие правила перегрузки операторов](../cpp/general-rules-for-operator-overloading.md)  
  
2.  [Перегрузка унарных операторов](../cpp/overloading-unary-operators.md)  
  
3.  [Бинарные операторы](../cpp/binary-operators.md)  
  
4.  [Назначение](../cpp/assignment.md)  
  
5.  [Вызов функции](../Topic/Function%20Call%20\(C++\).md)  
  
6.  [Индексация](../cpp/subscripting.md)  
  
7.  [Доступ к членам](../Topic/Member%20Access.md)  
  
## См. также  
 [Операторы C\+\+](../misc/cpp-operators.md)   
 [Ключевые слова в C\+\+](../cpp/keywords-cpp.md)