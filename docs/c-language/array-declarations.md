---
title: "Объявления массивов | Документация Майкрософт"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-language
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- C++
helpviewer_keywords:
- multidimensional arrays
- declaring arrays
- arrays [C++], declaring
ms.assetid: 5f958b97-cef0-4058-bbc6-37c460aaed9b
caps.latest.revision: 
author: mikeblome
ms.author: mblome
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 06742239c48503a5917317a674a39f50a38702c7
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="array-declarations"></a>Объявления массивов
"Объявление массива" именует массив и задает тип его элементов. Он также может определять число элементов в массиве. Переменная с типом массива считается указателем на тип элементов массива.  
  
## <a name="syntax"></a>Синтаксис  
 `declaration`:  
 *declaration-specifiers init-declarator-list* opt**;**  
  
 *init-declarator-list*:  
 *init-declarator*  
  
 *init-declarator-list* **,**  *init-declarator*  
  
 *init-declarator*:  
 *declarator*  
  
 *declarator*  **=**  *initializer*  
  
 `declarator`:  
 *pointer* opt*direct-declarator*  
  
 *direct-declarator*:  
 *direct-declarator*  **[**  *constant-expression* opt**]**  
  
 Так как значение *constant-expression* является необязательным, этот синтаксис имеет две формы:  
  
-   Первая форма определяет переменную массива. Аргумент *constant-expression* в квадратных скобках задает число элементов в массиве. Аргумент *constant-expression* (при наличии) должен иметь целочисленный тип и значение больше нуля. Каждый элемент имеет тип, заданный с помощью *type-specifier*, который может быть любым типом, кроме `void`. Элемент массива не может являться типом функции.  
  
-   Вторая форма объявляет переменную, которая определена в другом месте. В этом типе пропущен аргумент *constant-expression* в квадратных скобках, но не сами скобки. Эту форму можно использовать, только если ранее массив был инициализирован, объявлен в качестве параметра или ссылки на массив, явно определенный в другом месте программы.  
  
 В обеих формах *direct-declarator* именует переменную и может изменить тип переменной. Квадратные скобки (**[ ]**) после *direct-declarator* изменяют декларатор на тип массива.  
  
 Квалификаторы типов могут появиться в объявлении объекта типа массивов, но квалификаторы применяются к элементам, а не самому массиву.  
  
 Можно объявить массив массивов (многомерный массив), поместив после декларатора массива список константных выражений в квадратных скобках в следующем виде:  
  
```  
  
type-specifier  
declarator [constant-expression] [constant-expression] ...  
```  
  
 Каждый аргумент *constant-expression* в квадратных скобках указывает число элементов в определенном измерении: двумерные массивы имеют два выражения в квадратных скобках, трехмерные массивы — три выражения и так далее. Можно опустить первое константное выражение, если ранее массив был инициализирован, объявлен в качестве параметра или ссылки на массив, явно определенный в другом месте программы.  
  
 Можно определить массивы указателей на различные типы объектов с помощью сложных деклараторов, как описано в разделе [Interpreting More Complex Declarators](../c-language/interpreting-more-complex-declarators.md) (Интерпретация более сложных деклараторов).  
  
 Массивы сохраняются по строкам. Например, следующий массив состоит из двух строк по три столбца каждая.  
  
```  
char A[2][3];  
```  
  
 Три столбца первой строки сохраняются первыми, за ними следуют три столбца второй строки. Это означает, что последний индекс меняется наиболее быстро.  
  
 Для обращения к одиночному элементу массива используется выражение индекса, как описано в разделе [Постфиксные операторы](../c-language/postfix-operators.md).  
  
## <a name="examples"></a>Примеры  
 В следующих примерах показаны объявления массивов.  
  
```  
float matrix[10][15];  
```  
  
 Двумерный массив с именем `matrix` включает 150 элементов, каждый из которых относится к типу **float**.  
  
```  
struct {  
    float x, y;  
} complex[100];  
```  
  
 Это объявление массива структур. Этот массив содержит 100 элементов, каждый элемент — это структура, содержащая два члена.  
  
```  
extern char *name[];  
```  
  
 Эта инструкция объявляет тип и имя массива указателей на `char`. Фактическое определение `name` происходит в другом месте.  
  
 **Блок, относящийся только к системам Microsoft**  
  
 Тип целого числа, необходимый для удержания максимального размера массива, — это размер **size_t**. Определенный в файле заголовка STDDEF.H параметр **size_t** представляет собой `unsigned int` с диапазоном от 0x00000000 до 0x7CFFFFFF.  
  
 **Завершение блока, относящегося только к системам Майкрософт**  
  
## <a name="see-also"></a>См. также  
 [Деклараторы и объявления переменных](../c-language/declarators-and-variable-declarations.md)