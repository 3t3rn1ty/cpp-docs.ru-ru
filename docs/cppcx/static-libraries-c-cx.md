---
title: Статические библиотеки (C + +/ CX) | Документы Microsoft
ms.custom: ''
ms.date: 02/03/2017
ms.technology: cpp-windows
ms.topic: language-reference
ms.assetid: 7faf53c8-fa21-42cc-8246-d32533ef9dfa
author: ghogen
ms.author: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: ffa905cbe0fd49489bd3634cb927cce57ea4ddbc
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="static-libraries-ccx"></a>Статические библиотеки (C++/CX)
Статическая библиотека, которая используется в приложении универсальной платформы Windows (UWP) может содержать код C++ стандарта ISO, включая Типы STL, а также вызовы API-интерфейсов Win32, которые не исключены из платформы приложений среды выполнения Windows. Статическая библиотека использует компоненты среды выполнения Windows и может создавать компоненты среды выполнения Windows, с некоторыми ограничениями.  
  
## <a name="creating-static-libraries"></a>Создание статических библиотек  
  
#### <a name="to-create-a-static-library-for-use-in-a-uwp-app"></a>Создание статической библиотеки для использования в приложении UWP  
  
1.  В строке меню выберите **Файл** > **Создать** > **Проект**. В разделе **Visual C++** > **Windows Universal** выберите **статическая библиотека (универсальные приложения Windows)**.  
  
2.  В области **Обозреватель решений**откройте контекстное меню для проекта и выберите пункт **Свойства**. В **свойства** диалогового **свойства конфигурации** > **C/C++** задайте **использовать Windows расширение среды выполнения** для **Да (/ZW)**.  
  
 При компиляции новой статической библиотеки, если вызов API-интерфейса Win32, исключенного для приложений UWP, компилятор создает ошибки C3861 «Идентификатор не найден». Альтернативный метод, поддерживаемый для среды выполнения Windows см. в разделе [альтернативы интерфейсов API Windows в приложениях UWP](/uwp/win32-and-com/alternatives-to-windows-apis-uwp).  
  
 При добавлении проекта статической библиотеки C++ в решение приложения UWP, может потребоваться обновить параметры свойств проекта библиотеки так, что свойства поддержки UWP **Да**. Без этого параметра выполняется сборка кода и ссылки, но ошибка возникает при попытке проверить приложение для магазина Microsoft. Статическая библиотека должна компилироваться с теми же параметрами компилятора, что и проект, в котором она используется.  
  
 При использовании статической библиотеки, которая создает открытые классы `ref` , открытые классы интерфейсов или открытые классы значений, компоновщик выдает следующее предупреждение:  
  
> **Предупреждение LNK4264:** архивация объектного файла с параметром /ZW в статическую библиотеку; Обратите внимание, что при создании типов среды выполнения Windows не рекомендуется компоновать статическую библиотеку, содержащую метаданные среды выполнения Windows.  
  
 Можно игнорировать это предупреждение только в том случае, если статическая библиотека не создает компоненты среды выполнения Windows, используемые вне этой библиотеки. Если библиотека не использует компонент, который она определяет, то компоновщик может оптимизировать реализацию, даже если открытые метаданные содержат сведения о типе. Это означает, что открытые компоненты в статической библиотеке будут скомпилированы, но не активируются во время выполнения. Поэтому любой компонент среды выполнения Windows, предназначенный для использования другими компонентами или приложениями должен быть реализован в библиотеке динамической компоновки (DLL).  
  
## <a name="see-also"></a>См. также  
 [Работа с потоками и маршалинг](../cppcx/threading-and-marshaling-c-cx.md)