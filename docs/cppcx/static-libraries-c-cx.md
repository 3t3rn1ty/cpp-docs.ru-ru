---
title: "Статические библиотеки (C + +/ CX) | Документы Microsoft"
ms.custom: 
ms.date: 02/03/2017
ms.prod: windows-client-threshold
ms.technology: cpp-windows
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7faf53c8-fa21-42cc-8246-d32533ef9dfa
caps.latest.revision: "10"
author: ghogen
ms.author: ghogen
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: a68475447ed520298b0eab7949386c2e8d078ac6
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="static-libraries-ccx"></a>Статические библиотеки (C++/CX)
Статическая библиотека, которая используется в приложении универсальной платформы Windows может содержать код C++ стандарта ISO, включая Типы STL, а также вызовы API-интерфейсов Win32, которые не исключены из платформы приложений универсальной платформы Windows. Статическая библиотека использует компоненты среды выполнения Windows и может создавать компоненты среды выполнения Windows, с некоторыми ограничениями.  
  
## <a name="creating-static-libraries"></a>Создание статических библиотек  
  
#### <a name="to-create-a-static-library-for-use-in-a-universal-windows-platform-app"></a>Создание статической библиотеки для использования в приложении универсальной платформы Windows  
  
1.  В строке меню выберите **файл** > **New** > **проекта** > **пустая статическая библиотека** для универсальных приложений Windows платформы приложений.  
  
2.  В области **Обозреватель решений**откройте контекстное меню для проекта и выберите пункт **Свойства**. В **свойства** диалогового **свойства конфигурации** > **Общие** задайте поддержки приложений универсальной платформы Windows  **Да**.  
  
3.  На **свойства конфигурации** > **C/C++** задайте **использование** среды выполнения Windows **расширения** для **Да (/ZW)**.  
  
 При компиляции новой статической библиотеки, если вызов API-интерфейса Win32, исключенного для приложений универсальной платформы Windows, компилятор создает ошибки C3861 «Идентификатор не найден». Альтернативный метод, поддерживаемый для среды выполнения Windows см. в разделе [альтернативы интерфейсов API Windows в приложениях для магазина Windows](http://msdn.microsoft.com/en-us/75568012-61e0-41cc-a4df-c698f54f21ec).  
  
 При добавлении проекта статической библиотеки C++ в решение приложения универсальной платформы Windows, может потребоваться обновить параметры свойств проекта библиотеки, чтобы равно свойства поддержки универсальной платформы Windows **Да**. Без этого параметра построение и компоновка кода выполняются, но при попытке проверить приложение для [!INCLUDE[win8_appstore_long](../cppcx/includes/win8-appstore-long-md.md)]возникает ошибка. Статическая библиотека должна компилироваться с теми же параметрами компилятора, что и проект, в котором она используется.  
  
 При использовании статической библиотеки, которая создает открытые классы `ref` , открытые классы интерфейсов или открытые классы значений, компоновщик выдает следующее предупреждение:  
  
> **Предупреждение LNK4264:** архивация объектного файла с параметром /ZW в статическую библиотеку; Обратите внимание, что при создании типов среды выполнения Windows не рекомендуется компоновать статическую библиотеку, содержащую метаданные среды выполнения Windows.  
  
 Можно игнорировать это предупреждение только в том случае, если статическая библиотека не создает компоненты среды выполнения Windows, используемые вне этой библиотеки. Если библиотека не использует компонент, который она определяет, то компоновщик может оптимизировать реализацию, даже если открытые метаданные содержат сведения о типе. Это означает, что открытые компоненты в статической библиотеке будут скомпилированы, но не активируются во время выполнения. Поэтому любой компонент среды выполнения Windows, предназначенный для использования другими компонентами или приложениями должен быть реализован в библиотеке динамической компоновки (DLL).  
  
## <a name="see-also"></a>См. также  
 [Работа с потоками и маршалинг](../cppcx/threading-and-marshaling-c-cx.md)