---
title: "Анализатор расширения | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "Пакеты VSPackage, анализатор сбоя загрузки"
ms.assetid: 8d2bcc4e-9feb-45a5-8d8e-470346f0d39e
caps.latest.revision: 8
caps.handback.revision: 8
manager: "douge"
---
# Анализатор расширения
**Анализатор расширения** перехватывает и регистрирует наиболее распространенные сбои при загрузке расширения.**Анализатор расширения** выполняется в отдельном окне инструментов. Анализатор сообщает причину сбоя и предложения по ее исправлению.  
  
 [Анализатор расширения](http://go.microsoft.com/fwlink/?LinkId=205840) можно скачать из коллекции Visual Studio. Сборки **анализатора расширения** устанавливаются в папку \<*путь установки Visual Studio*\>\\Common7\\IDE\\PrivateAssemblies\\.  
  
## Браузер  
 После установки **анализатора расширения** в меню **Сервис** выберите **Extension Analyzer** \(Анализатор расширения\), а затем **Обозреватель**. Отображается окно, где перечислены все расширения, зарегистрированные на данном компьютере. Существуют различные вкладки для файлов VSIX, пакетов VSPackage, файлов PkgDef и компонентов MEF. Их можно отсортировать по любому из имен столбцов.  
  
1.  На вкладке VSIX отображается информация об установленных расширениях VSIX. Системные компоненты можно включить, установив флажок **Show System Components** \(Показать системные компоненты\). На этой вкладке можно перейти к записям журналов для VSIX, открыть манифест VSIX в редакторе XML Visual Studio, а также открыть папку, куда установлено расширение VSIX.  
  
2.  Вкладка пакетов VS содержит сведения о пакетах VSPackage, известных среде Visual Studio, и о том, загружены ли они. Эти сведения включают в себя идентификатор VSIX, файл PKGDEF и идентификатор GUID для пакета VSPackage. Можно включить системные пакеты VSPackage, установив флажок **Show System Packages** \(Показать системные пакеты\). На этой вкладке можно перейти к записям журналов, просмотреть VSIX, перечисленные на вкладке VSIX, просмотреть файл PKGDEF на вкладке файлов PkgDef, а также проанализировать пакет VSPackage. Результаты анализа отображаются на панели **Вывод**.  
  
3.  Вкладка файлов PkgDef содержит сведения о файлах PKGDEF для расширений, известных среде Visual Studio. Эти сведения включают в себя идентификатор VSIX и путь к расширению. Вы можете перейти в журнал или на вкладку VSIX, а также просмотреть файл PKGDEF в редакторе.  
  
4.  Вкладка компонентов MEF содержит сведения о компонентах MEF, известных среде Visual Studio. Эти сведения включают в себя идентификатор VSIX и путь установки расширения. Системные компоненты можно включить, установив флажок **Show System Components** \(Показать системные компоненты\). Можно также перейти к соответствующей записи VSIX, файлу PKGDEF и расположению, куда было установлено расширение.  
  
> [!WARNING]
>  Может появиться сообщение с запросом на включение fusion\-журнала. Чтобы сделать это, выберите расположение для файлов журнала. Возможно, для продолжения потребуется перезапустить все экземпляры Visual Studio.  
  
## Средство просмотра журнала  
 Вы можете просмотреть сообщения о ведении журналов с помощью **средства просмотра журнала расширения**, если для выполняемого проекта включено ведение журнала \(путем добавления \/log в аргументы командной строки проекта\). Дополнительные сведения см. в разделе [\/Log](../Topic/-Log%20\(devenv.exe\).md). В окне **Extension Log Viewer** \(Средство просмотра журнала расширения\) отображается дата, прослушиватель, тип записи \(тип сообщения\), тип ошибки, сведения о классе или интерфейсе, а также сообщение журнала. Эти данные можно сортировать и фильтровать.  
  
## Распространенные проблемы при загрузке расширения  
 Ниже перечислены некоторые типичные причины для сбоя при загрузке расширения в [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)]:  
  
-   Проблемы с зависимостями. Возможно, расширение было развернуто таким образом, что не удается найти зависимые сборки.  
  
-   Исключения. После загрузки пакета VSPackage [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] вызывает его метод <xref:Microsoft.VisualStudio.Shell.Interop.IVsPackage.SetSite%2A>. Если этот метод выдает исключение, происходит сбой загрузки VSPackage. Во избежание этой проблемы рекомендуется пошагово выполнить код SetSite.  
  
-   Неправильная регистрация. Убедитесь, что расширение подписано должным образом, а пакет VSPackage зарегистрирован с помощью правильного открытого ключа.  
  
## См. также  
 [Управление пакеты VSPackage](../Topic/Managing%20VSPackages.md)