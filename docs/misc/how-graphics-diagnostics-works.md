---
title: "Как работает диагностика графики | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 2ae14497-c77c-4399-bc0c-595caba23656
caps.latest.revision: 2
caps.handback.revision: 2
ms.author: "mithom"
manager: "douge"
---
# Как работает диагностика графики
Вставьте сюда введение.  
  
## Как работает диагностика графики  
 Чтобы использовать диагностику графики, необходимо сначала записать сведения о том, как приложение использует API Direct3D по мере его выполнения, а затем проверить записанное поведение.  Для указанных кадров записываемые сведения включают вызовы API — например, очистку экрана, рисование геометрических фигур, вызов вычислительных шейдеров или изменение состояния графического устройства — и их аргументы и копии буферов и объектов, задаваемые косвенными ссылками.  Кроме того, вызовы API, относящиеся к настройке и инициализации, записываются до отрисовки каких\-либо кадров.  Эти сведения записываются в файл *журнала графики* \(.vsglog\).  
  
 Поведение отрисовки, записанное в журнал графики, можно повторить путем воспроизведения событий графики на компьютере разработки или на удаленном компьютере или устройстве.  Компьютер воспроизведения может совпадать с компьютером или устройством, на котором был изначально записан журнал графики, или отличаться от него.  В большинстве случаев для повторного воспроизведения событий графики используется графическое оборудование компьютера воспроизведения, но когда используется отладчик HLSL, воспроизведение происходит с помощью эмулированного GPU на ЦП.  Использование эмулированного GPU делает возможным пошаговое выполнение кода шейдера, отслеживание значений переменных и использование других стандартных методов отладки, независимо от того, поддерживает ли графическое оборудование компьютера воспроизведения аппаратную отладку.  
  
> [!NOTE]
>  Хотя большая часть сведений записывается непосредственно в журнал графики, для полноценного использования некоторых функций диагностики графики требуется дополнительная информация.  Например, для полноценного использования стека вызовов графики также необходим файл базы данных программы \(PDB\) и исходный код приложения.  Для отладки кода шейдера HLSL также требуется исходный код шейдера.  \(Если шейдер компилироваться с помощью компилятора шейдера D3D11.1 и данные отладки включены, исходный код шейдера регистрируется в журнале графики.\)  
  
> [!NOTE]
>  Так как некоторые API могут быть недоступны в предыдущих версиях Windows или DirectX, воспроизведение журналов графики, содержащих вызовы этих API, на компьютере воспроизведения, который не поддерживает их, невозможно.  
  
### Журналы графики  
 Журнал графики содержит один или несколько кадров, захваченных в выполняемом графическом приложении DirectX.  Поскольку журнал графики является самодостаточным, эти кадры можно впоследствии воспроизвести без какой\-либо внешней информации или ссылок.  Это означает, что можно передавать журналы графики другим разработчикам, изучать проблемы на различных компьютерах и просматривать старые журналы графики, даже когда модели и текстуры были изменены в процессе разработки.  Кроме того, можно загрузить несколько файлов журналов графики \(.vsglog\) одновременно для сравнения данных и результатов отрисовки.  
  
##### Открытие файла журнала графики \(vsglog\)  
  
1.  В [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] в строке меню выберите **Файл**, **Открыть**, **Файл**.  Откроется диалоговое окно **Открытие файла**.  
  
2.  Укажите файл журнала графики \(.vsglog\), который требуется открыть, и нажмите кнопку **Открыть**.  
  
> [!NOTE]
>  Вы можете извлекать, изменять и сохранять копии сеток и текстур из журнала графики с помощью графических средств, которые являются частью [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)].  Однако эти изменения не влияют на содержание журнала графики.  Дополнительные сведения об этих графических инструментах см. в разделе [Работа с трехмерными ресурсами для игр и приложений](../Topic/Working%20with%203-D%20Assets%20for%20Games%20and%20Apps.md).