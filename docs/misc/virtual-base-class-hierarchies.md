---
title: "Иерархии виртуальных базовых классов | Microsoft Docs"
ms.custom: ""
ms.date: "11/17/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "классы [C++], виртуальные базовые классы"
  - "иерархии классов, виртуальные базовые классы"
  - "производные классы, соображения по иерархии классов"
  - "виртуальные функции, в иерархии виртуальных базовых классов"
  - "базовые классы, виртуальный"
  - "виртуальные базовые классы иерархий"
  - "иерархии виртуальных базовых классов"
ms.assetid: d24fda17-f829-48d6-84ec-8100f26bc5cf
caps.latest.revision: 7
caps.handback.revision: 7
author: "mikeblome"
ms.author: "mblome"
manager: "douge"
---
# Иерархии виртуальных базовых классов
Некоторые широкие иерархии классов имеют много общего. Общий код реализуется в базовом классе, а специфичный код — в производных классах.  
  
 Важно, чтобы базовый класс задавал протокол, с помощью которого производные классы могут получить максимальную функциональность. Эти протоколы обычно реализуются с помощью виртуальных функций. Иногда базовый класс предоставляет реализацию по умолчанию для этих функций. В иерархии классов, такой как иерархия `Document` на рисунке "Пример ориентированного ациклического графа" \(см. раздел [Одиночное наследование](../cpp/single-inheritance.md)\), имеются две полезные функции — `Identify` и `WhereIs`.  
  
 При вызове функции `Identify` она возвращает правильную идентификацию, соответствующую типу документа: для `Book` вызов функции, такой как `doc->Identify()`, должен возвращать номер ISBN; однако для `HelpFile`, вероятно, лучше возвращать название продукта и номер редакции. Аналогично, функция `WhereIs` должна возвращать ряд и полку для `Book`, но для `HelpFile` она должна возвращать расположение на диске — вероятно, каталог и имя файла.  
  
 Важно, чтобы все реализации функций `Identify` и `WhereIs` возвращали данные одного типа. В данном случае можно использовать символьную строку.  
  
 Эти функции реализованы как виртуальные и вызываются с использованием указателя на базовый класс. Привязка к фактическому коду происходит во время выполнения путем выбора требуемой функции `Identify` или `WhereIs`.  
  
## См. также  
 [Общие сведения о производных классах](../misc/overview-of-derived-classes.md)