---
title: "Обмен полями записей. Использование функций RFX | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "типы данных [C++], обмен полями записей (ODBC)"
  - "DoFieldExchange - метод, и RFX - функции"
  - "вызовы функций, функции RFX"
  - "ODBC [C++], типы данных"
  - "ODBC [C++], RFX"
  - "библиотеки RFX (ODBC) [C++], типы данных"
  - "библиотеки RFX (ODBC) [C++], параметры и синтаксис функции"
ms.assetid: c594300b-5a29-4119-a68b-e7ca32def696
caps.latest.revision: 8
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
caps.handback.revision: 8
---
# Обмен полями записей. Использование функций RFX
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

В данном разделе описывается способ использования вызовов функций RFX, которые являются основой переопределения `DoFieldExchange`.  
  
> [!NOTE]
>  Этот раздел относится к классам, производным от класса [CRecordset](../Topic/CRecordset%20Class.md), в котором групповая выборка строк не реализована.  При использовании групповой выборки строк реализуется групповой обмен данными с полями записей \(групповой RFX\).  Групповой RFX и обычный RFX похожи.  Описание различий см. в разделе [Набор записей: групповая выборка записей ODBC](../Topic/Recordset:%20Fetching%20Records%20in%20Bulk%20\(ODBC\).md).  
  
 Глобальные функции RFX обеспечивают обмен данными между столбцами источника данных и членами\-полями данных набора записей.  Вызовы функций RFX располагаются в коде функции\-члена [DoFieldExchange](../Topic/CRecordset::DoFieldExchange.md) набора записей.  В этом разделе приводится краткое описание функций, а также приводятся типы данных, доступные для каждой функции RFX.  В [Технической заметке № 43](../Topic/TN043:%20RFX%20Routines.md) описывается способ создания собственных функций RFX, поддерживающих дополнительные типы данных.  
  
##  <a name="_core_rfx_function_syntax"></a> Синтаксис функции RFX  
 Каждая функция RFX принимает три параметра \(некоторые могут принимать дополнительно четвертый и пятый параметры\):  
  
-   Указатель на объект [CFieldExchange](../../mfc/reference/cfieldexchange-class.md).  Следует просто передать указатель `pFX`, переданный функции\-члену `DoFieldExchange`.  
  
-   Имя исходного столбца в источнике данных.  
  
-   Имя соответствующего элемента данных поля или элемента данных параметра в классе набора записей.  
  
-   В некоторых функциях — максимальная длина передаваемой строки или массива \(необязательно\).  По умолчанию имеет значение размером 255 байт, однако при необходимости значение можно изменить.  Максимальный размер ограничивается максимальным размером объекта `CString` — **INT\_MAX** байт \(2 147 483 647 байт\). Однако этот размер может быть ранее ограничен драйвером.  
  
-   В функции `RFX_Text` иногда используется пятый параметр для указания типа данных для столбца \(необязательно\).  
  
 Дополнительные сведения см. в описании функций RFX в разделе [Макросы и глобальные объекты](../Topic/Macros,%20Global%20Functions,%20and%20Global%20Variables.md) *Справочника по библиотеке классов*.  Примеры ситуаций, в которых может потребоваться особое использование параметров, см. в разделе [Наборы записей. Суммирование и получение иных статистических результатов \(ODBC\)](../../data/odbc/recordset-obtaining-sums-and-other-aggregate-results-odbc.md).  
  
##  <a name="_core_rfx_data_types"></a> Типы данных RFX  
 Библиотека классов предоставляет функции RFX для обмена данными различных типов между источником данных и набором записей.  В следующем списке перечислены функции RFX по типу данных.  При необходимости написания собственных вызовов функций RFX следует выбрать одну из данных функций, исходя из типа данных.  
  
|Функция|Тип данных|  
|-------------|----------------|  
|`RFX_Bool`|**BOOL**|  
|`RFX_Byte`|**BYTE**|  
|`RFX_Binary`|`CByteArray`|  
|`RFX_Double`|**double**|  
|`RFX_Single`|**float**|  
|`RFX_Int`|`int`|  
|`RFX_Long`|**long**|  
|`RFX_LongBinary`|`CLongBinary`|  
|`RFX_Text`|`CString`|  
|`RFX_Date`|`CTime`|  
  
 Дополнительные сведения см. в документации по функциям RFX в разделе [Макросы и глобальные объекты](../Topic/Macros,%20Global%20Functions,%20and%20Global%20Variables.md) *Справочника по библиотеке классов*.  Сведения о сопоставлении типов данных C\+\+ и типов данных SQL см. в таблице "Сопоставление типов данных ANSI SQL и типов данных C\+\+", приведенной в разделе [SQL. Типы данных SQL и C\+\+ \(ODBC\)](../../data/odbc/sql-sql-and-cpp-data-types-odbc.md).  
  
## См. также  
 [Обмен данными полями записей \(RFX\)](../../data/odbc/record-field-exchange-rfx.md)   
 [Обмен данными с полями записей: Принцип работы RFX](../../data/odbc/record-field-exchange-how-rfx-works.md)   
 [Набор записей. Параметризация набора записей \(ODBC\)](../../data/odbc/recordset-parameterizing-a-recordset-odbc.md)   
 [Набор записей. Динамическая привязка столбцов данных \(ODBC\)](../../data/odbc/recordset-dynamically-binding-data-columns-odbc.md)   
 [CRecordset Class](../Topic/CRecordset%20Class.md)   
 [CFieldExchange Class](../../mfc/reference/cfieldexchange-class.md)