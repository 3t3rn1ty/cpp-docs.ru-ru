---
title: "Класс hash_multimap | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "stdext::hash_multimap"
  - "stdext.hash_multimap"
  - "hash_map/stdext::hash_multimap"
  - "hash_multimap"
  - "std::hash_multimap"
  - "std.hash_multimap"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "hash_multimap - класс"
ms.assetid: f41a6db9-67aa-43a3-a3c5-dbfe9ec3ae7d
caps.latest.revision: 24
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 24
---
# Класс hash_multimap
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

> [!NOTE]
>  Этот API устарел.  Вместо него следует использовать [Класс unordered\_multimap](../standard-library/unordered-multimap-class.md).  
  
 Класс контейнеров hash\_multimap является расширением библиотеки стандартных шаблонов и используется для хранения и быстрого получения данных из коллекции, в которой каждый элемент — это пара с необязательно уникальным значением ключа сортировки и связанным значением данных.  
  
## Синтаксис  
  
```  
template <  
   class Key,   
   class Type,   
   class Traits=hash_compare<Key, less<Key> >,   
   class Allocator=allocator<pair <const Key, Type> >   
>  
class hash_multimap  
```  
  
#### Параметры  
 `Key`  
 Тип данных ключа, который необходимо сохранить в hash\_multimap.  
  
 `Type`  
 Тип данных элемента, который необходимо сохранить в hash\_multimap.  
  
 `Traits`  
 Тип, который включает два объекта функций: один из класса `Traits`, способный сравнить значения двух элементов, таких как ключи сортировки, чтобы определить их относительный порядок, и хэш\-функцию, которая является унарным предикатом и сопоставляет значения ключей элементов с целыми числами без знака типа **size\_t**.  Этот аргумент является необязательным, и в качестве значения по умолчанию используется `hash_compare``<Key, less<Key> >`.  
  
 `Allocator`  
 Тип, представляющий сохраненный объект распределителя, который инкапсулирует сведения о выделении и освобождении памяти для hash\_multimap.  Этот аргумент является необязательным, и в качестве значения по умолчанию используется `allocator<pair <const Key, Type> >`.  
  
## Заметки  
 hash\_multimap:  
  
-   Ассоциативный контейнер, который является контейнером переменного размера, поддерживающим эффективное получение значений элементов на основе значения соответствующего ключа.  
  
-   Является реверсивным, поскольку предоставляет двунаправленный итератор для получения доступа к его элементам.  
  
-   Хэшируется, поскольку его элементы группируются в сегменты на основе значения хэш\-функции, применяемой к значениям ключей элементов.  
  
-   Множественный, поскольку его элементы не обязательно должны иметь уникальные ключи, т. е. одному значению ключа может соответствовать много значений данных элементов, связанных с ним.  
  
-   Является контейнером ассоциативной пары, поскольку его значения элементов отличаются от его значений ключей.  
  
-   Шаблонный класс шаблона, поскольку функции, которые он предоставляет, являются универсальными и, соответственно, не зависят от конкретного типа данных, содержащихся в виде элементов или ключей.  Типы данных, используемые для элементов и ключей, вместо этого определяются как параметры в шаблоне класса вместе с функцией и распределителем сравнения.  
  
 Главным преимуществом хэширования по сравнению с сортировкой является большая эффективность: успешное хэширование выполняет вставки, удаления и поиск с постоянным средним временем, в то время как время для методик сортировки пропорционально логарифму числа элементов в контейнере.  Напрямую можно изменить значение элемента в hash\_multimap, но не связанное с ним значение ключа.  Значения ключей, связанные со старыми элементами, необходимо удалить и вставить новые значения ключей, связанные с новыми элементами.  
  
 Выбор типа контейнера должен в общем случае производиться на основе типа поиска и вставки, который требуется приложению.  Хэшированные ассоциативные контейнеры оптимизированы для операций поиска, вставки и удаления.  Функции\-члены, которые явно поддерживают эти операции, эффективны при использовании совместно с правильно разработанной хэш\-функцией, в результате чего они имеют постоянное среднее время выполнения и не зависят от числа элементов в контейнере.  Правильно разработанная хэш\-функция обеспечивает равномерное распределение хэшированных значений и сводит к минимуму количество конфликтов, когда разные значения ключей сопоставляются с одним хэшированным значением.  В худшем случае, когда применяется наиболее неоптимальная хэш\-функция, количество операций пропорционально количеству элементов в последовательности \(линейное время\).  
  
 Класс hash\_multimap рекомендуется использовать в качестве ассоциативного контейнера, если условия, ассоциирующие значения с ключами, удовлетворяются приложением.  Модель для этого типа структуры — это упорядоченный список ключевых слов со связанными значениями строк, предоставляющими, например, определения, в которых слова не всегда обладают уникальными определениями.  Если же ключевые слова обладают уникальными определениями и ключи уникальны, то hash\_multimap будет предпочтительным контейнером.  Если же сохранен только список слов, то в качестве контейнера необходимо выбрать hash\_set.  Если допускаются множественные вхождения слов, то подходящей структурой контейнера будет hash\_multiset.  
  
 hash\_multimap упорядочивает управляемую им последовательность путем вызова сохраненного объекта `Traits` хэша, относящегося к типу [value\_compare](../Topic/value_compare%20Class.md).  Доступ к этому сохраненному объекту можно получить путем вызова функции\-члена [key\_comp](../Topic/hash_map::key_comp.md).  Этот объект функции должен вести себя таким же образом, как и объект класса [hash\_compare](../standard-library/hash-compare-class.md)`<Key,  less<Key> >`.  В частности, для всех значений `Key` типа `Key` вызов `Traits (Key)` создает распределение значений типа `size_t`.  
  
 В целом упорядочиваемые элементы должны лишь подлежать сравнению «меньше чем» для установления такого порядка, чтобы, имея любые два элемента, можно было определить, что они равны \(ни один не меньше другого\) или что один меньше другого.  Это приводит к упорядочению неравнозначных элементов.  С более технической точки зрения, функция сравнения является бинарным предикатом, который вызывает строгого слабое упорядочение в стандартном математически смысле.  Бинарный предикат f\(x, y\) является объектом функции, обладающим двумя объектами аргументов `x` и `y`, а также возвращаемым значением `true` или `false`.  Порядок, заданный для hash\_multimap, является строгим слабым порядком, если бинарный предикат нерефлексивный, антисимметричный и транзитивный и если эквивалентность является транзитивной, где два объекта — `x` и `y` — определяются как эквивалентные, а f\(x, y\) и f\(y, x\) имеет значение `false`.  Если более строгое условие равенства между ключами заменяет условие эквивалентности, порядок становится общим \(т.е. все элементы упорядочиваются относительно друг друга\), и сопоставленные ключи будут неотличимы друг от друга.  
  
 Фактический порядок элементов в управляемой последовательности зависит от хэш\-функции, функции упорядочения и текущего размера хэш\-таблицы, хранимой в объекте контейнера.  Текущий размер хэш\-таблицы определить нельзя, поэтому обычно невозможно предсказать порядок элементов в управляемой последовательности.  Вставка элементов не делает итераторы недействительными, а при удалении элементов недействительными становятся только итераторы, которые ранее указывали конкретно на удаленные элементы.  
  
 Итератор, предоставляемый классом hash\_multimap, является двусторонним итератором, но функции — члены класса [insert](../Topic/hash_multimap::insert.md) и [hash\_multimap](../Topic/hash_multimap::hash_multimap.md) обладают версиями, принимающими в качестве параметров шаблона более слабый итератор ввода, чьи функциональные требования ниже, чем гарантированные классом двунаправленных итераторов.  Различные концепции итераторов образуют семейство, связанное уточнениями функциональности.  Каждая концепция итератора имеет собственный hash\_multimap с требованиями, а алгоритмы, работающие с ними, должны ограничивать свои предположения согласно требованиям, предоставляемым этим типом итератора.  Можно предположить, что итератор ввода может быть разыменован для обращения к определенному объекту и инкрементирован до следующего итератора в последовательности.  Это минимальный набор hash\_multimap функциональных возможностей, но его достаточно, чтобы иметь возможность осмысленно говорить о диапазоне итераторов `[First, Last)`, в контексте функций\-членов.  
  
 В Visual C\+\+ .NET 2003 члены файлов заголовков [\<hash\_map\>](../standard-library/hash-map.md) и [\<hash\_set\>](../standard-library/hash-set.md) больше не находятся в пространстве имен std. Они перемещены в пространство имен stdext.  Дополнительные сведения см. в разделе [Пространство имен stdext](../Topic/stdext%20Namespace.md).  
  
### Конструкторы  
  
|||  
|-|-|  
|[hash\_multimap](../Topic/hash_multimap::hash_multimap.md)|Создает список определенного размера или с элементами, обладающими указанным значением или указанным `allocator`, либо в качестве копии другого `hash_multimap`.|  
  
### Typedefs  
  
|||  
|-|-|  
|[allocator\_type](../Topic/hash_multimap::allocator_type.md)|Тип, представляющий класс `allocator` для объекта `hash_multimap`.|  
|[const\_iterator](../Topic/hash_multimap::const_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать тот или иной элемент `const` в контейнере `hash_multimap`.|  
|[const\_pointer](../Topic/hash_multimap::const_pointer.md)|Тип, предоставляющий указатель на элемент `const` в контейнере `hash_multimap`.|  
|[const\_reference](../Topic/hash_multimap::const_reference.md)|Тип, предоставляющий ссылку на элемент `const`, сохраненный в контейнере `hash_multimap` для чтения и выполнения операций `const`.|  
|[const\_reverse\_iterator](../Topic/hash_multimap::const_reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать любой элемент `const` в контейнере `hash_multimap`.|  
|[difference\_type](../Topic/hash_multimap::difference_type.md)|Тип целого числа со знаком, пригодный для представления количества элементов в контейнере `hash_multimap` в диапазоне между элементами, на которые указывают итераторы.|  
|[iterator](../Topic/hash_multimap::iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать или изменять любой элемент в `hash_multimap`.|  
|[key\_compare](../Topic/hash_multimap::key_compare.md)|Тип, предоставляющий объект функции, который может сравнить два ключа сортировки для определения относительного порядка двух элементов в контейнере `hash_multimap`.|  
|[key\_type](../Topic/hash_multimap::key_type.md)|Тип, описывающий объект ключа сортировки, составляющий каждый элемент контейнера `hash_multimap`.|  
|[mapped\_type](../Topic/hash_multimap::mapped_type.md)|Тип, который представляет тип данных, хранящийся в контейнере `hash_multimap`.|  
|[pointer](../Topic/hash_multimap::pointer.md)|Тип, предоставляющий указатель на элемент в `hash_multimap`.|  
|[ссылка](../Topic/hash_multimap::reference.md)|Тип, предоставляющий ссылку на элемент, хранящийся в контейнере `hash_multimap`.|  
|[reverse\_iterator](../Topic/hash_multimap::reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать или изменять элемент в обращенном контейнере `hash_multimap`.|  
|[size\_type](../Topic/hash_multimap::size_type.md)|Целочисленный Typedef без знака, который может представлять число элементов в `hash_multimap`.|  
|[value\_type](../Topic/hash_multimap::value_type.md)|Тип, предоставляющий объект функции, который может сравнить два элемента в качестве ключей сортировки для определения их относительного порядка в контейнере `hash_multimap`.|  
  
### Функции\-члены  
  
|||  
|-|-|  
|[begin](../Topic/hash_multimap::begin.md)|Возвращает итератор, обращающийся к первый элемент в контейнере `hash_multimap`.|  
|[hash\_multimap::cbegin](../Topic/hash_multimap::cbegin.md)|Возвращает итератор const, обращающийся к первому элементу в `hash_multimap`.|  
|[hash\_multimap::cend](../Topic/hash_multimap::cend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в `hash_multimap`.|  
|[очистить](../Topic/hash_multimap::clear.md)|Стирает все элементы в `hash_multimap`.|  
|[count](../Topic/hash_multimap::count.md)|Возвращает число элементов в контейнере `hash_multimap`, ключи которых соответствуют ключу, заданному параметром.|  
|[hash\_multimap::crbegin](../Topic/hash_multimap::crbegin.md)|Возвращает итератор const, который обращается к первому элементу в обращенном контейнере `hash_multimap`.|  
|[hash\_multimap::crend](../Topic/hash_multimap::crend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в обращенном контейнере `hash_multimap`.|  
|[hash\_multimap::emplace](../Topic/hash_multimap::emplace.md)|Вставляет созданный на месте элемент в `hash_multimap`.|  
|[hash\_multimap::emplace\_hint](../Topic/hash_multimap::emplace_hint.md)|Вставляет созданный на месте элемент в `hash_multimap` с подсказкой о размещении.|  
|[пустой](../Topic/hash_multimap::empty.md)|Проверяет, пуст ли `hash_multimap`.|  
|[end](../Topic/hash_multimap::end.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в контейнере `hash_multimap`.|  
|[equal\_range](../Topic/hash_multimap::equal_range.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в контейнере `hash_multimap`.|  
|[erase](../Topic/hash_multimap::erase.md)|Удаляет элемент или диапазон элементов с заданных позиций в `hash_multimap`.|  
|[find](../Topic/hash_multimap::find.md)|Возвращает итератор, который обращается к расположению элемента в `hash_multimap` с ключом, эквивалентным указанному ключу.|  
|[get\_allocator](../Topic/hash_multimap::get_allocator.md)|Возвращает копию объекта `allocator`, который используется для создания контейнера `hash_multimap`.|  
|[вставить](../Topic/hash_multimap::insert.md)|Вставляет элемент или диапазон элементов в `hash_multimap` в заданной позиции.|  
|[key\_comp](../Topic/hash_multimap::key_comp.md)|Извлекает копию объекта сравнения, который используется для упорядочивания ключей в контейнере `hash_multimap`.|  
|[lower\_bound](../Topic/hash_multimap::lower_bound.md)|Возвращает итератор, указывающий на первый элемент в `hash_multimap` со значением ключа, которое больше или равно указанному ключу.|  
|[max\_size](../Topic/hash_multimap::max_size.md)|Возвращает максимальную длину `hash_multimap`.|  
|[rbegin](../Topic/hash_multimap::rbegin.md)|Возвращает итератор, который обращается к первому элементу в обращенном контейнере `hash_multimap`.|  
|[rend](../Topic/hash_multimap::rend.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в обращенном контейнере `hash_multimap`.|  
|[size](../Topic/hash_multimap::size.md)|Указывает новый размер для `hash_multimap`.|  
|[swap](../Topic/hash_multimap::swap.md)|Выполняет обмен элементами между двумя объектами `hash_multimap`.|  
|[upper\_bound](../Topic/hash_multimap::upper_bound.md)|Возвращает итератор, указывающий на первый элемент в `hash_multimap` со значением ключа, которое больше указанного ключа.|  
|[value\_comp](../Topic/hash_multimap::value_comp.md)|Извлекает копию объекта сравнения, который используется для упорядочивания значений элементов в `hash_multimap`.|  
  
### Операторы  
  
|||  
|-|-|  
|[hash\_multimap::operator\=](../Topic/hash_multimap::operator=.md)|Заменяет элементы `hash_multimap` копией другого `hash_multimap`.|  
  
## Требования  
 **Заголовок:** \<hash\_map\>  
  
 **Пространство имен:** stdext  
  
## См. также  
 [Потокобезопасность в стандартной библиотеке C\+\+](../standard-library/thread-safety-in-the-cpp-standard-library.md)   
 [Библиотека стандартных шаблонов](../misc/standard-template-library.md)