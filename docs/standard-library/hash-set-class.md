---
title: "Класс hash_set | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "hash_set/stdext::hash_set"
  - "std::hash_set"
  - "std.hash_set"
  - "stdext::hash_set"
  - "hash_set"
  - "stdext.hash_set"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "hash_set - класс"
ms.assetid: c765c06e-cbb6-48c2-93ca-d15468eb28d7
caps.latest.revision: 22
caps.handback.revision: 14
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# Класс hash_set
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

> [!NOTE]
>  Этот API устарел.  Вместо него следует использовать [Класс unordered\_set](../standard-library/unordered-set-class.md).  
  
 Класс контейнеров hash\_set является расширением библиотеки стандартных шаблонов и используется для хранения и быстрого получения данных из коллекции, в которой значения сохраненных элементов уникальны и служат в качестве значений ключей.  
  
## Синтаксис  
  
```  
template <  
   class Key,   
   class Traits=hash_compare<Key, less<Key> >,   
   class Allocator=allocator<Key>   
>  
class hash_set  
```  
  
#### Параметры  
 `Key`  
 Тип данных элемента, который будет сохранен в hash\_set.  
  
 `Traits`  
 Тип, который включает в себя два объекта функции, один для сравнения классов, который является бинарным предикатом, способным сравнить два значения элементов, таких как ключи сортировки, для определения их относительного порядка, и один для хэш\-функции, который является унарным предикатом, сопоставляющим значения ключей с целыми числами без знака типа **size\_t**.  Этот аргумент является необязательным, и в качестве значения по умолчанию используется `hash_compare`*\<Key,* **less***\<Key\> \>* .  
  
 `Allocator`  
 Тип, представляющий сохраненный объект распределителя, который инкапсулирует сведения о выделении и освобождении памяти для hash\_set.  Этот аргумент является необязательным, и в качестве значения по умолчанию используется **allocator***\<Key\>.*  
  
## Заметки  
 hash\_set это:  
  
-   Ассоциативный контейнер, который является контейнером переменного размера, поддерживающим эффективное получение значений элементов на основе значения соответствующего ключа.  Кроме того, это простой ассоциативный контейнер, поскольку его значения элементов являются значениями его ключей.  
  
-   Является реверсивным, поскольку предоставляет двунаправленный итератор для получения доступа к его элементам.  
  
-   Хэшируется, поскольку его элементы группируются в сегменты на основе значения хэш\-функции, применяемой к значениям ключей элементов.  
  
-   Является уникальным, поскольку каждый его элемент должен обладать уникальным ключом.  Поскольку hash\_set также является простым ассоциативным контейнером, его элементы также уникальны.  
  
-   Класс шаблонов, поскольку функции, которые он предоставляет, являются универсальными и, соответственно, не зависят от конкретного типа данных, содержащихся в виде элементов или ключей.  Типы данных, используемые для элементов и ключей, вместо этого определяются как параметры в шаблоне класса вместе с функцией и распределителем сравнения.  
  
 Главным преимуществом хэширования по сравнению с сортировкой является большая эффективность: успешное хэширование выполняет вставки, удаления и поиск с постоянным средним временем, в то время как время для методик сортировки пропорционально логарифму числа элементов в контейнере.  Значение элемента в наборе нельзя изменить напрямую.  Вместо этого старые значения необходимо удалить и вставить элементы с новыми значениями.  
  
 Выбор типа контейнера должен в общем случае производиться на основе типа поиска и вставки, который требуется приложению.  Хэшированные ассоциативные контейнеры оптимизированы для операций поиска, вставки и удаления.  Функции\-члены, которые явно поддерживают эти операции, эффективны при использовании совместно с правильно разработанной хэш\-функцией, в результате чего они имеют постоянное среднее время выполнения и не зависят от числа элементов в контейнере.  Правильно разработанная хэш\-функция обеспечивает равномерное распределение хэшированных значений и сводит к минимуму количество конфликтов, когда разные значения ключей сопоставляются с одним хэшированным значением.  В худшем случае, когда применяется наиболее неоптимальная хэш\-функция, количество операций пропорционально количеству элементов в последовательности \(линейное время\).  
  
 hash\_set рекомендуется использовать в качестве ассоциативного контейнера, если условия, ассоциирующие значения с ключами, удовлетворяются приложением.  Элементы hash\_set являются уникальными и используются в качестве своих собственных ключей сортировки.  Модель для этого типа структуры — упорядоченный список, например, ключевых слов, в котором слова не должны повторяться.  Если допускаются множественные вхождения слов, то подходящей структурой контейнера будет hash\_multiset.  Если значения вносятся в список уникальных ключевых слов, hash\_map является подходящей структурой для размещения этих данных.  Если же ключи не являются уникальными, предпочтительным контейнером является hash\_multimap.  
  
 hash\_set упорядочивает управляемую им последовательность путем вызова сохраненного объекта **Traits**, относящегося к типу [value\_compare](../Topic/hash_set::value_compare.md).  Доступ к этому сохраненному объекту можно получить путем вызова функции\-члена [key\_comp](../Topic/hash_set::key_comp.md).  Такой объект функции должен функционировать так же, как объект класса *hash\_compare\<Key, less\<Key\>\>.* В частности, для всех значений `_Key` типа Key вызов Trait \(`_Key`\) создает распределение значений типа size\_t.  
  
 В целом упорядочиваемые элементы должны лишь подлежать сравнению «меньше чем» для установления такого порядка, чтобы, имея любые два элемента, можно было определить, что они равны \(ни один не меньше другого\) или что один меньше другого.  Это приводит к упорядочению неравнозначных элементов.  С более технической точки зрения, функция сравнения является бинарным предикатом, который вызывает строгого слабое упорядочение в стандартном математически смысле.  Бинарный предикат *f*\(*x*,*y*\) является объектом функции, обладающим двумя объектами аргументов — x и y — и возвращаемым значением true или false.  Порядок, заданный для hash\_set, является строгим слабым порядком, если бинарный предикат является нерефлексивным, антисимметричным и переходящим и если эквивалентность является переходящей, где два объекта *x* и *y* определяются как эквивалентные, тогда как оба параметра *f*\(*x*,*y*\) и *f*\(*y*,*x*\) имеют значение false.  Если более строгое условие равенства между ключами заменяет условие эквивалентности, порядок становится общим \(т.е. все элементы упорядочиваются относительно друг друга\), и сопоставленные ключи будут неотличимы друг от друга.  
  
 Фактический порядок элементов в управляемой последовательности зависит от хэш\-функции, функции упорядочения и текущего размера хэш\-таблицы, хранимой в объекте контейнера.  Текущий размер хэш\-таблицы определить нельзя, поэтому обычно невозможно предсказать порядок элементов в управляемой последовательности.  Вставка элементов не делает итераторы недействительными, а при удалении элементов недействительными становятся только итераторы, которые ранее указывали конкретно на удаленные элементы.  
  
 Итератор, предоставляемый классом hash\_set, является двусторонним итератором, но функции — члены класса [insert](../Topic/hash_set::insert.md) и [hash\_set](../Topic/hash_set::hash_set.md) обладают версиями, принимающими в качестве параметров шаблона более слабый итератор ввода, чьи функциональные требования ниже, чем гарантированные классом двунаправленных итераторов.  Различные концепции итераторов образуют семейство, связанное уточнениями функциональности.  Каждая концепция итератора имеет собственный набор требований, а алгоритмы, работающие с ними, должны ограничивать свои предположения согласно требованиям, предоставляемым этим типом итератора.  Можно предположить, что итератор ввода может быть разыменован для обращения к определенному объекту и инкрементирован до следующего итератора в последовательности.  Это минимальный набор функциональных возможностей, но его достаточно, чтобы иметь возможность осмысленно говорить о диапазоне итераторов \[`_First`, `_Last`\) в контексте функций — членов класса.  
  
 В Visual C\+\+ .NET 2003 члены файлов заголовков [\<hash\_map\>](../standard-library/hash-map.md) и [\<hash\_set\>](../standard-library/hash-set.md) больше не находятся в пространстве имен std. Они перемещены в пространство имен stdext.  Дополнительные сведения см. в разделе [Пространство имен stdext](../Topic/stdext%20Namespace.md).  
  
### Конструкторы  
  
|||  
|-|-|  
|[hash\_set](../Topic/hash_set::hash_set.md)|Создает контейнер `hash_set`, который является пустым или копией части или целого другого контейнера `hash_set`.|  
  
### Typedefs  
  
|||  
|-|-|  
|[allocator\_type](../Topic/hash_set::allocator_type.md)|Тип, представляющий класс `allocator` для объекта `hash_set`.|  
|[const\_iterator](../Topic/hash_set::const_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать тот или иной элемент `const` в контейнере `hash_set`.|  
|[const\_pointer](../Topic/hash_set::const_pointer.md)|Тип, предоставляющий указатель на элемент `const` в контейнере `hash_set`.|  
|[const\_reference](../Topic/hash_set::const_reference.md)|Тип, предоставляющий ссылку на элемент `const`, сохраненный в контейнере `hash_set` для чтения и выполнения операций `const`.|  
|[const\_reverse\_iterator](../Topic/hash_set::const_reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать любой элемент `const` в контейнере `hash_set`.|  
|[difference\_type](../Topic/hash_set::difference_type.md)|Тип целого числа со знаком, пригодный для представления количества элементов в контейнере `hash_set` в диапазоне между элементами, на которые указывают итераторы.|  
|[iterator](../Topic/hash_set::iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать или изменять любой элемент в `hash_set`.|  
|[key\_compare](../Topic/hash_set::key_compare.md)|Тип, предоставляющий объект функции, который может сравнить два ключа сортировки для определения относительного порядка двух элементов в контейнере `hash_set`.|  
|[key\_type](../Topic/hash_set::key_type.md)|Тип, описывающий объект, сохраненный как элемент `hash_set` в смысле его возможностей, присущих ключу сортировки.|  
|[pointer](../Topic/hash_set::pointer.md)|Тип, предоставляющий указатель на элемент в `hash_set`.|  
|[ссылка](../Topic/hash_set::reference.md)|Тип, предоставляющий ссылку на элемент, хранящийся в контейнере `hash_set`.|  
|[reverse\_iterator](../Topic/hash_set::reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать или изменять элемент в обращенном контейнере `hash_set`.|  
|[size\_type](../Topic/hash_set::size_type.md)|Целочисленный Typedef без знака, который может представлять число элементов в `hash_set`.|  
|[value\_compare](../Topic/hash_set::value_compare.md)|Тип, который предоставляет два объекта функции, бинарный предикат сравнения классов, который может сравнить два значения элементов `hash_set` для определения их относительного порядка, и унарный предикат, хэширующий элементы.|  
|[value\_type](../Topic/hash_set::value_type.md)|Тип, описывающий объект, сохраненный как элемент `hash_set` в смысле его возможностей, присущих значению.|  
  
### Функции\-члены  
  
|||  
|-|-|  
|[begin](../Topic/hash_set::begin.md)|Возвращает итератор, обращающийся к первому элементу в `hash_set`.|  
|[hash\_set::cbegin](../Topic/hash_set::cbegin.md)|Возвращает итератор const, обращающийся к первому элементу в `hash_set`.|  
|[hash\_set::cend](../Topic/hash_set::cend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в `hash_set`.|  
|[очистить](../Topic/hash_set::clear.md)|Стирает все элементы в `hash_set`.|  
|[count](../Topic/hash_set::count.md)|Возвращает число элементов в контейнере `hash_set`, ключи которых соответствуют ключу, заданному параметром.|  
|[hash\_set::crbegin](../Topic/hash_set::crbegin.md)|Возвращает итератор const, который обращается к первому элементу в обращенном контейнере `hash_set`.|  
|[hash\_set::crend](../Topic/hash_set::crend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в обращенном контейнере `hash_set`.|  
|[hash\_set::emplace](../Topic/hash_set::emplace.md)|Вставляет созданный на месте элемент в `hash_set`.|  
|[hash\_set::emplace\_hint](../Topic/hash_set::emplace_hint.md)|Вставляет созданный на месте элемент в `hash_set` с подсказкой о размещении.|  
|[пустой](../Topic/hash_set::empty.md)|Проверяет, пуст ли `hash_set`.|  
|[end](../Topic/hash_set::end.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в контейнере `hash_set`.|  
|[equal\_range](../Topic/hash_set::equal_range.md)|Возвращает пару итераторов соответственно на первый элемент в `hash_set` с ключом, который больше, чем указанный ключ, и на первый элемент в `hash_set` с ключом, который больше или равен данному ключу.|  
|[erase](../Topic/hash_set::erase.md)|Удаляет элемент или диапазон элементов в `hash_set` с заданных позиций или удаляет элементы, соответствующие заданному ключу.|  
|[find](../Topic/hash_set::find.md)|Возвращает итератор, который обращается к местоположению элемента в `hash_set` с ключом, эквивалентным указанному ключу.|  
|[get\_allocator](../Topic/hash_set::get_allocator.md)|Возвращает копию объекта `allocator`, который используется для создания контейнера `hash_set`.|  
|[вставить](../Topic/hash_set::insert.md)|Вставляет элемент или диапазон элементов в `hash_set`.|  
|[key\_comp](../Topic/hash_set::key_comp.md)|Извлекает копию объекта сравнения, который используется для упорядочивания ключей в контейнере `hash_set`.|  
|[lower\_bound](../Topic/hash_set::lower_bound.md)|Возвращает итератор, указывающий на первый элемент в `hash_set` с ключом, который больше или равен указанному ключу.|  
|[max\_size](../Topic/hash_set::max_size.md)|Возвращает максимальную длину `hash_set`.|  
|[rbegin](../Topic/hash_set::rbegin.md)|Возвращает итератор, который обращается к первому элементу в обращенном контейнере `hash_set`.|  
|[rend](../Topic/hash_set::rend.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в обращенном контейнере `hash_set`.|  
|[size](../Topic/hash_set::size.md)|Возвращает количество элементов в контейнере `hash_set`.|  
|[swap](../Topic/hash_set::swap.md)|Выполняет обмен элементами между двумя объектами `hash_set`.|  
|[upper\_bound](../Topic/hash_set::upper_bound.md)|Возвращает итератор, указывающий на первый элемент в контейнере `hash_set` с ключом, который больше или равен указанному ключу.|  
|[value\_comp](../Topic/hash_set::value_comp.md)|Извлекает копию объекта признаков хэша, используемого для хэширования и упорядочения значений ключей элемента в `hash_set`.|  
  
### Операторы  
  
|||  
|-|-|  
|[hash\_set::operator\=](../Topic/hash_set::operator=.md)|Заменяет элементы `hash_set` копией другого `hash_set`.|  
  
## Требования  
 **Заголовок:** \<hash\_set\>  
  
 **Пространство имен:** stdext  
  
## См. также  
 [Потокобезопасность в стандартной библиотеке C\+\+](../standard-library/thread-safety-in-the-cpp-standard-library.md)   
 [Библиотека стандартных шаблонов](../misc/standard-template-library.md)