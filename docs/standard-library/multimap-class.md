---
title: "Класс multimap | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "multimap"
  - "std.multimap"
  - "map/std::multimap"
  - "std::multimap"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "multimap - класс"
ms.assetid: 8796ae05-37c4-475a-9e61-75fde9d4a463
caps.latest.revision: 23
caps.handback.revision: 14
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# Класс multimap
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Класс multimap библиотеки стандартных шаблонов используется для хранения и извлечения данных из коллекции, где каждый элемент является парой, обладающей значением данных и ключом сортировки.  Значение ключа может не быть уникальным и применяется для автоматической сортировки данных.  Значение элементов в multimap, но не связанное с ним значение ключа, можно изменить напрямую.  Значения ключей, связанные со старыми элементами, необходимо удалить и вставить новые значения ключей, связанные с новыми элементами.  
  
## Синтаксис  
  
```  
template <  
   class Key,   
   class Type,   
   class Traits=less<Key>,   
   class Allocator=allocator<pair <const Key, Type> >   
> class multimap;  
```  
  
#### Параметры  
 `Key`  
 Тип данных ключа для сохранения в контейнере multimap.  
  
 `Type`  
 Тип данных элемента, который необходимо сохранить в контейнере multimap.  
  
 `Traits`  
 Тип, предоставляющий объект функции, который может сравнивать два значения элемента как ключи сортировки, чтобы определить их относительный порядок в контейнере multimap.  Бинарный предикат `less<Key>` является значением по умолчанию.  
  
 В C\+\+ 14 вы можете включить разнородный поиск, указав предикат `std::less<>` или `std::greater<>`, не имеющий параметров типа.  Дополнительные сведения см. в статье [Разнородный поиск в ассоциативных контейнерах](../standard-library/stl-containers.md#sequence_containers)  
  
 `Allocator`  
 Тип, представляющий сохраненный объект распределителя, который инкапсулирует сведения о выделении и освобождении памяти для сопоставления.  Этот аргумент является необязательным, и значением по умолчанию является `allocator<pair <const Key, Type> >`.  
  
## Заметки  
 Класс multimap в STL обладает следующими свойствами:  
  
-   Ассоциативный контейнер, который является контейнером переменного размера, поддерживающим эффективное получение значений элементов на основе значения соответствующего ключа.  
  
-   Реверсивный, поскольку он предоставляет двунаправленные итераторы для получения доступа к его элементам.  
  
-   Сортированный, поскольку его элементы упорядочены по значениям ключей в контейнере в соответствии с заданной функцией сравнения.  
  
-   Множественный, поскольку его элементы не обязательно должны иметь уникальные ключи, т. е. одному значению ключа может соответствовать много значений данных элементов, связанных с ним.  
  
-   Является контейнером ассоциативной пары, поскольку его значения данных элементов отличаются от его значений ключей.  
  
-   Шаблонный класс шаблона, поскольку функции, которые он предоставляет, являются универсальными и, соответственно, не зависят от конкретного типа данных, содержащихся в виде элементов или ключей.  Типы данных, используемые для элементов и ключей, вместо этого определяются как параметры в шаблоне класса вместе с функцией и распределителем сравнения.  
  
 Итератор, предоставляемый классом сопоставления, является двусторонним итератором, но функции\-члены класса [insert](../Topic/multimap::insert.md) и [multimap](../Topic/multimap::multimap.md) обладают версиями, принимающими в качестве параметров шаблона более слабый итератор ввода, чьи функциональные требования ниже, чем гарантированные классом двунаправленных итераторов.  Различные концепции итераторов образуют семейство, связанное уточнениями функциональности.  Каждая концепция итератора имеет собственный набор требований, а алгоритмы, работающие с ними, должны ограничивать свои предположения согласно требованиям, предоставляемым этим типом итератора.  Можно предположить, что итератор ввода может быть разыменован для обращения к определенному объекту и инкрементирован до следующего итератора в последовательности.  Это минимальный набор функциональных возможностей, но его достаточно, чтобы иметь возможность осмысленно говорить о диапазоне итераторов `[First, Last)`, в контексте функций\-членов класса.  
  
 Выбор типа контейнера должен в общем случае производиться на основе типа поиска и вставки, который требуется приложению.  Ассоциативные контейнеры оптимизированы для операций поиска, вставки и удаления.  Функции\-члены, которые явно поддерживают эти операции, являются эффективными и в среднем выполняют их пропорционально логарифму числа элементов в контейнере.  Вставка элементов не делает итераторы недействительными, а при удалении элементов недействительными становятся только итераторы, которые ранее указывали конкретно на удаленные элементы.  
  
 Класс multimap рекомендуется использовать в качестве ассоциативного контейнера, если условия, ассоциирующие значения с ключами, удовлетворяются приложением.  Модель для этого типа структуры — это упорядоченный список ключевых слов со связанными значениями строк, предоставляющими, например, определения, в которых слова не всегда обладают уникальными определениями.  Если же ключевые слова обладают уникальными определениями, и ключи уникальны, то сопоставление будет предпочтительным контейнером.  Если же сохранен только список слов, то в качестве контейнера необходимо выбрать набор.  Если допускается повторное использование слов, то подходящей структурой контейнера будет multiset.  
  
 Контейнер multimap определяет порядок расположения элементов в последовательности, которой он управляет, путем обращения к сохраненному объекту функции типа [key\_compare](../Topic/multimap::key_compare.md).  Этот сохраненный объект является функцией сравнения, доступ к которой можно получить путем вызова функции\-члена [key\_comp](../Topic/multimap::key_comp.md).  В целом, упорядочиваемые элементы должны лишь подлежать сравнению "меньше чем" для установления такого порядка, чтобы, имея любые два элемента, можно было определить, что они равны \(ни один не меньше другого\) или что один меньше другого.  Это приводит к упорядочению неравнозначных элементов.  С более технической точки зрения, функция сравнения является бинарным предикатом, который вызывает строгого слабое упорядочение в стандартном математически смысле.  Бинарный предикат `f(x,y)` является объектом функции, обладающим двумя объектами аргументов `x` и `y`, а также возвращаемым значением true или false.  Порядок, заданный для набора, является строгим слабым порядком, если бинарный предикат является нерефлексивным, антисимметричным и переходящим и если эквивалентность является переходящей, где два объекта `x` и `y` заданы как эквивалентные при том, что `f(x,y)` и `f(y,x)` имеют значение false.  Если более строгое условие равенства между ключами заменяет условие эквивалентности, порядок становится общим \(т.е. все элементы упорядочиваются относительно друг друга\), и сопоставленные ключи будут неотличимы друг от друга.  
  
 В C\+\+ 14 вы можете включить разнородный поиск, указав предикат `std::less<>` или `std::greater<>`, не имеющий параметров типа.  Дополнительные сведения см. в статье [Разнородный поиск в ассоциативных контейнерах](../standard-library/stl-containers.md#sequence_containers)  
  
## Участники  
  
### Конструкторы  
  
|||  
|-|-|  
|[multimap](../Topic/multimap::multimap.md)|Создает контейнер `multimap`, который является пустым или копией части или целого другого контейнера `multimap`.|  
  
### Typedefs  
  
|||  
|-|-|  
|[allocator\_type](../Topic/multimap::allocator_type.md)|Тип, представляющий класс `allocator` для объекта `multimap`.|  
|[const\_iterator](../Topic/multimap::const_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать тот или иной элемент `const` в контейнере `multimap`.|  
|[const\_pointer](../Topic/multimap::const_pointer.md)|Тип, предоставляющий указатель на элемент `const` в контейнере `multimap`.|  
|[const\_reference](../Topic/multimap::const_reference.md)|Тип, предоставляющий ссылку на элемент `const`, сохраненный в контейнере `multimap` для чтения и выполнения операций `const`.|  
|[const\_reverse\_iterator](../Topic/multimap::const_reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать любой элемент `const` в контейнере `multimap`.|  
|[difference\_type](../Topic/multimap::difference_type.md)|Тип целого числа со знаком, пригодный для представления количества элементов в контейнере `multimap` в диапазоне между элементами, на которые указывают итераторы.|  
|[iterator](../Topic/multimap::iterator.md)|Тип, который предоставляет различие между 2 итераторами, относящимися к элементам в одном контейнере `multimap`.|  
|[key\_compare](../Topic/multimap::key_compare.md)|Тип, предоставляющий объект функции, который может сравнить два ключа сортировки для определения относительного порядка двух элементов в контейнере `multimap`.|  
|[key\_type](../Topic/multimap::key_type.md)|Тип, описывающий объект ключа сортировки, составляющий каждый элемент контейнера `multimap`.|  
|[mapped\_type](../Topic/multimap::mapped_type.md)|Тип, который представляет тип данных, хранящийся в контейнере `multimap`.|  
|[pointer](../Topic/multimap::pointer.md)|Тип, предоставляющий указатель на элемент `const` в контейнере `multimap`.|  
|[ссылка](../Topic/multimap::reference.md)|Тип, предоставляющий ссылку на элемент, хранящийся в контейнере `multimap`.|  
|[reverse\_iterator](../Topic/multimap::reverse_iterator.md)|Тип, предоставляющий двунаправленный итератор, который может считывать или изменять элемент в обращенном контейнере `multimap`.|  
|[size\_type](../Topic/multimap::size_type.md)|Тип целого числа без знака, предоставляющий указатель на элемент `const` в контейнере `multimap`.|  
|[value\_type](../Topic/multimap::value_type.md)|Тип, предоставляющий объект функции, который может сравнить два элемента в качестве ключей сортировки для определения их относительного порядка в контейнере `multimap`.|  
  
### Функции\-члены  
  
|||  
|-|-|  
|[begin](../Topic/multimap::begin.md)|Возвращает итератор, обращающийся к первый элемент в контейнере `multimap`.|  
|[cbegin](../Topic/multimap::cbegin.md)|Возвращает итератор const, обращающийся к первому элементу в `multimap`.|  
|[cend](../Topic/multimap::cend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в `multimap`.|  
|[очистить](../Topic/multimap::clear.md)|Стирает все элементы в `multimap`.|  
|[count](../Topic/multimap::count.md)|Возвращает число элементов в контейнере `multimap`, ключи которых соответствуют ключу, заданному параметром.|  
|[crbegin](../Topic/multimap::crbegin.md)|Возвращает итератор const, который обращается к первому элементу в обращенном контейнере `multimap`.|  
|[crend](../Topic/multimap::crend.md)|Возвращает итератор const, который обращается к месту, следующему за последним элементом в обращенном контейнере `multimap`.|  
|[emplace](../Topic/multimap::emplace.md)|Вставляет созданный на месте элемент в `multimap`.|  
|[emplace\_hint](../Topic/multimap::emplace_hint.md)|Вставляет созданный на месте элемент в `multimap` с подсказкой о размещении|  
|[пустой](../Topic/multimap::empty.md)|Проверяет, пуст ли `multimap`.|  
|[end](../Topic/multimap::end.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в контейнере `multimap`.|  
|[equal\_range](../Topic/multimap::equal_range.md)|Находит диапазон элементов, где ключ элемента соответствует заданному значению.|  
|[erase](../Topic/multimap::erase.md)|Удаляет элемент или диапазон элементов в `multimap` с заданных позиций или удаляет элементы, соответствующие заданному ключу.|  
|[find](../Topic/multimap::find.md)|Возвращает итератор, который обращается к первому местоположению элемента в контейнере `multimap` с ключом, эквивалентным указанному ключу.|  
|[get\_allocator](../Topic/multimap::get_allocator.md)|Возвращает копию объекта `allocator`, который используется для создания контейнера `multimap`.|  
|[вставить](../Topic/multimap::insert.md)|Вставляет элемент или диапазон элементов в `multimap`.|  
|[key\_comp](../Topic/multimap::key_comp.md)|Извлекает копию объекта сравнения, который используется для упорядочивания ключей в контейнере `multimap`.|  
|[lower\_bound](../Topic/multimap::lower_bound.md)|Возвращает итератор, указывающий на первый элемент в контейнере `multimap` с ключом, который больше или равен указанному ключу.|  
|[max\_size](../Topic/multimap::max_size.md)|Возвращает максимальную длину `multimap`.|  
|[rbegin](../Topic/multimap::rbegin.md)|Возвращает итератор, который обращается к первому элементу в обращенном контейнере `multimap`.|  
|[rend](../Topic/multimap::rend.md)|Возвращает итератор, который обращается к месту, следующему за последним элементом в обращенном контейнере `multimap`.|  
|[size](../Topic/multimap::size.md)|Возвращает количество элементов в контейнере `multimap`.|  
|[swap](../Topic/multimap::swap.md)|Выполняет обмен элементами между двумя объектами `multimap`.|  
|[upper\_bound](../Topic/multimap::upper_bound.md)|Возвращает итератор, указывающий на первый элемент в контейнере `multimap` с ключом, который больше указанного ключа.|  
|[value\_comp](../Topic/multimap::value_comp.md)|Функция\-член возвращает объект функции, который определяет порядок элементов в `multimap` путем сравнения значения ключа.|  
  
### Операторы  
  
|||  
|-|-|  
|[operator \=](../Topic/multimap::operator=.md)|Заменяет элементы `multimap` копией другого `multimap`.|  
  
## Требования  
 **Заголовок:** \<map\>  
  
 **Пространство имен:** std  
  
 Пары \(**ключ**, **значение**\) сохраняются в multimap как объекты типа `pair`.  Классу пар требуется заголовок \<utility\>, который автоматически включается контейнером \<map\>.  
  
## См. также  
 [члены\<сопоставление\>](http://msdn.microsoft.com/ru-ru/7e8f0bc2-6034-40f6-9d14-76d4cef86308)   
 [Контейнеры](../Topic/Containers%20\(Modern%20C++\).md)   
 [Потокобезопасность в стандартной библиотеке C\+\+](../standard-library/thread-safety-in-the-cpp-standard-library.md)   
 [Библиотека стандартных шаблонов](../misc/standard-template-library.md)