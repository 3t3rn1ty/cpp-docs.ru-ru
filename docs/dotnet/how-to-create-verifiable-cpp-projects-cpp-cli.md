---
title: "Практическое руководство. Создание проверяемых проектов на языке C++ (C++/CLI) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "преобразования, проекты C++"
  - "проверяемые сборки [C++], создание"
  - "проекты Visual C++"
ms.assetid: 4ef2cc1a-e3e5-4d67-8d8d-9c614f8ec5d3
caps.latest.revision: 11
caps.handback.revision: 11
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Практическое руководство. Создание проверяемых проектов на языке C++ (C++/CLI)
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Мастер приложений Visual C\+\+ не создает проверяемые проекты, однако их можно преобразовать в проверяемые.  В этом разделе описаны способы задания свойств проекта и изменения исходных файлов проекта, чтобы из проектов Visual C\+\+ могли получаться проверяемые приложения.  
  
## Параметры компилятора и компоновщика  
 По умолчанию в проектах .NET используется флаг компилятора \/clr, а компоновщик настраивается для работы с платформой x86.  В проверяемом коде необходимо использовать флаг \/clr:safe, а также дать команду компоновщику создавать код MSIL вместо машинных инструкций.  
  
#### Изменение параметров компилятора и компоновщика  
  
1.  Перейдите на страницы свойств проекта.  Для получения дополнительной информации см. [Открытие свойств страниц проекта](../misc/how-to-open-project-property-pages.md).  
  
2.  На странице **Общие** разверните узел **Свойства конфигурации** и задайте для свойства **Поддержка общеязыковой среды выполнения \(CLR\)** значение **CLR\-поддержка безопасного MSIL \(\/clr:safe\)**.  
  
3.  На странице **Дополнительно** разверните узел **Компоновщик** и задайте для свойства **Тип изображения CLR** значение **Принудительно использовать изображение с безопасным уровнем целостности \(\/CLRIMAGETYPE:SAFE\)**.  
  
## Удаление собственных типов данных  
 Поскольку собственные типы данных являются непроверяемыми, даже если они не используются, необходимо удалить все файлы заголовков, содержащие собственные типы.  
  
> [!NOTE]
>  Следующая процедура относится к проектам приложений Windows Forms \(.NET\) и консольных приложений \(.NET\).  
  
#### Удаление ссылок на собственные типы данных  
  
1.  Закомментируйте все содержимое файла Stdafx.h.  
  
## Настройка точки входа  
 Поскольку в проверяемых приложениях нельзя использовать библиотеки времени выполнения C \(CRT\), они не могут использовать функцию Main библиотеки CRT в качестве стандартной точки входа.  Это означает, что необходимо заблаговременно явно предоставить компоновщику имя вызываемой функции. В данном случае имя Main\(\) используется вместо main\(\) или \_tmain\(\), чтобы обозначить точку входа, независимую от библиотеки CRT. Поскольку точка входа должна быть задана явно, это имя является произвольным.  
  
> [!NOTE]
>  Следующая процедура применяется к проектам консольных приложений \(.NET\).  
  
#### Настройка точки входа  
  
1.  Измените имя \_tmain\(\) на Main\(\) в главном файле проекта CPP.  
  
2.  Перейдите на страницы свойств проекта.  Для получения дополнительной информации см. [Открытие свойств страниц проекта](../misc/how-to-open-project-property-pages.md).  
  
3.  На странице **Дополнительно** разверните узел **Компоновщик** и введите `Main` в качестве значения **точки входа**.  
  
## См. также  
 [Чистый и проверяемый код](../dotnet/pure-and-verifiable-code-cpp-cli.md)