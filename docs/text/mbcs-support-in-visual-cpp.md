---
title: Поддержка MBCS в Visual C++ | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-windows
ms.topic: conceptual
f1_keywords:
- _mbcs
dev_langs:
- C++
helpviewer_keywords:
- tools [C++], MBCS support
- Asian languages [C++]
- Code Editor [C++], MBCS support
- IME [C++]
- Chinese characters [C++]
- Input Method Editor [C++], MBCS
- resource editors [C++], MBCS support
- debugger [C++], MBCS support
- character sets [C++], multibyte
- Japanese characters [C++]
- multibyte characters [C++]
- Kanji character support [C++]
- NMAKE program, MBCS support
- double-byte character sets [C++]
- IME [C++], MBCS
- Input Method Editor [C++]
- MBCS [C++], enabling
ms.assetid: 6179f6b7-bc61-4a48-9267-fb7951223e38
author: ghogen
ms.author: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 41d075edb01fc139660d8e72a7fe53f03ee9e80b
ms.sourcegitcommit: d55ac596ba8f908f5d91d228dc070dad31cb8360
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2018
---
# <a name="mbcs-support-in-visual-c"></a>Поддержка многобайтовой кодировки MBCS в Visual C++
При запуске многобайтовую версию Windows системы разработки Visual C++ (включая средства командной строки, отладчик и редактор встроенной исходного кода), многобайтовую кодировку за исключением окна памяти.  
  
 Окно памяти не распознает байтов данных как символы в многобайтовой Кодировке, несмотря на то, что он может интерпретировать их как символы ANSI или Юникода. Символы ANSI всегда имеют размер 1 байт, а символы Юникода — 2 байта. С многобайтовой Кодировки символы могут быть 1 или 2 байта в размере и их интерпретацию зависит от того, какая кодовая страница уже используется. По этой причине трудно память-окно надежно выводить символы MBCS. Окно памяти не знает, какой байт является началом символа. Разработчик может просмотреть значения байта в окне памяти и поиска значения в таблицы, чтобы определить представление символа. Это возможно потому, что разработчику известно начальный адрес строки на основе исходного кода.  
  
 Visual C++ распознает двухбайтовые символы, везде, где это возможно. Сюда относятся имена пути и имена файлов в диалоговых окнах и записи текста в редакторе кода Visual C++ (например, статический текст в редакторе диалоговых окон) и записи статического текста в редакторе значков. Кроме того, препроцессор распознает некоторые двухбайтовые директивы — например, названия файлов в `#include` инструкций и аргументы **code_seg** и **data_seg** директивы pragma. В редакторе исходного кода двухбайтовые символы в комментариях и строковых литералов принимаются в несмотря на то что элементы языка C/C++ (например, имена переменных).  
  
##  <a name="_core_support_for_the_input_method_editor_.28.ime.29"></a> Поддержка для редактора метода ввода (IME)  
 Приложения, написанные для восточно-азиатских рынков, обычно используют многобайтовую Кодировку (например, Япония) поддерживает Windows IME для ввода обоих одним - и двухбайтовых символов. В среде разработки Visual C++ содержит полную поддержку IME. Дополнительные сведения см. в разделе [Образец IME: показано, как режим IME элемента управления и реализуйте IME уровня 3](http://msdn.microsoft.com/en-us/87ebdf65-cef0-451d-a6fc-d5fb64178b14).  
  
 Японский клавиатуры не поддерживают напрямую символы кандзи. Редактор метода ввода преобразует фонетические строки, введенные в одном из других японских алфавитов (ромадзи, катакана или хирагана) в его возможных представлений кандзи. Если существует неоднозначность, можно выбрать из нескольких альтернативных вариантов. При выборе символа алфавита Кандзи редактор метода ввода передает два `WM_CHAR` сообщения в управляющее приложение.  
  
 Редактор метода ввода, активируемые ALT +\` комбинация ключа, отображается в виде набора кнопок (индикатора) и окна перехода. Приложение размещает окно в точке вставки текста. Приложение должно обрабатывать `WM_MOVE` и `WM_SIZE` сообщения по окно переходов в соответствии новое расположение или размер целевого окна.  
  
 Если требуется, чтобы пользователи приложения, чтобы иметь возможность вводить символы кандзи, приложение должно обрабатывать сообщения Windows IME. Дополнительные сведения о программировании редактора метода ввода см. в разделе [редактора метода ввода](https://msdn.microsoft.com/en-us/library/ms776145.aspx).  
  
## <a name="visual-c-debugger"></a>Отладчик Visual C++  
 Отладчик Visual C++ предоставляет возможность установки точек останова в сообщениях редактора метода ввода. Кроме того двухбайтовые символы могут отображаться в окне памяти.  
  
## <a name="command-line-tools"></a>Программы командной строки  
 Средства командной строки Visual C++, включая компилятор NMAKE и компилятор ресурсов (RC. (EXE), поддерживают многобайтовую. /C-параметр компилятора ресурсов можно использовать для изменения кодовая страница по умолчанию, при компиляции ресурсов приложения.  
  
 Чтобы изменить язык по умолчанию во время компиляции исходного кода, используйте [#pragma setlocale](../preprocessor/setlocale.md).  
  
## <a name="graphical-tools"></a>Графические средства  
 Средства Windows на Visual C++, такие как Spy ++ и редактирование ресурсов, полностью поддерживают строки редактора метода ввода.  
  
## <a name="see-also"></a>См. также  
 [Поддержка многобайтовой кодировки (MBCS)](../text/support-for-multibyte-character-sets-mbcss.md)   
 [Советы по программированию многобайтовой кодировки](../text/mbcs-programming-tips.md)