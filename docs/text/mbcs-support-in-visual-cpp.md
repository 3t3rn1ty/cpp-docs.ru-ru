---
title: "Поддержка многобайтовой кодировки MBCS в Visual C++ | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "_mbcs"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "азиатские языки [C++]"
  - "кодировки [C++], многобайтовый"
  - "Китайские символы [C++]"
  - "Редактор кода [C++], поддержка MBCS"
  - "отладчик [C++], поддержка MBCS"
  - "двухбайтовые кодировки [C++]"
  - "IME [C++]"
  - "IME [C++], MBCS"
  - "редактор метода ввода [C++]"
  - "редактор метода ввода [C++], MBCS"
  - "японские символы [C++]"
  - "Поддержка символов Кандзи [C++]"
  - "MBCS [C++], включение"
  - "многобайтовая кодировка [C++]"
  - "программа NMAKE, поддержка MBCS"
  - "редакторы ресурсов [C++], поддержка MBCS"
  - "инструменты [C++], поддержка MBCS"
ms.assetid: 6179f6b7-bc61-4a48-9267-fb7951223e38
caps.latest.revision: 7
caps.handback.revision: 7
author: "ghogen"
ms.author: "ghogen"
manager: "ghogen"
---
# Поддержка многобайтовой кодировки MBCS в Visual C++
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

При запуске операционной системы версии Windows 2000 или Windows XP, разрешающие многобайтовую кодировку, система разработки Visual C\+\+ \(в том числе редактор кода интегрированного источника, отладчик и программы командной строки\) активирует многобайтовую кодировку за исключением окна памяти.  
  
 Окно памяти не распознает байты данных как символы многобайтовой кодировки, даже если она может интерпретировать их как символы ANSI или юникода.  Символы ANSI всегда имеют размер 1 байт, а символы юникода — 2 байта.  С многобайтовой кодировке знаки могут быть 1 или 2 байта в размере и их интерпретации зависят от, кодовая страница в использовании.  Вследствие этого, сложно для окна памяти всегда отображать символы многобайтовой кодировки.  Окно памяти не может запустить должны знать, какой байт символов.  Для того чтобы определить изображение символа, разработчик может просмотреть значения байта в окне памяти, а также отыскать значение в таблицах.  Это возможно, поскольку разработчику известна строка начального адреса, основанная на коде источника.  
  
 Visual C\+\+ распознает двухбайтовые символы в случае необходимости.  Символы включают названия пути и файла в диалоговом окне, а также текстовые записи в редакторе ресурсов Visual C\+\+ \(например, статический текст в диалоговом редакторе и статические текстовые записи в редакторе значка\).  Кроме того, препроцессор распознает некоторые двухбайтовые директивы, такие как названия файлов в операторах `#include` и аргументы в директивах pragma **code\_seg** и **data\_seg**.  В источнике редактора кода двухбайтовые символы распознаются в комментариях и строковых литералах, которые не закодированы с помощью языковых элементов C\/C\+\+ \(таких как названия переменных\).  
  
##  <a name="_core_support_for_the_input_method_editor_.28.ime.29"></a> Поддержка редактора метода ввода \(IME\)  
 Приложения, предназначенные для рынков Западной Азии, используют многобайтовую кодировку \(например, Япония\) и обычно поддерживают систему Windows IME, которая позволяют вводить как однобайтовые, так и двухбайтовые символы.  Среда разработки Visual C\+\+ полностью поддерживает редактора метода ввода.  Дополнительные сведения см. в разделе [Образец редактора метода ввода: демонстрация способа управления режимом редактора и его реализации на 3 уровне](http://msdn.microsoft.com/ru-ru/87ebdf65-cef0-451d-a6fc-d5fb64178b14).  
  
 Японские клавиатуры не поддерживают напрямую символы Кандзи.  Редактор метода ввода конвертирует фонетические строки, вводя возможные изображения алфавита Кандзи в символ других японских алфавитов \(Ромадзи, Катакана или Хирагана\).  Для того чтобы избежать двусмысленного толкования, можно выбрать несколько альтернативных вариантов.  При выборе определенного символа алфавита Кандзи редактор метода ввода передает два сообщения `WM_CHAR` в управляющее приложение.  
  
 Редактор метода ввода, активированный сочетанием клавиш ALT\+, отображается в виде набора кнопок \(индикатора\) и окна перехода.  Приложение размещает окно в точку вставки текста.  Приложение управляет `WM_MOVE` и сообщениями `WM_SIZE`, перемещая и преобразуя окно переходов в соответствии с новым расположением или размером целевого окна.  
  
 Если необходимо, чтобы пользователи приложения имели возможность вводить символы Кандзи, приложение должно расшифровывать сообщения редактора метода ввода Windows.  Дополнительные сведения о программировании редактора метода ввода см. в разделе [Редактор метода ввода](https://msdn.microsoft.com/en-us/library/ms776145.aspx).  
  
## Отладчик Visual C\+\+  
 Отладчик Visual C\+\+ предоставляет возможность установить функцию точки остановы в сообщениях редактора метода ввода.  Дополнительно окно памяти может отображать двухбайтовые символы.  
  
## Программы командной строки  
 Программы командной строки Visual C\+\+, в том числе компилятор NMAKE и компилятор ресурсов \(RC.EXE\), поддерживают многобайтовую кодировку.  Можно использовать параметр компилятора ресурсов \/c, чтобы изменить страницу кода во время компиляции ресурсов приложения.  
  
 Для того чтобы изменить языковой стандарт по умолчанию во время компиляции кода источника, используйте команду [Установить языковой стандарт \#pragma](../preprocessor/setlocale.md).  
  
## Графические программы  
 Visual C\+\+ с программами на базе Windows, такими как Spy\+\+ и редактирование ресурсов, полностью поддерживают строки редактора метода ввода.  
  
## См. также  
 [Поддержка многобайтовых кодировок](../text/support-for-multibyte-character-sets-mbcss.md)   
 [Советы по программированию многобайтовой кодировки](../Topic/MBCS%20Programming%20Tips.md)