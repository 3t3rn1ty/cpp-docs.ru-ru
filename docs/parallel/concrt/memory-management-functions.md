---
title: Функции управления памятью | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-concrt
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- memory management functions [Concurrency Runtime]
ms.assetid: d303dd2a-dfa4-4d90-a508-f6aa290bb9ea
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: f0a298c7fb9e50bb17d37224b69ce342c54115d7
ms.sourcegitcommit: 7019081488f68abdd5b2935a3b36e2a5e8c571f8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
ms.locfileid: "33687300"
---
# <a name="memory-management-functions"></a>Функции управления памятью
В этом документе описываются функции управления памятью, предоставляемые средой выполнения с параллелизмом для выделения и освобождения памяти в параллельном режиме.  
  
> [!TIP]
>  Среда выполнения с параллелизмом предоставляет планировщик по умолчанию, и таким образом не требуется создавать планировщик в приложении. Поскольку планировщик задач помогает оптимизировать производительность приложений, рекомендуется начать с [библиотеки параллельных шаблонов (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) или [библиотеки асинхронных агентов](../../parallel/concrt/asynchronous-agents-library.md) при наличии новые и среда выполнения с параллелизмом.  
  
 Среда выполнения с параллелизмом предоставляет две функции управления памятью, которые оптимизированы для выделения и освобождения блоков памяти в параллельном режиме. [Concurrency::Alloc](reference/concurrency-namespace-functions.md#alloc) функция выделяет блок памяти с использованием заданного размера. [Concurrency::Free](reference/concurrency-namespace-functions.md#free) функция освобождает память, выделенную функцией `Alloc`.  
  
> [!NOTE]
>  `Alloc` И `Free` функции зависят друг от друга. Используйте `Free` функции только для освобождения памяти, выделенной с помощью `Alloc` функции. Кроме того, при использовании `Alloc` функции выделения памяти, используйте только `Free` функции для освобождения памяти.  
  
 Используйте `Alloc` и `Free` функции при выделении и освобождении фиксированных наборов выделяемых размеров из разных потоков или задач. Среда выполнения с параллелизмом кэширует память, выделенную из кучи среды выполнения C. Среда выполнения с параллелизмом содержит отдельный кэш памяти для каждого выполняемого потока; Поэтому среда выполнения управляет памятью без использования блокировки или барьеры памяти. Приложение использует преимущества дополнительные столбцы из `Alloc` и `Free` функции, когда кэш памяти осуществляется чаще. Например, поток, который часто вызывает оба `Alloc` и `Free` преимущества более одного потока, в первую очередь вызывает `Alloc` или `Free`.  
  
> [!NOTE]
>  Если используются эти функции управления памятью и приложение использует много памяти, приложение может ввести нехватки памяти быстрее, чем ожидалось. Поскольку блоки памяти, кэшируемые одним потоком недоступны для любого другого потока, если один поток занимает много памяти, что память не доступен.  
  
## <a name="example"></a>Пример  
 Пример, использующий `Alloc` и `Free` функции для повышения производительности памяти, в разделе [как: использование функций Alloc и Free для повышения производительности памяти](../../parallel/concrt/how-to-use-alloc-and-free-to-improve-memory-performance.md).  
  
## <a name="see-also"></a>См. также  
 [Планировщик задач](../../parallel/concrt/task-scheduler-concurrency-runtime.md)   
 [Практическое руководство. Использование функций Alloc и Free для повышения производительности операций с памятью](../../parallel/concrt/how-to-use-alloc-and-free-to-improve-memory-performance.md)

