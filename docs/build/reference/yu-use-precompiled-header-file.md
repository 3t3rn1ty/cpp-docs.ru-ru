---
title: -Yu (использование файла предкомпилированного заголовка) | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-tools
ms.topic: reference
f1_keywords:
- /yu
dev_langs:
- C++
helpviewer_keywords:
- Yu compiler option [C++]
- /Yu compiler option [C++]
- -Yu compiler option [C++]
- PCH files, use existing
- .pch files, use existing
- precompiled header files, use existing
ms.assetid: 24f1bd0e-b624-4296-a17e-d4b53e374e1f
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: d115017e843e7f03455e1eef2b384b3475a1b798
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="yu-use-precompiled-header-file"></a>/Yu (использование файла предкомпилированного заголовка)
Указывает компилятору на необходимость использования существующего файла предкомпилированного заголовка (PCH) в текущей компиляции.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
/Yu[filename]  
```  
  
## <a name="arguments"></a>Аргументы  
 *filename*  
 Имя файла заголовка, который включен в исходный файл с помощью **#include** директивы препроцессора.  
  
## <a name="remarks"></a>Примечания  
 Имя файла включения должно быть одинаково для служб **/Yc** параметр, который создает предкомпилированный заголовок и все последующие **/Yu** параметр, указывающий, использования предкомпилированного заголовка.  
  
 Для **/Yc**, `filename` указывает точку, в какие предварительной компиляции останавливает; компилятор выполняет компиляцию весь код, хотя `filename` и присваивает результирующей предкомпилированный заголовок, используя базовое имя включаемого файла и расширение из .pch.  
  
 PCH-файл должен быть создан с помощью **/Yc**.  
  
 Компилятор обрабатывает весь код, стоящий до h-файл как предкомпилированный. Переход к более просто **#include** директивы, связанные с h-файл использует код, содержащийся в PCH-файл и затем компилирует весь код после `filename`.  
  
 В командной строке пробелы между **/Yu** и `filename`.  
  
 При указании **/Yu** параметр без имени файла исходная программа должна содержать [#pragma hdrstop](../../preprocessor/hdrstop.md) pragma, указывающее имя файла предкомпилированного заголовка PCH-файл. В этом случае компилятор использует предкомпилированный заголовок (PCH-файл) с именем [/Fp (имя. PCH-файл)](../../build/reference/fp-name-dot-pch-file.md). Компилятор переходит к месту расположения директивы pragma, восстанавливает состояние компиляции из файла предкомпилированного заголовка, указанного в директиве pragma и затем компилируется только код, который следует за директивой pragma. Если **#pragma hdrstop** не указано имя файла, компилятор выполняет поиск файла с именем, состоящим из базового имени исходного файла с расширением .pch. Можно также использовать **/FP** параметр для указания другого PCH-файла.  
  
 При указании **/Yu** параметр без имени файла и не указать **hdrstop** pragma, выдается сообщение об ошибке и компиляция завершается неудачно.  
  
 Если **/Yc** `filename` и **/Yu** `filename` параметры возникают в одной командной строке и обе ссылки имени файла **/Yc** `filename` принимает приоритет предварительной компиляции всего кода до и включая названного файла. Эта функция упрощает создание файлов makefile.  
  
 Поскольку PCH-файлы содержат сведения о компьютерной среде, а также сведения о адресов памяти о программе, следует использовать только pch-файл на компьютере, где он был создан.  
  
 Дополнительные сведения о предкомпилированных заголовках см. в разделе:  
  
-   [/Y (предкомпилированные заголовки)](../../build/reference/y-precompiled-headers.md)  
  
-   [Создание предварительно скомпилированных файлов заголовков](../../build/reference/creating-precompiled-header-files.md)  
  
### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Укажите [/Yc (создать файл предкомпилированного заголовка)](../../build/reference/yc-create-precompiled-header-file.md) в CPP-файл в проекте.  
  
2.  Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [работа со свойствами проекта](../../ide/working-with-project-properties.md).  
  
3.  Откройте папку **C/C++** .  
  
4.  Нажмите кнопку **предварительно скомпилированные заголовки** страницу свойств.  
  
5.  Изменить **создать или используемый PCH-файл** свойство или **создать/использовать предварительно скомпилированный заголовочный файл** свойство.  
  
### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом  
  
-   См. разделы <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.PrecompiledHeaderThrough%2A> и <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.UsePrecompiledHeader%2A>.  
  
## <a name="examples"></a>Примеры  
 Если следующий код:  
  
```  
#include <afxwin.h>   // Include header for class library  
#include "resource.h" // Include resource definitions  
#include "myapp.h"    // Include information specific to this app  
...  
```  
  
 компилируется с помощью командной строки `CL /YuMYAPP.H PROG.CPP`, компилятор не выполняет три включают инструкции, но использует скомпилированный код из MYAPP.pch, тем самым экономя время, участвующих в предварительной обработке всех трех файлов (и всех файлов, они могут включать).  
  
 Можно использовать [/Fp (имя. PCH-файл)](../../build/reference/fp-name-dot-pch-file.md) вариант с **/Yu** параметр, чтобы указать имя PCH-файл, если имя не совпадает с именем аргумент файла для **/Yc** или базовое имя исходного файла, как следующие:  
  
```  
CL /YuMYAPP.H /FpMYPCH.pch PROG.CPP  
```  
  
 Эта команда указывает файл предкомпилированного заголовка с именем MYPCH.pch. Компилятор использует его содержимое для восстановления предкомпилированное состояние всех файлов заголовка вплоть до MyApp.h включительно. Компилятор компилирует код, стоящий после MYAPP.h **включают** инструкции.  
  
## <a name="see-also"></a>См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../../build/reference/setting-compiler-options.md)