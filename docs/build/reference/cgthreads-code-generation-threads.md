---
title: "/cgthreads (потоки создания кода) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "/cgthreads"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "/cgthreads — параметр компилятора (C++)"
  - "cgthreads"
  - "cgthreads — параметр компилятора (C++)"
  - "-cgthreads — параметр компилятора (C++)"
ms.assetid: 64bc768c-6caa-4baf-9dea-7cfa1ffb01c2
caps.latest.revision: 7
caps.handback.revision: 7
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# /cgthreads (потоки создания кода)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Задает число потоков cl.exe, используемых для оптимизации и создания кода.  
  
## Синтаксис  
  
```  
/cgthreads[1-8]  
```  
  
## Аргументы  
 number  
 Максимальное число потоков, используемых cl.exe, — в диапазоне от 1 до 8.  
  
## Заметки  
 Параметр **\/cgthreads** определяет максимальное число потоков, используемых программой cl.exe параллельно на этапах оптимизации и создания кода при компиляции.  Обратите внимание, что между параметром **\/cgthreads** и аргументом `number` не может быть пробела.  По умолчанию программа cl.exe использует четыре потока, как если бы был задан параметр **\/cgthreads4**.  Если доступно больше ядер процессора, увеличение значения `number` может ускорить сборку.  Этот параметр особенно полезен в сочетании с [\/GL \(оптимизация всей программы\)](../../build/reference/gl-whole-program-optimization.md).  
  
 Для сборки можно указать несколько уровней параллелизма.  Параметр msbuild.exe **\/maxcpucount** определяет число процессов MSBuild, которые могут выполняться параллельно.  Флаг компилятора [\/MP \(Построить с несколькими процессами\)](../../build/reference/mp-build-with-multiple-processes.md) определяет число процессов cl.exe, которые одновременно компилируют файлы исходного кода.  Параметр **\/cgthreads** определяет число потоков, используемых каждым процессом cl.exe.  Так как число потоков, одновременно выполняемых процессором, не может превышать число ядер процессора, указывать более высокие значения для всех этих параметров бессмысленно. Более того, это может иметь обратный эффект.  Подробнее о параллельной сборке проектов см. в статье [Параллельное построение нескольких проектов](../Topic/Building%20Multiple%20Projects%20in%20Parallel%20with%20MSBuild.md).  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Работа со свойствами проектов](../../ide/working-with-project-properties.md).  
  
2.  Выберите папку **Свойства конфигурации**, а затем папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Измените свойство **Дополнительные параметры**, включив параметр **\/cgthreads**`N`, где `N` — это значение от 1 до 8, а затем нажмите кнопку **ОК**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)