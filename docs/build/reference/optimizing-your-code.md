---
title: Оптимизация кода | Документация Майкрософт
ms.custom: ''
ms.date: 12/28/2017
ms.technology:
- cpp-tools
ms.topic: reference
dev_langs:
- C++
helpviewer_keywords:
- performance, optimizing code
- optimization
- cl.exe compiler, performance
- optimization, C++ code
- code, optimizing
- performance, compiler
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 180586f55ea57100286c3c598ac62eb83107d7c9
ms.sourcegitcommit: 92f2fff4ce77387b57a4546de1bd4bd464fb51b6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/17/2018
ms.locfileid: "45714380"
---
# <a name="optimizing-your-code"></a>Оптимизация кода

Оптимизировав исполняемый файл, можно добиться баланса между высокой скоростью выполнения и небольшим размером кода. В этом разделе рассматриваются некоторые из механизмов, предоставляемых Visual C++ для оптимизации кода.

## <a name="language-features"></a>Возможности языка

Ниже описаны некоторые средства оптимизации на языке C/C++.

[Оптимизации директивы pragma и ключевые слова](../../build/reference/optimization-pragmas-and-keywords.md) список ключевых слов и директивы pragma, что в коде можно использовать для повышения производительности.

[Параметры компилятора, упорядоченные по категориям](../../build/reference/compiler-options-listed-by-category.md) список **/O** параметры компилятора, которые влияют на скорость выполнения или кода размер.

[Декларатор ссылки rvalue: & &](../../cpp/rvalue-reference-declarator-amp-amp.md) ссылки Rvalue поддерживают реализацию *семантику перемещения*. Если перемещение семантику, используемые для реализации библиотеки шаблонов, производительность приложения, использующие эти шаблоны может значительно повысить.

### <a name="the-optimize-pragma"></a>Директива pragma optimize

Если раздел оптимизированного кода возникают ошибки или замедление работы, можно использовать [оптимизировать](../../preprocessor/optimize.md) директивы pragma, для отключения оптимизации для этого раздела.

Поместите его между двумя директив pragma, как показано ниже:

```cpp
#pragma optimize("", off)
// some code here
#pragma optimize("", on)
```

## <a name="programming-practices"></a>Примеры программирования

Вы можете заметить дополнительных предупреждений, при компиляции кода с оптимизацией. Такое поведение считается нормальным, так как некоторые предупреждения относятся только к оптимизированного кода. Многие оптимизации этих проблем можно избежать, если некоторые моменты.

Парадоксально, но оптимизация быстродействия программы может вызвать код будет работать медленнее. Это, так как некоторые процессы оптимизации быстродействия увеличить размер кода. К примеру, встраивание функций устраняет затраты на вызовы функций. Тем не менее встраивание слишком большого объема кода программы может увеличиться настолько большим, что номер страницы виртуальной памяти увеличивается при сбоях. Таким образом увеличение быстродействия вследствие отказа от вызовов функции могут быть потеряны в памяти подкачки.

В следующих разделах рассматриваются рекомендуемые методы программирования.

[Советы по улучшению срочного кода](../../build/reference/tips-for-improving-time-critical-code.md) более эффективное кодирование методики может привести к повышению производительности. В этом разделе описываются методы, которые помогут вам убедитесь в том, что срочные части кода выполняются удовлетворительно написания кода.

[Рекомендации по оптимизации](../../build/reference/optimization-best-practices.md) предоставляет общие рекомендации по оптимизации приложения.

## <a name="debugging-optimized-code"></a>Отладка оптимизированного кода

Оптимизация может изменить код, созданный компилятором, поэтому рекомендуется отладки приложения и измерения его производительности и затем оптимизации кода.

Ниже представлены основные сведения об отладке.

- [Отладка в Visual Studio](/visualstudio/debugger/debugging-in-visual-studio)

- [Распространенные проблемы, возникающие при создании сборок выпуска](../../build/reference/common-problems-when-creating-a-release-build.md)

Следующие разделы предоставляют дополнительные сведения об отладке.

- [Практическое руководство. Отладка оптимизированного кода](/visualstudio/debugger/how-to-debug-optimized-code)

- [Почему может уменьшиться точность чисел с плавающей запятой](../../build/reference/why-floating-point-numbers-may-lose-precision.md)

Ниже представлены сведения об оптимизации создания, загрузки и выполнения кода.

- [Улучшение производительности компилятора](../../build/reference/improving-compiler-throughput.md)

- [При использовании имен функций без скобок () код не создается](../../build/reference/using-function-name-without-parens-produces-no-code.md)

- [Оптимизация встроенного кода на языке ассемблера](../../assembler/inline/optimizing-inline-assembly.md)

- [Настройка оптимизации компилятора для проекта ATL](../../atl/reference/specifying-compiler-optimization-for-an-atl-project.md)

- [Способы оптимизации следует использовать для повышения производительности клиентского приложения при загрузке?](../../build/dll-frequently-asked-questions.md#mfc_optimization)

## <a name="see-also"></a>См. также

[Справочные сведения о сборке C/C++](../../build/reference/c-cpp-building-reference.md)
