---
title: "-GUARD (Включить проверки защиты) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-tools
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: C++
ms.assetid: 72758e23-70ac-4616-94d7-d767477406d1
caps.latest.revision: "5"
author: corob-msft
ms.author: corob
manager: ghogen
ms.openlocfilehash: dbc987f7db1e3a1bce0b73f0c21e875b7c9e5eda
ms.sourcegitcommit: ebec1d449f2bd98aa851667c2bfeb7e27ce657b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2017
---
# <a name="guard-enable-guard-checks"></a>/GUARD (Включить проверки защиты)
Указывает поддержку для проверок защиты потока управления в исполняемом образе.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
/GUARD:{CF|NO}  
```  
  
## <a name="remarks"></a>Примечания  
 Если задано /GUARD:CF, компоновщик изменяет заголовок файла DLL или EXE, чтобы указать поддержку для проверок среды выполнения защиты потока управления (CFG). Компоновщик также добавляет в заголовок требуемый целевой поток управления. По умолчанию параметр /GUARD:CF отключен. Его можно отключить явным образом, если задать /GUARD:NO. Для эффективной/Guard: CF также требуется [/DYNAMICBASE (использование адреса места случайный выбор макета)](../../build/reference/dynamicbase-use-address-space-layout-randomization.md) компоновщика, который по умолчанию.  
  
 При компиляции исходного кода с помощью [/Guard: CF](../../build/reference/guard-enable-control-flow-guard.md) параметр, компилятор анализирует поток управления путем проверки всех косвенных вызовов на наличие возможных конечных адресов. Компилятор вставляет код, чтобы убедиться, что целевой адрес инструкции косвенного вызова находится в списке известных целевых адресов во время выполнения. Операционные системы, поддерживающие CFG, останавливают программу, для которой проверка в среде выполнения CFG завершается сбоем. Это позволяет усложнить для злоумышленника процесс выполнения вредоносного кода путем повреждения данных для изменения целевого объекта вызова.  
  
 Чтобы компилятор и компоновщик смогли создавать исполняемые образы с включенной функцией CFG, необходимо задать параметр /GUARD:CF. Код, компилируемый, но не скомпонованный с помощью /GUARD:CF, снижает стоимость проверки среды выполнения, но не включает защиту CFG. При указании параметра/Guard: CF для `cl` команды для компиляции и компоновки за один шаг, компилятор передает флаг компоновщику. Когда **защиты потока управления** свойство задается в Visual Studio, параметр/Guard: CF передается компилятора и компоновщика. Если файлы объектов или библиотеки скомпилированы отдельно, необходимо явно указать параметр в `link` команды.  
  
### <a name="to-set-this-linker-option-in-visual-studio"></a>Настройка этого параметра компоновщика в Visual Studio  
  
1.  Откройте диалоговое окно **Окна свойств** проекта. Дополнительные сведения см. в разделе [работа со свойствами проекта](../../ide/working-with-project-properties.md).  
  
2.  Разверните **свойства конфигурации**, **компоновщика**, **командной строки**.  
  
3.  В **Дополнительные параметры**, введите `/GUARD:CF`.  
  
## <a name="see-also"></a>См. также  
 [/ Guard (Включение защиты потока управления)](../../build/reference/guard-enable-control-flow-guard.md)   
 [Настройка параметров компоновщика](../../build/reference/setting-linker-options.md)   
 [Параметры компоновщика](../../build/reference/linker-options.md)