---
title: "/Gs (управлять вызовами проверки стека) | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "/GS"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "/GS - параметр компилятора [C++]"
  - "стековые зонды - отключение"
  - "GS - параметр компилятора [C++]"
  - "-GS - параметр компилятора [C++]"
  - "вызовы проверки стека"
  - "стековые зонды"
  - "стек, стековые зонды"
ms.assetid: 40daed7c-f942-4085-b872-01e12b37729e
caps.latest.revision: 17
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 17
---
# /Gs (управлять вызовами проверки стека)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Управляет стековыми зондами.  
  
## Синтаксис  
  
```  
/Gs[size]  
```  
  
## Аргументы  
 `size`  
 \(Необязательно\) Число байтов, которое могут занимать локальные переменные перед инициацией стекового зонда.  Если параметр **\/Gs** указан без аргумента `size`, это аналогично указанию параметра **\/Gs0**,  
  
## Заметки  
 Стековый зонд — это последовательность кода, которую компилятор вставляет в каждый вызов функции.  При активации стекового зонда он занимает количество памяти, требуемое для хранения локальных переменных функции.  
  
 Если для локальных переменных функции в стеке требуется больше места, чем `size` байтов, ее стековый зонд активируется.  По умолчанию компилятор создает код, который активирует стековый зонд, если функции требуется более одной страницы стека.  Это аналогично параметру компилятора **\/Gs4096** для платформ x86, [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] и ARM.  Это значение позволяет приложению и диспетчеру памяти Windows динамически увеличивать количество памяти, выделенной стеку программы, во время выполнения.  
  
> [!NOTE]
>  Значение по умолчанию **\/Gs4096** позволяет стеку программы приложений для Windows увеличиваться соответствующим образом во время выполнения.  Мы рекомендуем не изменять значение по умолчанию, если вы не уверены, что это необходимо.  
  
 Некоторым программам, таким как драйверы виртуальных устройств, не требуется этот механизм увеличения стека по умолчанию.  В этих случаях стековые зонды не нужны, и вы можете остановить их создание компилятором, задав для параметра `size` значение больше требуемого любой функции для хранения локальных переменных.  Пробел между **\/Gs** и `size` не допускается.  
  
 Параметр **\/Gs0** активирует стековый зонд для каждого вызова функции, при котором требуется место для хранения локальных переменных.  Это может отрицательно сказываться на производительности.  
  
 Включить и отключить стековые зонды можно с помощью директивы [check\_stack](../../preprocessor/check-stack.md).  Параметр **\/Gs** и директива pragma `check_stack` не влияют на стандартные подпрограммы библиотеки C; они влияют только на компилируемые функции.  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Открытие свойств страниц проекта](../../misc/how-to-open-project-property-pages.md).  
  
2.  Выберите папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Введите параметр компилятора в поле **Дополнительные параметры**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)