---
title: "-Z7, - Zi, - ZI (формат отладочной информации) | Документы Microsoft"
ms.custom: 
ms.date: 02/22/2018
ms.technology:
- cpp-tools
ms.topic: reference
f1_keywords:
- VC.Project.VCCLCompilerTool.DebugInformationFormat
- /ZI
- /Zi
- /Z7
- VC.Project.VCCLWCECompilerTool.DebugInformationFormat
dev_langs:
- C++
helpviewer_keywords:
- C7 compatible compiler option [C++]
- Debug Information Format compiler option
- ZI compiler option
- -Zi compiler option [C++]
- /ZI compiler option [C++]
- Z7 compiler option [C++]
- debugging [C++], debug information files
- Zi compiler option [C++]
- /Zi compiler option [C++]
- program database compiler option [C++]
- full symbolic debugging information
- /Z7 compiler option [C++]
- line numbers only compiler option [C++]
- cl.exe compiler, debugging options
- -Z7 compiler option [C++]
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: f6e3de89c5336cda98960b67b80932df8f67d183
ms.sourcegitcommit: 2cca90d965f76ebf1d741ab901693a15d5b8a4df
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/24/2018
---
# <a name="z7-zi-zi-debug-information-format"></a>/Z7, /Zi, /ZI (формат отладочной информации)

Указывает тип отладочной информации, создаваемой для программы, а также ли хранить эти данные в объектных файлах или в файл программы (PDB).

## <a name="syntax"></a>Синтаксис

> **/Z**{**7**|**i**|**I**}  

## <a name="remarks"></a>Примечания

В следующих разделах описываются параметры формата отладочной информации.  
  
### <a name="none"></a>Нет

По умолчанию Если указан параметр format сведения без отладки, компилятор не создает отладочной информации, и компиляция выполняется быстрее.  
  
### <a name="z7"></a>/Z7

**/Z7** параметр создает *объектный файл*, файл с расширением .obj, содержащий полную символьную отладочную информацию для использования с отладчиком. Символьная отладочная информация включает имена и типы переменных, а также функции и номера строк. Не *PDB-файл*, создается файл с расширением .pdb.

Для распространителей сторонних библиотек дает преимуществ отсутствие PDB-файл. Однако объектные файлы для предкомпилированных заголовков, необходимые этапе компоновки и отладки. Если существует только в PCH-файлы объектов введите сведения (и без кода), необходимо использовать [параметр /Yl (Вставка ссылка PCH для библиотеки отладки)](../../build/reference/yl-inject-pch-reference-for-debug-library.md) параметр, который включен по умолчанию.

### <a name="zi"></a>/ZI

**/ZI** создает файл PDB-ФАЙЛ, содержащий сведения о типах и символьную отладочную информацию для использования с отладчиком. Символьная отладочная информация включает имена и типы переменных, а также функции и номера строк.

Использование **/ZI** не влияет на оптимизацию. Тем не менее **/ZI** подразумевают **/debug**; в разделе [/Debug (создать отладочную информацию)](../../build/reference/debug-generate-debug-info.md) для получения дополнительной информации.

Когда **/ZI** указан, информация о типах размещается в PDB-файл, а не в объектном файле.

Можно использовать [/Gm (включение минимального перепостроения)](../../build/reference/gm-enable-minimal-rebuild.md) вместе с **/ZI**, но **/Gm** вариант недоступен, если **/Z7** указано.

При указании обоих **/ZI** и **/CLR**, <xref:System.Diagnostics.DebuggableAttribute> атрибута не помещается в метаданных сборки. Если нужно, его необходимо указать в исходном коде. Этот атрибут может повлиять на производительность приложения во время выполнения. Дополнительные сведения о том, как **Debuggable** атрибут влияет на производительность и влияние на производительность, можно изменить, в разделе [Облегчение образ для отладки](/dotnet/framework/debug-trace-profile/making-an-image-easier-to-debug).

### <a name="zi"></a>/ZI

**/ZI** параметр создает PDB-файл в формате, который поддерживает [изменить и продолжить](/visualstudio/debugger/edit-and-continue-visual-cpp) компонентов. Если необходимо использовать в отладке режим "Изменить и продолжить", следует использовать этот вариант. "Изменить и продолжить" полезна для разработчиков, но может привести к проблемам производительности и совместимость с компилятором, размер кода. Поскольку большинство видов оптимизации несовместимы, изменить и продолжить использование **/ZI** отменяет любые `#pragma optimize` инструкций в коде. **/ZI** параметра также несовместимо с использованием [&#95; &#95; СТРОКИ &#95; &#95; предварительно определенный макрос](../../preprocessor/predefined-macros.md). Код компилируется с **/ZI** нельзя использовать **&#95; &#95; СТРОКИ &#95; &#95;**  как аргумент шаблона не является типом, несмотря на то что **&#95; &#95; СТРОКИ &#95; &#95;**  можно использовать в расширение макроса.

**/ZI** параметр принудительно запускает оба [/Gy (включение компоновки на уровне функций)](../../build/reference/gy-enable-function-level-linking.md) и [/FC (полный путь для файлу исходного кода в диагностике)](../../build/reference/fc-full-path-of-source-code-file-in-diagnostics.md) параметры для использования при компиляции.

**/ ZI** не совместим с [/CLR (компиляция CLR)](../../build/reference/clr-common-language-runtime-compilation.md).

> [!NOTE]
> **/ZI** параметр доступен только в компиляторах, предназначенных для процессоров x86- и x64; параметр этого компилятора недоступен в компиляторах, предназначенных для процессоров ARM.

Компилятор имена PDB-файл *проекта*PDB-файл. При компиляции файла за пределами проекта, компилятор создает PDB-файл с именем VC*x*0.pdb, где *x* является основной номер версии используется версии Visual Studio. Компилятор внедряет имя базы данных PDB во все OBJ-файлы, созданные с помощью этого параметра, указывая отладчику на местоположение сведений о символах и номерах строк. При использовании этого параметра OBJ-файлы являются более компактные размеры, поскольку отладочная информация хранится в PDB-файл, а не в OBJ-файлы.

При создании библиотеки из объектных файлов, созданных с помощью этого параметра, связанный с ними PDB-файл должен быть доступен при компоновке программы с библиотекой. Это означает, что вместе с библиотекой следует распространять и PDB-файл.

Чтобы создать библиотеку, содержащую отладочную информацию, без использования PDB-файлы, необходимо выбрать компилятора совместимости с C 7.0 (**/Z7**) параметра. При использовании параметров предкомпилированных заголовков, отладочную информацию для предкомпилированного заголовка и остальная часть исходного кода помещается в PDB-файл. **/Yd** параметр игнорируется, если указан параметр базы данных программы.

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [работа со свойствами проекта](../../ide/working-with-project-properties.md).

1. Откройте **свойства конфигурации** > **C/C++** > **Общие** страницу свойств.

1. Изменить **формат отладочной информации** свойство. Выберите **ОК** для сохранения изменений.

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.DebugInformationFormat%2A>.

## <a name="see-also"></a>См. также

[Параметры компилятора](../../build/reference/compiler-options.md)  
[Настройка параметров компилятора](../../build/reference/setting-compiler-options.md)  

