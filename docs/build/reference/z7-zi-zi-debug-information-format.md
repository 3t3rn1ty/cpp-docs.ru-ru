---
title: "-Z7, - Zi, - ZI (формат отладочной информации) | Документы Microsoft"
ms.custom: 
ms.date: 02/22/2018
ms.technology:
- cpp-tools
ms.topic: reference
f1_keywords:
- VC.Project.VCCLCompilerTool.DebugInformationFormat
- /ZI
- /Zi
- /Z7
- VC.Project.VCCLWCECompilerTool.DebugInformationFormat
dev_langs:
- C++
helpviewer_keywords:
- C7 compatible compiler option [C++]
- Debug Information Format compiler option
- ZI compiler option
- -Zi compiler option [C++]
- /ZI compiler option [C++]
- Z7 compiler option [C++]
- debugging [C++], debug information files
- Zi compiler option [C++]
- /Zi compiler option [C++]
- program database compiler option [C++]
- full symbolic debugging information
- /Z7 compiler option [C++]
- line numbers only compiler option [C++]
- cl.exe compiler, debugging options
- -Z7 compiler option [C++]
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 3b55c5ea77b752d4adac8d74abaed245b4d19821
ms.sourcegitcommit: 3038840ca6e4dea01accf733436b99d19ff6c930
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2018
---
# <a name="z7-zi-zi-debug-information-format"></a>/Z7, /Zi, /ZI (формат отладочной информации)

Указывает тип отладочной информации, создаваемой для программы, а также ли хранить эти данные в объектных файлах или в файл программы (PDB).

## <a name="syntax"></a>Синтаксис

> **/Z**{**7**|**i**|**I**}  

## <a name="remarks"></a>Примечания

Когда код компилируется и построен в режиме отладки, компилятор создает имена символов для функции и переменные, сведения о типе и расположения номера строки для использования в отладчике. Это символьная отладочная информация может быть включен, либо в файлы объектов (OBJ-файлы), созданный компилятором, либо в отдельном файле PDB (PDB-файл) для исполняемого файла.  В следующих разделах описываются параметры формата отладочной информации.  
  
### <a name="none"></a>Нет

По умолчанию Если указан параметр format сведения без отладки, компилятор не создает отладочной информации, и компиляция выполняется быстрее.  
  
### <a name="z7"></a>/Z7

**/Z7** параметр создает объектные файлы, содержащие полную символьную отладочную информацию для использования с отладчиком. Эти объектные файлы и построенного исполняемого файла может быть значительно больше, чем файлы, имеющие без отладочной информации. Символьная отладочная информация включает имена и типы переменных, а также функции и номера строк. Файл PDB не создается.

Для распространителей отладочная версия библиотек сторонних разработчиков дает преимуществ отсутствие PDB-файл. Тем не менее файлы объектов для каких-либо предварительно скомпилированных заголовков необходимы библиотеки этапе компоновки и отладки. Если существует только в PCH-файла объекта введите сведения (и без кода), необходимо использовать [параметр /Yl (Вставка ссылка PCH для библиотеки отладки)](../../build/reference/yl-inject-pch-reference-for-debug-library.md) параметр, который включен по умолчанию при сборке библиотеки.

[/Gm (включение минимального перепостроения)](../../build/reference/gm-enable-minimal-rebuild.md) параметр недоступен при **/Z7** указано.

### <a name="zi"></a>/Zi

**/ZI** параметр создает отдельный файл PDB-ФАЙЛ, содержащий все символьная отладочная информация для использования с отладчиком. Отладочная информация не включается в объектных файлах или исполняемый файл, который делает их намного меньше.

Использование **/ZI** не влияет на оптимизацию. Тем не менее **/ZI** подразумевают **/debug**; в разделе [/Debug (создать отладочную информацию)](../../build/reference/debug-generate-debug-info.md) для получения дополнительной информации.


При указании обоих **/ZI** и **/CLR**, <xref:System.Diagnostics.DebuggableAttribute> атрибута не помещается в метаданных сборки. Если нужно, его необходимо указать в исходном коде. Этот атрибут может повлиять на производительность приложения во время выполнения. Дополнительные сведения о том, как **Debuggable** атрибут влияет на производительность и влияние на производительность, можно изменить, в разделе [Облегчение образ для отладки](/dotnet/framework/debug-trace-profile/making-an-image-easier-to-debug).

Компилятор имена PDB-файл *проекта*PDB-файл. При компиляции файла за пределами проекта, компилятор создает PDB-файл с именем VC*x*PDB-файле, где *x* представляет собой объединение номер версии компилятора используется основной и дополнительный номер версии. Компилятор внедряет имя PDB-ФАЙЛ и идентификации подписи отметку времени в каждом файле объекта, созданных с помощью этого параметра указывает на расположение сведений о символьных и номер строки отладчика. Имя и подпись в PDB-файла должно соответствовать исполняемому файлу для символов для загрузки в отладчике. WinDBG отладчик может загружать Непарные символы с помощью `.symopt+0x40` команды. Visual Studio не имеет аналогичную возможность загрузить Непарные символы.

При создании библиотеки из объектов, которые были скомпилированы с помощью **/ZI**, связанный файл PDB должен быть доступен, при библиотека связана с программой. Таким образом Если вместе с библиотекой, необходимо также передать PDB-файл. Чтобы создать библиотеку, содержащую отладочную информацию, без использования PDB-файлы, необходимо выбрать **/Z7** параметр. При использовании параметров предкомпилированных заголовков, отладочную информацию для предкомпилированного заголовка и остальная часть исходного кода помещается в PDB-файл.

### <a name="zi"></a>/ZI

**/ZI** похоже на **/ZI**, но он создает PDB-файл в формате, который поддерживает [изменить и продолжить](/visualstudio/debugger/edit-and-continue-visual-cpp) компонентов. Чтобы использовать изменить и продолжить возможности отладки, необходимо использовать этот параметр. "Изменить и продолжить" полезна для разработчиков, но может привести к проблемам совместимости размера, производительности и компилятора кода. Поскольку большинство видов оптимизации несовместимы, изменить и продолжить использование **/ZI** отменяет любые `#pragma optimize` инструкций в коде. **/ZI** параметра также несовместимо с использованием [&#95; &#95; СТРОКИ &#95; &#95; предварительно определенный макрос](../../preprocessor/predefined-macros.md); кода, скомпилированного с **/ZI** нельзя использовать **&#95; &#95; СТРОКИ &#95; &#95;**  как аргумент шаблона не является типом, несмотря на то что **&#95; &#95; СТРОКИ &#95; &#95;**  может использоваться в расширение макроса.

**/ZI** параметр принудительно запускает оба [/Gy (включение компоновки на уровне функций)](../../build/reference/gy-enable-function-level-linking.md) и [/FC (полный путь для файлу исходного кода в диагностике)](../../build/reference/fc-full-path-of-source-code-file-in-diagnostics.md) параметры для использования при компиляции.

**/ ZI** не совместим с [/CLR (компиляция CLR)](../../build/reference/clr-common-language-runtime-compilation.md).

> [!NOTE]
> **/ZI** параметр доступен только в компиляторах, предназначенных для процессоров x86- и x64; параметр этого компилятора недоступен в компиляторах, предназначенных для процессоров ARM.

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [работа со свойствами проекта](../../ide/working-with-project-properties.md).

1. Откройте **свойства конфигурации** > **C/C++** > **Общие** страницу свойств.

1. Изменить **формат отладочной информации** свойство. Выберите **ОК** для сохранения изменений.

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.DebugInformationFormat%2A>.

## <a name="see-also"></a>См. также

[Параметры компилятора](../../build/reference/compiler-options.md)  
[Настройка параметров компилятора](../../build/reference/setting-compiler-options.md)  

