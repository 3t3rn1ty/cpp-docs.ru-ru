---
title: "-H (ограничение длины внешних имен) | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-tools
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: /h
dev_langs: C++
helpviewer_keywords:
- public name length
- /H compiler option [C++]
- H compiler option [C++]
- external names
- -H compiler option [C++]
ms.assetid: de701dd3-ed04-4c88-8195-960d2520ec2e
caps.latest.revision: "14"
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: 4d5e862eb8e45d1f2558592c0bb54c1adb9305f7
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="h-restrict-length-of-external-names"></a>/H (ограничение длины внешних имен)
Не рекомендуется. Ограничивает длину внешних имен.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
/Hnumber  
```  
  
## <a name="arguments"></a>Аргументы  
 `number`  
 Указывает максимальную длину внешних имен, допустимую в программе.  
  
## <a name="remarks"></a>Примечания  
 По умолчанию длину внешних (открытых) имен является 2 047 символов. Это верно для программ на языках C и C++. С помощью **/H** можно только уменьшить максимально допустимую длину идентификаторов, не увеличивают. Пробел между **/H** и `number` является необязательным.  
  
 Если программа содержит внешние имена длиннее `number`, лишние символы игнорируются. При компиляции программы без **/H** и идентификатор содержит более 2 047 символов, компилятор выдаст [Неустранимая ошибка C1064](../../error-messages/compiler-errors-1/fatal-error-c1064.md).  
  
 Ограничение на длину включает любые создать компилятор символа подчеркивания (_) или символа (@). Эти символы являются частью идентификатора и занимают значительное место.  
  
-   Компилятор добавляет символа подчеркивания (_) к именам, измененным `__cdecl` (по умолчанию) и `__stdcall` соглашения о вызовах и символа знака (@) к именам, измененным `__fastcall` соглашение о вызовах.  
  
-   Компилятор добавляет сведения о размере аргумента к именам, измененным `__fastcall` и `__stdcall` соглашения о вызовах и добавляет сведения о типе имен C++.  
  
 Возможно, вам **/H** полезно:  
  
-   При создании многоязыковых портативных программ или программ.  
  
-   При использовании средства, установить ограничение длины внешних идентификаторов.  
  
-   Если вы хотите ограничить объем пространства, занимаемого символами в отладочном построении.  
  
 В следующем примере показан том, каким образом **/H** может внести ошибки, если длины идентификаторов слишком сильно ограничены:  
  
```cpp  
// compiler_option_H.cpp  
// compile with: /H5  
// processor: x86  
// LNK2005 expected  
void func1(void);  
void func2(void);  
  
int main() { func1(); }  
  
void func1(void) {}  
void func2(void) {}  
```  
  
 Также следует соблюдать осторожность при использовании **/H** параметр предварительно определенных идентификаторов компилятора. Если максимальная длина идентификатора слишком мала, некоторые идентификаторы будет библиотеки неразрешенные, а также определенные вызовы функций. Например если `printf` используется функция и параметр **/H5** указывается во время компиляции, символ **_prin** будет создана, чтобы ссылаться `printf`, и это не будет найден в библиотеке.  
  
 Использование **/H** несовместим с [/GL (оптимизация всей программы)](../../build/reference/gl-whole-program-optimization.md).  
  
 **/H** параметр является устаревшим, так как Visual Studio 2005; увеличили ограничения максимальной длины и **/H** больше не нужен. Список параметров компилятора см. в разделе **нерекомендуемые и удаленные параметры компилятора** в [параметры компилятора, упорядоченные по категориям](../../build/reference/compiler-options-listed-by-category.md).  
  
### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [работа со свойствами проекта](../../ide/working-with-project-properties.md).  
  
2.  Откройте папку **C/C++** .  
  
3.  Выберите страницу свойств **Командная строка** .  
  
4.  Введите параметр компилятора в поле **Дополнительные параметры** .  
  
### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## <a name="see-also"></a>См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../../build/reference/setting-compiler-options.md)