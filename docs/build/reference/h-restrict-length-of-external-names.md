---
title: "/H (ограничение длины внешних имен) | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "/h"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "/H - параметр компилятора [C++]"
  - "внешние имена"
  - "H - параметр компилятора [C++]"
  - "-H - параметр компилятора [C++]"
  - "длина открытого имени"
ms.assetid: de701dd3-ed04-4c88-8195-960d2520ec2e
caps.latest.revision: 14
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 14
---
# /H (ограничение длины внешних имен)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Ограничивает длину внешних имен.  
  
## Синтаксис  
  
```  
/Hnumber  
```  
  
## Аргументы  
 `number`  
 Указывает максимальную длину внешних имен, допустимую в программе.  
  
## Заметки  
 По умолчанию длина для внешних имен ограничена до 2047 символов.  Это применимо к программам C и C\+\+.  С помощью **\/H** можно только уменьшить допустимую длину идентификаторов, но не увеличить ее.  Пробел между **\/H** и `number` является необязательным.  
  
 Если программа содержит внешние имена с длиной более `number`, лишние символы игнорируются.  Если вы компилируете программу без **\/H** и идентификатор содержит больше 2,047 символов, компилятор выдаст сообщение [Неустранимая ошибка C1064](../Topic/Fatal%20Error%20C1064.md).  
  
 Ограничение в отношении длины включает префикс \(\_\) или символ @.  Эти символы являются частью идентификатора и занимают значительное место.  
  
-   Компилятор добавляет символ подчеркивания \(\_\) к именам, измененным `__cdecl` \(по умолчанию\) и соглашениями о вызове `__stdcall`, а символ @ добавляется к именам, измененным соглашением о вызове `__fastcall`.  
  
-   Компилятор добавляет сведения о размере аргумента к именам, измененным соглашениями о вызове `__fastcall` и `__stdcall`, а также добавляет сведения о типе к именам C\+\+.  
  
 **\/H** может быть полезным в следующих случаях:  
  
-   При создании портативных программ или программ на смешанных языках.  
  
-   При использовании инструментов, накладывающих ограничения в отношении длины внешних идентификаторов.  
  
-   При необходимости ограничения пространства, занимаемого символами в отладочном построении.  
  
 Следующий пример иллюстрирует, как использование **\/H** может внести ошибки, если длины идентификаторов слишком ограничены:  
  
```  
// compiler_option_H.cpp  
// compile with: /H5  
// processor: x86  
// LNK2005 expected  
void func1(void);  
void func2(void);  
  
int main() { func1(); }  
  
void func1(void) {}  
void func2(void) {}  
```  
  
 С параметром **\/H** надо быть осторожным и при использовании предварительно определенных идентификаторов компилятора.  Если максимальная длина идентификатора слишком мала, некоторые идентификаторы, а также определенные вызовы функций библиотек будут неразрешенными.  Например, если функция `printf` используйте при заданном во время компилирования параметре **\/H5**, для ссылки на `printf` будет создан символ **\_prin**, но он не будет найден в библиотеке.  
  
 Использование **\/H** несовместимо с [\/GL \(оптимизация всей программы\)](../../build/reference/gl-whole-program-optimization.md).  
  
 **\/H** считается устаревшим и не используется; максимальные пределы длины увеличены и **\/H** больше не требуется.  Для получения дополнительной информации см. [Deprecated Compiler Options in Visual C\+\+ 2005](http://msdn.microsoft.com/ru-ru/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce).  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Открытие свойств страниц проекта](../../misc/how-to-open-project-property-pages.md).  
  
2.  Откройте папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Введите параметры компилятора в поле **Дополнительные параметры**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)