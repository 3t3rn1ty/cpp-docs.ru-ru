---
title: "/vd (отключение смещений при выполнении конструктора) | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "/vd"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "/vd0 - параметр компилятора [C++]"
  - "/vd1 - параметр компилятора [C++]"
  - "/vdn (отключение смещений при выполнении конструктора) - параметр компилятора"
  - "смещения при выполнении конструктора"
  - "Отключение смещений при выполнении конструктора - параметр компилятора"
  - "смещения - параметр компилятора"
  - "vd0 - параметр компилятора [C++]"
  - "-vd0 - параметр компилятора [C++]"
  - "vd1 - параметр компилятора [C++]"
  - "-vd1 - параметр компилятора [C++]"
  - "vtordisp - поля"
ms.assetid: 93258964-14d7-4b1c-9cbc-d6f4d74eab69
caps.latest.revision: 17
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 17
---
# /vd (отключение смещений при выполнении конструктора)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

## Синтаксис  
  
```  
/vdn  
```  
  
## Аргументы  
 `0`  
 Удаляет член смещения конструктора или деструктора vtordisp.  Этот аргумент следует использовать только в том случае, если точно известно, что все конструкторы и деструкторы классов вызывают виртуальные функции виртуально.  
  
 `1`  
 Включает создание скрытых членов смещения конструктора или деструктора vtordisp.  Этот аргумент используется по умолчанию.  
  
 `2`  
 Позволяет применять [Оператор dynamic\_cast](../../cpp/dynamic-cast-operator.md) к создаваемому объекту.  В качестве примера можно привести динамическое приведение dynamic\_cast виртуального базового класса к производному классу.  
  
 Если имеется виртуальный базовый класс с виртуальными функциями, то параметр **\/vd2** добавляет поле vtordisp.  Параметра **\/vd1** должно быть достаточно.  Наиболее распространенный случай, когда необходим параметр **\/vd2**, состоит в том, что единственной виртуальной функцией в виртуальном базовом классе является деструктор.  
  
## Заметки  
 Эти параметры применяются только для кода C\+\+, использующего виртуальные базовые классы.  
  
 В [!INCLUDE[vcprvc](../../build/includes/vcprvc_md.md)] реализуется поддержка смещения при выполнении конструктора в C\+\+ в ситуациях, когда используется виртуальное наследование.  Смещения в ходе выполнения конструктора решают проблему, возникающую, когда виртуальная функция, объявленная в виртуальном базовом классе и переопределенная в производном классе, вызывается из конструктора при создании следующего производного класса.  
  
 Проблема состоит в том, что в результате несоответствий между смещениями для виртуальных базовых классов класса и смещениями его производных классов виртуальной функции может быть передан неверный указатель `this`.  В качестве решения для всех виртуальных базовых классов класса предоставляется одиночное корректирующее смещение для конструктора, называемое полем vtordisp.  
  
 По умолчанию поля vtordisp вводятся всякий раз, когда в коде определяются пользовательские конструкторы и деструкторы, а также переопределяются виртуальные функции виртуальных базовых классов.  
  
 Эти параметры воздействуют на все исходные файлы.  Чтобы отключить поля vtordisp и затем повторно включить их на поклассовой основе, следует использовать параметр [vtordisp](../Topic/vtordisp.md).  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Открытие свойств страниц проекта](../../misc/how-to-open-project-property-pages.md).  
  
2.  Откройте папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Введите параметр компилятора в поле **Дополнительные параметры**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)