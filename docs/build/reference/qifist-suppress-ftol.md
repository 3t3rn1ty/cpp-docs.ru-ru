---
title: "/QIfist (Suppress _ftol) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "/qifist"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "QIfist - параметр компилятора [C++]"
  - "-QIfist - параметр компилятора [C++]"
  - "/QIfist - параметр компилятора [C++]"
ms.assetid: 1afd32a5-f658-4b66-85f4-e0ce4cb955bd
caps.latest.revision: 17
caps.handback.revision: 17
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# /QIfist (Suppress _ftol)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Подавляет вызов вспомогательной функции `_ftol` при необходимости преобразования из типа с плавающей запятой в целочисленный тип.  
  
## Синтаксис  
  
```  
/QIfist  
```  
  
## Заметки  
  
> [!NOTE]
>  **\/QIfist** доступно только в компиляторе, предназначенный для x86; этот параметр компилятора недоступен для компиляторов для [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] или ARM.  
  
 Кроме преобразования из типа с плавающей запятой в интегральный тип, функция `_ftol` включает режим округления единицы измерения с плавающей запятой \(FPU\) до ближайшего меньшего по модулю \(усечение\), задав биты 10 и 11 контрольного слова.  Это обеспечивает соответствие преобразования из типа с плавающей запятой в интегральный тип, описанного стандартом ANSI C \(дробная часть числа отбрасывается\).  При использовании **\/QIfist** гарантия не предоставляется.  Режим округления будет одним из четырех, перечисленных в справочных руководствах Intel:  
  
-   Округление до ближайшего значения \(даже если число равноудаленное\)  
  
-   Округление до самого маленького отрицательного значения  
  
-   Округление до самого маленького положительного значения  
  
-   Округление до нуля  
  
 Можно использовать функцию [\_control87, \_controlfp, \_\_control87\_2](../Topic/_control87,%20_controlfp,%20__control87_2.md) C Run\-Time для изменения поведения округления FPU.  Режим округления по умолчанию FPU "Округление до ближайшего значения". Использование **\/QIfist** может повысить производительность приложения, но при этом существует риск.  Требуется тщательно проверить часть кода, чувствительную к режимам округления, перед ссылкой на код, построенный в производственных средах **\/QIfist**.  
  
 Параметры [\/arch \(x86\)](../../build/reference/arch-x86.md) и **\/QIfist** нельзя использовать для одного и того же объекта компиляции.  
  
> [!NOTE]
>  Параметр **\/QIfist** не действует по умолчанию, поскольку округление битов также влияет на плавающую запятую при округлении до плавающей запятой \(которое производится после каждого расчета\), поэтому при установке флажков для округления в стиле языка C \(в сторону нуля\) расчет плавающей запятой может измениться.  Параметр **\/QIfist** не следует использовать, если код зависит от ожидаемого поведения усечения дробной части числа с плавающей запятой.  Если есть сомнения, то не следует использовать **\/QIfist**.  
  
 Параметр **\/QIfist** использовать не рекомендуется.  Благодаря работе компилятора, скорость преобразования от float до int значительные улучшилась.  Для получения дополнительной информации см. [Deprecated Compiler Options in Visual C\+\+ 2005](http://msdn.microsoft.com/ru-ru/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce).  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Открытие свойств страниц проекта](../../misc/how-to-open-project-property-pages.md).  
  
2.  Откройте папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Введите параметры компилятора в поле **Дополнительные параметры**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры \/Q \(низкоуровневые операции\)](../../build/reference/q-options-low-level-operations.md)   
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)