---
title: "/Og (Виды глобальной оптимизации) | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "VC.Project.VCCLCompilerTool.GlobalOptimizations"
  - "/og"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "/Og - параметр компилятора [C++]"
  - "автоматическое выделение регистров"
  - "исключение общей части выражения"
  - "глобальная оптимизация - параметр компилятора [C++]"
  - "циклические структуры, оптимизация"
  - "Og - параметр компилятора [C++]"
  - "-Og - параметр компилятора [C++]"
ms.assetid: d10630cc-b9cf-4e97-bde3-8d7ee79e9435
caps.latest.revision: 17
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 14
---
# /Og (Виды глобальной оптимизации)
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

Предоставляет виды локальной и глобальной оптимизации, автоматическое выделение регистров и оптимизацию цикла.  Устаревший.  
  
## Синтаксис  
  
```  
/Og  
```  
  
## Заметки  
 Доступны следующие виды оптимизации.  
  
-   Локальное и глобальное исключение общей части выражения  
  
     При этом виде оптимизации значение общей части выражения рассчитывается однократно.  В следующем примере, если значения частей выражения `b` и `c` не изменяются для трех выражений, компилятор может назначить вычисление `b + c` во временную переменную и заменить переменную для `b + c`:  
  
    ```  
    a = b + c;  
    d = b + c;  
    e = b + c;  
    ```  
  
     При локальной оптимизации общей части выражения компилятор проверят короткие разделы кода на наличие общих частей выражения.  При глобальной оптимизации общей части выражения компилятор выполняет поиск общих частей выражения в целых функциях.  
  
-   Автоматическое выделение регистров  
  
     Этот вид оптимизации позволяет компилятору хранить часто используемые переменные и части выражения в регистрах; ключевое слово `register` игнорируется.  
  
-   Оптимизация цикла  
  
     При этом виде оптимизации неизменяемые части выражения удаляются из тела цикла.  Оптимальный цикл включает только те выражения, значения которых изменяются при каждом выполнении цикла.  В следующем примере выражение `x + y` в теле цикла не меняется:  
  
    ```  
    i = -100;  
    while( i < 0 ) {  
        i += x + y;  
    }  
    ```  
  
     После оптимизации вычисление значения для выражения `x + y` выполняется однократно, а не при каждом выполнении цикла:  
  
    ```  
    i = -100;  
    t = x + y;  
    while( i < 0 ) {  
        i += t;  
    }  
    ```  
  
     Оптимизация цикла является значительно более эффективной, если компилятор может предположить отсутствие псевдонимов, что определяется атрибутами [\_\_restrict](../../cpp/extension-restrict.md), [noalias](../../cpp/noalias.md) или [restrict](../../cpp/restrict.md).  
  
    > [!NOTE]
    >  Можно разрешать или запрещать глобальную оптимизации для каждой функции, используя директиву pragma `optimize` с параметром `g`.  
  
 **\/Og** также включает оптимизацию именованных возвращаемых значений, при которой для стековых возвращаемых значений не используются конструкторы копирования и деструкторы.  Дополнительные сведения см. в разделе [\/O1, \/O2 \(минимизировать размер, максимизировать скорость\)](../../build/reference/o1-o2-minimize-size-maximize-speed.md).  
  
 Связанные сведения см. в разделах [Создание встроенных функций \(\/Oi\)](../Topic/-Oi%20\(Generate%20Intrinsic%20Functions\).md) и [Полная оптимизация \(\/Ox\)](../../build/reference/ox-full-optimization.md).  
  
 **\/Og** не рекомендуется использовать; используйте[\/O1](../../build/reference/o1-o2-minimize-size-maximize-speed.md) или **\/O2**.  Для получения дополнительной информации см. [Deprecated Compiler Options in Visual C\+\+ 2005](http://msdn.microsoft.com/ru-ru/aa59fce3-50b8-4f66-9aeb-ce09a7a84cce).  
  
### Установка данного параметра компилятора в среде разработки Visual Studio  
  
1.  Откройте диалоговое окно **Страницы свойств** проекта.  Дополнительные сведения см. в разделе [Открытие свойств страниц проекта](../../misc/how-to-open-project-property-pages.md).  
  
2.  Откройте папку **C\/C\+\+**.  
  
3.  Выберите страницу свойств **Командная строка**.  
  
4.  Введите параметр компилятора в поле **Дополнительные параметры**.  
  
### Установка данного параметра компилятора программным способом  
  
-   См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.  
  
## См. также  
 [Параметры \/O \(оптимизация кода\)](../../build/reference/o-options-optimize-code.md)   
 [Параметры компилятора](../../build/reference/compiler-options.md)   
 [Настройка параметров компилятора](../Topic/Setting%20Compiler%20Options.md)