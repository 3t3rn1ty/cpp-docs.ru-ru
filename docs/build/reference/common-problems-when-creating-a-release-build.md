---
title: "Распространенные проблемы, возникающие при создании построений выпуска | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "отладочные построения, отличие от выпускных построений"
  - "механизм распределения отладочной памяти"
  - "отладка [MFC], построения выпуска"
  - "проблемы разметки кучи"
  - "память [C++], перезаписи"
  - "MFC [C++], построения выпуска"
  - "оптимизация [C++], компилятор"
  - "указатели, свободный"
  - "проекты [C++], конфигурация отладки"
  - "построения выпуска, построение приложений"
  - "построения выпуска, устранение неполадок"
  - "свободные указатели"
  - "выпускные построения - устранение неполадок"
  - "устранение неполадок - Visual C++"
  - "неожиданная генерация кода"
ms.assetid: 73cbc1f9-3e33-472d-9880-39a8e9977b95
caps.latest.revision: 7
caps.handback.revision: 7
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# Распространенные проблемы, возникающие при создании построений выпуска
[!INCLUDE[vs2017banner](../../assembler/inline/includes/vs2017banner.md)]

В процессе разработки обычно выполняется построение и тестирование отладочного построения проекта.  При последующем построении сборки выпуска могут возникать ошибки нарушения прав доступа.  
  
 В этом разделе приведены основные различия между построениями отладки и выпуска.  В этом списке приведены только основные различия, которые могут привести к сбою построения выпуска приложения, в построении отладки которого отсутствовали ошибки.  
  
-   [Размещение в куче](#_core_heap_layout)  
  
-   [Компиляция](#_core_compilation)  
  
-   [Поддержка указателей](#_core_pointer_support)  
  
-   [Оптимизация](#_core_optimizations)  
  
 Дополнительные сведения о порядке перехвата ошибок построения выпуска в сборке построения см. в описании параметра компилятора [\/GZ \(перехват ошибок сборки выпуска в сборке построения\)](../../build/reference/gz-enable-stack-frame-run-time-error-checking.md).  
  
##  <a name="_core_heap_layout"></a> Размещение в куче  
 В 90 процентах случаев проблемы сборки выпуска приложения, работающего без ошибок в сборке отладки, связаны с размещением в куче.  
  
 При построении проекта для отладки используется механизм распределения памяти для отладки.  В этом случае все операции выделения памяти заключаются в охранные байты.  Охранные байты используются для обнаружения перезаписи памяти.  В построениях отладки и выпуска применяются разные механизмы размещения в куче. В связи с этим операция перезаписи памяти, не вызывающая ошибок в сборке отладки, может привести к неустранимым последствиям в сборке выпуска.  
  
 Дополнительные сведения см. в разделах [Проверка перезаписи памяти](../../build/reference/checking-for-memory-overwrites.md) и [Проверка перезаписи памяти в отладочном построении](../Topic/Using%20the%20Debug%20Build%20to%20Check%20for%20Memory%20Overwrite.md).  
  
##  <a name="_core_compilation"></a> Компиляция  
 При построении сборки выпуска изменяется большинство макросов и реализаций библиотеки MFC.  В частности, в построении выпуска макрос ASSERT возвращает пустое значение, в связи с чем содержащийся в нем код не выполняется.  Дополнительные сведения см. в разделе [Проверка операторов ASSERT](../../build/reference/using-verify-instead-of-assert.md).  
  
 В целях повышения производительности некоторые функции определяются в построении выпуска как встроенные.  В построениях выпуска обычно используется оптимизация.  Также в них используется другой механизм распределения памяти.  
  
##  <a name="_core_pointer_support"></a> Поддержка указателей  
 В связи с отсутствием сведений об отладке из приложения удаляется заполнение.  В сборке выпуска существует высокая вероятность наличия свободных указателей, которые указывают на неинициализированную область памяти, а не сведения об отладке.  
  
##  <a name="_core_optimizations"></a> Оптимизация  
 В процессе оптимизации некоторых сегментов кода компилятор может добавлять непредвиденный код.  Вероятность возникновения ошибок в построении выпуска при этом незначительна, однако на такие случаи следует обращать внимание.  Сведения о способах устранения см. в разделе [Оптимизация кода](../../build/reference/optimizing-your-code.md).  
  
## См. также  
 [Построения выпуска](../../build/reference/release-builds.md)   
 [Устранение проблем построения выпуска](../../build/reference/fixing-release-build-problems.md)