---
title: "Директивы предварительной обработки файла makefile | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "!UNDEF"
  - "!INCLUDE"
  - "!IFNDEF"
  - "!MESSAGE"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "!CMDSWITCHES - директива"
  - "!ELSE - директива"
  - "!ELSEIF - директива"
  - "!ELSEIFDEF - директива"
  - "!ELSEIFNDEF - директива"
  - "!ENDIF - директива"
  - "!ERROR - директива"
  - "!IF - директива"
  - "!IFDEF - директива"
  - "!IFNDEF - директива"
  - "!INCLUDE - директива"
  - "!MESSAGE - директива"
  - "!UNDEF - директива"
  - "CMDSWITCHES - директива"
  - "директивы, предварительная обработка файла makefile"
  - "ELSE - директива"
  - "ELSEIF - директива"
  - "ELSEIFDEF - директива"
  - "ELSEIFNDEF - директива"
  - "ENDIF - директива"
  - "ERROR - директива"
  - "IF - директива"
  - "IFDEF - директива"
  - "IFNDEF - директива"
  - "INCLUDE - директива"
  - "makefile - файлы, директивы препроцессора"
  - "MESSAGE - директива"
  - "программа NMAKE, выражения"
  - "программа NMAKE, директивы препроцессора"
  - "директивы препроцессора, makefile - файлы"
  - "UNDEF - директива"
ms.assetid: bcedeccb-d981-469d-b9e8-ab5d097fd8c2
caps.latest.revision: 8
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 8
---
# Директивы предварительной обработки файла makefile
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Препроцессорные директивы в этом случае не учитываются.  Начальный восклицательный знак \(\!\) находится в начале строки.  Ноль или более пробелов или знаков табуляции могут появляться после знака восклицания для отступа абзаца.  
  
 **\!CMDSWITCHES**  
 {**\+**&#124; **–**}*параметр*...  Включает каждый *параметр*, включенный или выключенный.  Пробелы и знаки табуляции должны появляться перед оператором \+ или – ; ничего не должно быть между оператором и [буквами параметра](../Topic/NMAKE%20Options.md).  Буквы нечувствительны к регистру и указаны без слэша \( \/ \).  Чтобы включить или выключить несколько параметров, используйте отдельные спецификации **\!CMDSWITCHES**.  
  
 Только \/D, \/I, \/N и \/S могут быть использованы в makefile.  В Tools.ini все параметры разрешают исключения \/F, \/HELP, \/NOLOGO, \/X и \/?.  Изменения, указанные в блоке описаний, являются неэффективными до следующего блока описаний.  Эта директива обновляет **MAKEFLAGS**; изменения наследуются путем рекурсии, если указан **MAKEFLAGS**.  
  
 **\!ERROR**  *текст*  
 Отображает *text* ошибки U1050, затем останавливает NMAKE, даже if \/K, \/I, **.IGNORE**, **\!CMDSWITCHES**, или используется знак тире \(–\) командного модификатора.  Игнорируются пробелы или знаки табуляции перед *text*.  
  
 **\!MESSAGE**  *текст*  
 Отображает *text* для стандартного вывода.  Игнорируются пробелы или знаки табуляции перед *text*.  
  
 **\!INCLUDE**\[ **\<**\] *имя файла*\[ **\>**\]  
 Читает *filename* как makefile, затем продолжает работать с текущим файлом makefile.  Поиск сначала NMAKE для *имени файла* в определенном либо в текущем каталоге, затем рекурсивно в каталогах всех родительских файлов makefile, затем, если *имя файла* угловыми заключено в круглые скобки \(\<\>\), в каталоги, задаваемые макросом **include**, присвоено значение переменной среды ВКЛЮЧАТЬ.  Полезно передать параметры **.SUFFIXES**, **.PRECIOUS** и правила наследования по рекурсии файлу makefiles.  
  
 **\!IF**  `constantexpression`  
 Обрабатывает операторы между **\!IF** и следующим **\!ELSE** или `!ENDIF`, если `constantexpression` достигает ненулевого значения.  
  
 **\!IFDEF**  *имя\_макроса*  
 Обрабатывает операторы между `!IFDEF` и следующим **\!ELSE** или `!ENDIF`, если *macroname* определено.  Нулевой макрос считается определенным.  
  
 **\!IFNDEF**  *имя\_макроса*  
 Обрабатывает операторы между **\!IFNDEF** и следующим **\!ELSE** или `!ENDIF`, если *macroname* определено.  
  
 **\!ELSE**\[**IF** *константное\_выражение* &#124; **IFDEF** *имя\_макроса*&#124; **IFNDEF** *имя\_макроса*\]  
 Обрабатывает операторы между **\!ELSE** и следующим `!ENDIF`, если предыдущий оператор **\!IF**, `!IFDEF` или **\!IFNDEF** был равен нулю.  Дополнительные ключевые слова позволяют управлять препроцессорной обработкой.  
  
 **\!ELSEIF**  
 Синоним для **\!ELSE IF**.  
  
 **\!ELSEIFDEF**  
 Синоним для **\!ELSE IFDEF**.  
  
 **\!ELSEIFNDEF**  
 Синоним для **\!ELSE IFNDEF**.  
  
 `!ENDIF`  
 Отмечает конец блока **\!IF**, `!IFDEF` или **\!IFNDEF**.  Любой текст после `!ENDIF`, находящийся на той же самой строке, игнорируется.  
  
 **\!UNDEF**  *имя\_макроса*  
 Отменяет *macroname*.  
  
## См. также  
 [Предварительная обработка файла makefile](../Topic/Makefile%20Preprocessing.md)