---
title: Изменения системы построения | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.reviewer: ''
ms.suite: ''
ms.technology:
- cpp-tools
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vc.msbuild.changes
dev_langs:
- C++
helpviewer_keywords:
- Build system changes, project file (.vcxprog)
- Build system changes, custom build rules
- Build system changes, MSBuild
- MSBuild, build system changes
- Build system changes, .vsprops
- Build system changes, $(Inherit)
- Build system changes, $(NoInherit)
ms.assetid: e564d95f-a6cc-4d97-b57e-1a71daf66f4a
caps.latest.revision: 13
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 59d30e2afd07c21cb42dbc2b9109d7547d6c5b9f
ms.sourcegitcommit: 0523c88b24d963c33af0529e6ba85ad2c6ee5afb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/10/2018
---
# <a name="build-system-changes"></a>Изменения системы построения
Система MSBuild используется для построения проектов Visual C++. Однако в Visual Studio 2008 и более ранних версий, использовался VCBuild системы. Определенные типы файлов и основные понятия, которые зависят от VCBuild не существуют или представлены по-разному в текущей системе. В этом документе описываются различия в текущей системе сборки.  
  
## <a name="vcproj-is-now-vcxproj"></a>.vcproj is now .vcxproj  
 Файлы проекта теперь невозможно использовать расширение VCPROJ-файл. Visual Studio автоматически преобразует файлы проекта, созданных в более раннем выпуске Visual C++, в формат, используемый в текущей системе. Дополнительные сведения о ручном обновлении проекта см. в разделе [/Upgrade (devenv.exe)](/visualstudio/ide/reference/upgrade-devenv-exe).  
  
 В текущем выпуске расширение имени файла для файла проекта — VCXPROJ-файл.  
  
## <a name="vsprops-is-now-props"></a>.vsprops теперь является расширением PROPS  
 В более ранних выпусках *страницу свойств проекта* представляет собой XML-файл с расширением .vsprops. Страница свойств проекта позволяет указать параметры для средства построения, например компилятора или компоновщика и создавать пользовательские макросы.  
  
 В текущем выпуске расширение имени файла для страницы свойств проекта является расширением props.  
  
## <a name="custom-build-rules-and-rules-files"></a>Настраиваемые правила построения и RULES-файлы  
 В более ранних выпусках *файл правил* представляет собой XML-файл имеет расширение имени файла с расширением RULES. Файл правил позволяет определять пользовательские правила построения и внедрять их в процесс построения проекта Visual C++. Настраиваемое правило, который может быть связан один или несколько расширений имен файлов, позволяет передавать входные файлы средству, создающему один или несколько выходных файлов.  
  
 В этом выпуске настраиваемые правила построения представлены три типы файлов, XML-файла, с расширением PROPS и TARGETS, а не файл с расширением RULES. При миграции RULES-файлом, который был создан с использованием более раннего выпуска Visual C++ до текущего выпуска эквивалентные файлы XML-файла с расширением PROPS и .targets создаются и сохраняются в папке проекта вместе с исходным RULES-файлом.  
  
> [!IMPORTANT]
>  В текущем выпуске [!INCLUDE[TLA2#tla_ide](../build/includes/tla2sharptla_ide_md.md)] не поддерживает создание новых правил. По этой причине самым простым способом использования файла правил из проекта, который был создан с помощью более раннего выпуска Visual C++ требуется осуществить миграцию проекта до текущего выпуска.  
  
## <a name="inheritance-macros"></a>Макросы наследования  
 В более ранних выпусках **$(Inherit)** макрос указывает порядок, в котором наследуемые свойства отображаются в командной строке, сгенерированной системой построения проекта. **$(NoInherit)** макрос $(Inherit) пропускаются все вхождения в результате чего все свойства, которые могут быть наследованы, не наследуются. Например, по умолчанию макрос $(Inherit) вызывает файлов, указанных с помощью [/I (Дополнительные каталоги включаемых файлов)](../build/reference/i-additional-include-directories.md) параметр компилятора для добавления в командную строку.  
  
 В текущем выпуске поддерживается наследование, указав значение свойства как объединение один или несколько значений литералов и макросов свойств. **$(Inherit)** и **$(NoInherit)** макросы не поддерживаются.  
  
 В следующем примере свойство на странице свойств назначается список, разделенный точками с запятой. Список состоит из объединения  *\<значение >* литерал и значение `MyProperty` свойство, к которому можно получить с помощью нотации макроса, **$(***MyProperty***)** .  
  
```  
Property=<value>;$(MyProperty)  
```  
  
## <a name="vcxprojuser-files"></a>. vcxproj.user файлов  
 Файл пользователя (. vcxproj.user) хранит свойства конкретного пользователя, например, отладки и развертывания параметров. В файл с расширением VCXPROJ применяется ко всем проектам для конкретного пользователя.  
  
## <a name="vcxprojfilters-file"></a>. vcxproj.filters файла  
 Когда **обозревателе решений** используется для добавления файла в проект, файл фильтров (. vcxproj.filters) определяет, где в **обозреватель решений** древовидное представление будет добавлен файл, по расширению имени файла.  
  
## <a name="vc-directories-settings"></a>Параметры каталогов VC ++  
 Указанные параметры каталогов Visual C++ на [страница свойств каталогов VC ++](../ide/vcpp-directories-property-page.md). В более ранних версий Visual Studio параметры каталогов применяются на уровне пользователя и список исключаемых каталогов указывается в файле sysincl.dat.  
  
 Параметры каталогов VC ++ нельзя изменять, если выполнена [devenv/resetsettings](/visualstudio/ide/reference/resetsettings-devenv-exe) из командной строки. Также нельзя изменять настройки при открытии **средства** меню, нажмите кнопку **Импорт и экспорт параметров**, а затем выберите **сбросить все параметры** параметр.  
  
 Перенесите параметры каталогов VC ++ из VSSETTINGS-файла, созданного в более раннем выпуске Visual C++. Откройте **средства** меню, нажмите кнопку **Импорт и экспорт параметров**выберите **импортировать выбранные параметры среды**и следуйте указаниям мастера. Или при запуске Visual Studio в первый раз на **Выбор параметров среды по умолчанию** выберите **перенести параметры из предыдущей версии и применить их вместе с параметрами по умолчанию Выбранный ниже**.  
  
## <a name="see-also"></a>См. также  
 [MSBuild (Visual C++)](../build/msbuild-visual-cpp.md)