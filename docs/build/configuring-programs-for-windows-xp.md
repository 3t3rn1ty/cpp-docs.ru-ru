---
title: Настройка программ для Windows XP | Документы Microsoft
ms.custom: ''
ms.date: 02/02/2018
ms.technology:
- cpp-tools
ms.topic: conceptual
dev_langs:
- C++
ms.assetid: 1e4487b3-d815-4123-878b-5718b22f0fd5
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: a846ea5508173ce0e383b1c4b8798b896ae5be0e
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
ms.locfileid: "32371490"
---
# <a name="configuring-programs-for-windows-xp"></a>Настройка программ для Windows XP

Поскольку Visual Studio поддерживает несколько наборы инструментов платформы, можно ориентироваться на операционные системы и библиотек времени выполнения, которые не поддерживаются набором инструментов по умолчанию. Например, путем переключения набора инструментов платформы, можно использовать C ++ 11, C ++ 14 и улучшения C ++ 17 языков, поддерживаемых компилятором Visual C++ в Visual Studio для создания приложений, ориентированных на [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)]. Можно также использовать более старых наборов инструментов платформы для обслуживания совместимых устаревшего кода и пользуясь при этом последними возможностями интегрированной среды разработки Visual Studio.

## <a name="install-the-windows-xp-platform-toolset"></a>Установить набор инструментов платформы Windows XP
Чтобы получить набор инструментов платформы и компоненты для целевой [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)] в Visual Studio 2017 г., запустите установщик Visual Studio. При первоначальной установке Visual Studio или при выборе **изменить** для изменения существующей установки, убедитесь, что **разработки настольных приложений с помощью C++** выбран рабочей нагрузки. В списке дополнительных компонентов для этой рабочей нагрузки, выберите **поддержки Windows XP для C++** и нажмите кнопку **установить** или **изменить**.

## <a name="windows-xp-targeting-experience"></a>Нацеливание на Windows XP

Набор инструментов платформы Windows XP, включенный в Visual Studio — это версия [!INCLUDE[win7](../build/includes/win7_md.md)] SDK, но он использует текущий компилятор C++. Он также настраивает свойства проекта соответствующие значения по умолчанию, например, спецификацию совместимого компоновщика для нисходящего нацеливания. Только Windows, Классические приложения, созданных с помощью набора инструментов платформы Windows XP, выполняются на [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)], но эти приложения могут выполняться в более новых операционных системах Windows.

#### <a name="to-target-windows-xp"></a>Нацеливание на Windows XP

1. В **обозревателе решений** откройте контекстное меню своего проекта и выберите пункт **Свойства**.

1. В **страницы свойств** диалогового окна "в разделе" для проекта, **свойства конфигурации** > **Общие**, задайте **набор инструментов платформы** свойства нужный набор инструментов Windows XP. Например, выберите **Visual Studio 2017 г. — Windows XP (v141_xp)** создание кода для [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)] с помощью компилятора 2017 г. Microsoft Visual C++.

### <a name="c-runtime-support"></a>Поддержка среды выполнения C++

Вместе с набора инструментов платформы Windows XP, библиотеки времени выполнения C (CRT), стандартной библиотеки C++, Active Template Library (ATL), библиотеку времени выполнения с параллелизмом (ConCRT), библиотека параллельных шаблонов (PPL), библиотека классов Microsoft Foundation (MFC) и C++ AMP (C++ Accelerated Massive программирование) Библиотека включает поддержку среды выполнения [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)]. Для этих операционных систем, которые минимально поддерживаемые версии [!INCLUDE[winxp](../build/includes/winxp_md.md)] пакет обновления 3 (SP3) для x86, [!INCLUDE[winxp](../build/includes/winxp_md.md)] пакет обновления 2 (SP2) для x64, и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)] пакет обновления 2 (SP2) для и x86- и x64.

Эти библиотеки поддерживаются наборы инструментов платформы, установленным в Visual Studio, в зависимости от целевой объект:

|Библиотека|Набор инструментов платформы по умолчанию для классических приложений Windows|По умолчанию приложения магазина целевой набор инструментов платформы|Набор инструментов платформы Windows XP для [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)]|
|---|---|---|---|
|CRT - библиотека|X|X|X|
|Стандартная библиотека C++|X|X|X|
|ATL|X|X|X|
|ConCRT/PPL|X|X|X|
|MFC|X||X|
|C++ AMP|X|X||

> [!NOTE]
> Приложения, написанные на C++/CLI и предназначенные для платформы .NET Framework 4, выполняются в [!INCLUDE[winxp](../build/includes/winxp_md.md)] и [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)].

### <a name="differences-between-the-toolsets"></a>Различия между наборами инструментов

Из-за различий в поддержке платформ и библиотек процесс разработки приложений, использующих набор инструментов платформы Windows XP не так тщательна, как и для приложений, использующих набор инструментов платформы по умолчанию Visual Studio.

- **Возможности языка C++**

   Только возможности языка C++, реализованные в Visual Studio 2012 поддерживаются в приложениях, использующих v110\_xp набор инструментов платформы. Только возможности языка C++, реализованные в Visual Studio 2013 поддерживаются в приложениях, использующих v120\_xp набор инструментов платформы. В приложениях, использующих v140 поддерживаются только возможности языка C++, реализованные в Visual Studio 2015\_xp набор инструментов платформы. Visual Studio использует соответствующий компилятор при построении с помощью более старых наборов средств платформы. Позволяет воспользоваться преимуществами дополнительных функций языка C++, реализованными в нем компилятора последнего набора инструментов платформы Windows XP.

- **Удаленная отладка**

   Инструменты удаленной отладки для Visual Studio не поддерживает удаленную отладку на [!INCLUDE[winxp](../build/includes/winxp_md.md)] или [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)]. Выполнить отладку приложения, когда она работает [!INCLUDE[winxp](../build/includes/winxp_md.md)] или [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)], отладчик из более старой версии Visual Studio можно использовать для его отладки, локально или удаленно. Ситуация здесь схожа с отладкой приложений в Windows Vista, которые могут являться целью выполнения для набора инструментов платформы, но не могут являться целью удаленной отладки.

- **Статический анализ**

   Наборы инструментов платформы для Windows XP не поддерживают статический анализ, так как примечания SAL для пакета SDK [!INCLUDE[win7](../build/includes/win7_md.md)] и библиотек времени выполнения несовместимы. Если вы хотите выполнить статический анализ приложения, поддерживающего [!INCLUDE[winxp](../build/includes/winxp_md.md)] или [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)], вы можете временно переключиться на набор инструментов платформы по умолчанию для анализа решения, а затем вернуться к набору инструментов платформы Windows XP для сборки приложения.

- **Отладка графики DirectX**

     Так как отладчик графики не поддерживает API Direct3D 9, его нельзя применять для отладки приложений, использующих Direct3D, в [!INCLUDE[winxp](../build/includes/winxp_md.md)] или [!INCLUDE[WinXPSvr](../build/includes/winxpsvr_md.md)]. Однако если в приложении реализован альтернативный модуль прорисовки, использующий API Direct3D 10 или Direct3D 11, с помощью отладчика графики можно диагностировать проблемы с использованием этих API.

- **Сборка HLSL**

   По умолчанию набор инструментов Windows XP не компилирует файлы с исходным кодом HLSL. Для компиляции файлов HLSL загрузите и установите пакет SDK DirectX за июнь 2010 года, а затем включите его в каталоги VC проекта. Дополнительные сведения см. в разделе «пакет SDK DirectX не регистрирует пути включения/библиотека с Visual Studio 2010» раздела [июня 2010 г. странице загрузки пакета SDK DirectX](http://www.microsoft.com/download/details.aspx?displaylang=en&id=6812).
