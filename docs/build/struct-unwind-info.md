---
title: Структура UNWIND_INFO | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-tools
ms.topic: conceptual
dev_langs:
- C++
ms.assetid: f0aee906-a1b9-44cc-a8ad-463637bd5411
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 14b17a79905ffc7814e2aecf92e90f3db526453f
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
ms.locfileid: "32383245"
---
# <a name="struct-unwindinfo"></a>Структура UNWIND_INFO
Информационная структура очищения данных используется для записи эффектов функции имеет указатель стека и сохранения защищенных регистров в стек:  
  
|||  
|-|-|  
|UBYTE: 3|Версия|  
|UBYTE: 5|Флаги|  
|UBYTE|Размер пролога|  
|UBYTE|Число кодов очистки.|  
|UBYTE: 4|Регистр кадра|  
|UBYTE: 4|Смещение регистра кадра (масштабирование)|  
|USHORT * n|Массив кодов очистки|  
|переменная|Может быть формы (1) или (2) ниже|  
  
 (1) обработчик исключений  
  
|||  
|-|-|  
|ULONG|Адрес обработчика исключений|  
|Переменная|Обработчик конкретного языка данных (необязательно)|  
  
 (2) связанных данных раскрутки  
  
|||  
|-|-|  
|ULONG|Начальный адрес функции|  
|ULONG|Конечный адрес функции|  
|ULONG|Адрес очистки|  
  
 Структура UNWIND_INFO должна быть выровнена в памяти DWORD. Значение каждого поля выглядит следующим образом:  
  
 **Version**  
 Номер версии для очистки данных, в данный момент 1.  
  
 **Флаги**  
 В настоящее время определены три флага:  
  
 UNW_FLAG_EHANDLER функция имеет обработчик исключений, который должен вызываться при поиске функций для проверки исключений.  
  
 UNW_FLAG_UHANDLER функция имеет обработчик завершения, который должен вызываться при очистке исключения.  
  
 UNW_FLAG_CHAININFO это раскрутки структура не является первичной для процедуры. Вместо этого связанных данных раскрутки запись является содержимым предыдущей записи RUNTIME_FUNCTION. Отображается следующий текст объяснения связанных данных раскрутки структуры. Если этот флаг установлен, флаги UNW_FLAG_EHANDLER и UNW_FLAG_UHANDLER должен быть снят. Кроме того кадра регистра и фиксированной стека выделения поля должны иметь одинаковые значения основной информации очистки.  
  
 **Размер пролога**  
 Длина пролога функции в байтах.  
  
 **Число кодов очистки.**  
 Это число слотов в массиве кодов очистки. Обратите внимание, что некоторые коды (например, UWOP_SAVE_NONVOL) очистки требуют больше одного гнезда в массиве.  
  
 **Регистр кадра**  
 Если значение ненулевое, то функция использует указатель кадра, а это поле является номером постоянного регистра используется в качестве указателя фрейма, используя ту же кодировку поле сведений об операции узлов UNWIND_CODE.  
  
 **Смещение (масштабирование) регистра кадра**  
 Если поле регистра кадра отлично от нуля, то это масштабированное смещение от RSP, примененного к FP reg после его установки. Действительное значение FP reg задано RSP + 16 * это число, что позволяет смещения от 0 до 240. Это разрешает направление FP reg в середину локального выделения стека для динамических кадров стека, что позволяет более высокую плотность кода за счет более коротких инструкций (больше инструкций могут использовать для смещения 8-разрядное знаковое число).  
  
 **Массив кодов очистки**  
 Это массив элементов, объясняющий воздействия пролога на постоянные регистры и RSP. В разделе об использовании UNWIND_CODE для значений индивидуальных элементов. Для выравнивания этот массив всегда будет иметь четное количество записей с потенциально неиспользуемой последней записью (в этом случае массив будет иметь одно больше времени, чем указано счетчиком полей кодов очистки).  
  
 **Адрес обработчика исключений**  
 Это указатель на обработчик конкретного языка исключения или завершения либо функции (если снят флаг UNW_FLAG_CHAININFO и задан один из флагов UNW_FLAG_EHANDLER или UNW_FLAG_UHANDLER).  
  
 **Обработчик конкретного языка данных**  
 Это данные обработчика исключений выбранного языка функции. Формат этих данных не указан и полностью определяется используемым обработчиком конкретное исключение.  
  
 **Связанных данных раскрутки**  
 Если установлен флаг UNW_FLAG_CHAININFO структура UNWIND_INFO завершается с тремя UWORDs.  Эти UWORDs представляют данные RUNTIME_FUNCTION функции цепочек очистки.  
  
## <a name="see-also"></a>См. также  
 [Данные раскрутки для обработки исключений и поддержки отладчика](../build/unwind-data-for-exception-handling-debugger-support.md)