---
title: "Установка переменных пути и среды при построении из командной строки | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "get-started-article"
f1_keywords: 
  - "include"
  - "Lib"
  - "Path"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "cl.exe - компилятор [C++], переменные среды"
  - "компиляция исходного кода [C++], из командной строки"
  - "переменные среды [C++]"
  - "переменные среды [C++], CL - компилятор"
  - "INCLUDE - зарезервированное слово"
  - "LIB - переменная среды"
  - "LINK - средство [C++], переменные среды"
  - "LINK - средство [C++], путь"
  - "PATH - зарезервированное слово"
  - "VCVARS32.bat - файл"
ms.assetid: 99389528-deb5-43b9-b99a-03c8773ebaf4
caps.latest.revision: 17
caps.handback.revision: 13
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# Установка переменных пути и среды при построении из командной строки
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Для программ сборки из командной строки [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] требуется несколько переменных среды, соответствующим образом настроенных для установки.  При установке [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] создаются командные файлы, которые задают необходимые переменные среды, а затем создаются ярлыки для открытия окна командной строки, в котором эти переменные уже заданы.  Если необходимо использовать программы командной строки, можно выбрать один из этих ярлыков или открыть простое окно командной строки, а затем запустить командный файл vcvarsall.bat.  
  
 Программы командной строки [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] используют переменные среды PATH, TMP, INCLUDE, LIB и LIBPATH, а также могут использовать переменные среды, связанные с конкретными программами.  Так как значения этих переменных среды зависят от установки и могут меняться при обновлении продукта, мы рекомендуем вам использовать файл vcvarsall.bat или ярлык на окно командной строки разработчика вместо того, чтобы настраивать их самостоятельно.  Информацию о переменных среды, используемых компилятором и компоновщиком, см. в статьях [Переменные среды CL](../build/reference/cl-environment-variables.md) и [Переменные среды инструмента LINK](../build/reference/link-environment-variables.md).  
  
> [!NOTE]
>  Некоторые программы командной строки и параметры требуют разрешений администратора.  Для их использования мы рекомендуем открыть окно командной строки с помощью команды **Запуск от имени администратора** \(в контекстном меню окна командной строки, которое нужно открыть\).  
  
## Использование ярлыков на окно командной строки  
 Ярлык "Командная строка разработчика", включенный в каждый выпуск [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)], служит для открытия окна командной строки и настройки среды для использования 32\-разрядного набора программ x86 Native, предназначенного для процессоров x86.  Также доступны командные строки для 32\-разрядных кросс\-компиляторов, предназначенных для платформ x64 и ARM.  В зависимости от системы и установленного выпуска [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] также может быть доступен ярлык "Командная строка" для 64\-разрядного набора программ x64 Native, предназначенного для процессоров x64, и ярлык для 64\-разрядного кросс\-компилятора, предназначенного для процессоров x86.  Эти версии набора программ командной строки доступны во всех выпусках Visual Studio.  
  
 x86 для платформы x86  
 Используйте этот набор программ для создания выходных файлов для компьютеров с архитектурой x86.  Он выполняется как 32\-разрядный процесс: как машинный код на компьютерах с платформой x86 и как процесс WOW64 на компьютерах с 64\-разрядной операционной системой Windows.  
  
 [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] для платформы x86 \(кросс\-компилятор [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]\)  
 Используйте этот набор программ для создания выходных файлов для [!INCLUDE[vcprx64](../Token/vcprx64_md.md)].  Он выполняется как 32\-разрядный процесс: как машинный код на компьютерах с платформой x86 и как процесс WOW64 на компьютерах с 64\-разрядной операционной системой Windows.  
  
 ARM для x86 \(кросс\-компилятор ARM\)  
 Используйте этот набор программ для создания выходных файлов для компьютеров с архитектурой ARM.  Он выполняется как 32\-разрядный процесс: как машинный код на компьютерах с платформой x86 и как процесс WOW64 на компьютерах с 64\-разрядной операционной системой Windows.  
  
 Эти версии набора программ командной строки доступны на 64\-разрядных платформах.  
  
 x86 для [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]  
 Используйте этот набор программ для создания выходных файлов для компьютеров с архитектурой x86.  Он выполняется как собственный процесс на компьютере с 64\-разрядной операционной системой Windows.  
  
 [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] для платформы [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]  
 Используйте этот набор программ для создания выходных файлов для компьютеров [!INCLUDE[vcprx64](../Token/vcprx64_md.md)].  Он выполняется как собственный процесс на компьютере с 64\-разрядной операционной системой Windows.  
  
 ARM для x64 \(кросс\-компилятор ARM\)  
 Используйте этот набор программ для создания выходных файлов для компьютеров с архитектурой ARM.  Он выполняется как собственный 64\-разрядный процесс на компьютере с 64\-разрядной операционной системой Windows.  
  
#### Открытие окна "Командная строка разработчика"  
  
1.  На начальном экране Windows 8 введите "Инструменты Visual Studio".  Обратите внимание на то, что результаты поиска меняются по мере ввода. Когда появится пункт **Инструменты Visual Studio**, выберите его.  
  
     В более ранних версиях Windows нажмите кнопку **Пуск**, а затем в поле поиска введите "Инструменты Visual Studio".  Когда в результатах поиска появится пункт **Инструменты Visual Studio**, выберите его.  
  
2.  В папке **Инструменты Visual Studio** выберите ярлык **Командная строка разработчика** для используемой версии [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)].  \(Для запуска от имени администратора откройте контекстное меню пункта "Командная строка разработчика" и выберите команду **Запуск от имени администратора**.\)  
  
 Окно командной строки разработчика настраивает среду для использования собственного 32\-разрядного набора программ, предназначенного для процессоров x86.  Выберите пункт **Командная строка x64 Cross Tools** для использования собственного 32\-разрядного набора программ, предназначенного для процессоров x64.  Выберите пункт **Командная строка ARM Cross Tools** для использования собственного 32\-разрядного набора программ, предназначенного для процессоров ARM.  Выберите пункт **Командная строка x64 Native Tools** для использования собственного 64\-разрядного набора программ, предназначенного для процессоров x64.  
  
## Использование файла vcvarsall.bat в окне командной строки  
 Запустив файл vcvarsall.bat в простом окне командной строки, можно задать переменные среды так, чтобы настроить командную строку для использования собственной 32\-разрядной или 64\-разрядной компиляции либо перекрестной компиляции для процессоров x86, x64 или ARM.  Если аргументы не предоставлены, файл vcvarsall.bat настраивает переменные среды для использования собственного 32\-разрядного компилятора для целевых платформ x86.  Однако его можно использовать для настройки любого из компиляторов.  Если указать конфигурацию компилятора, которая не установлена или недоступна в архитектуре компьютера сборки, появится сообщение.  В следующей таблице показаны поддерживаемые аргументы.  
  
|Аргумент Vcvarsall.bat|Компилятор|Архитектура компьютера сборки|Архитектура выходных данных сборки|  
|----------------------------|----------------|-----------------------------------|----------------------------------------|  
|x86|собственный 32\-разрядный x86|x86, [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|x86|  
|x86\_amd64|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)] для x86 \(кросс\-компилятор\)|x86, [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|  
|x86\_arm|ARM для x86 \(кросс\-компилятор\)|x86, [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|ARM|  
|amd64|собственный 64\-разрядный [!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|  
|amd64\_x86|x86 для [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] \(кросс\-компилятор\)|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|x86|  
|amd64\_arm|ARM для [!INCLUDE[vcprx64](../Token/vcprx64_md.md)] \(кросс\-компилятор\)|[!INCLUDE[vcprx64](../Token/vcprx64_md.md)]|ARM|  
  
 Ниже приведены инструкции по настройке командной строки для использования собственного 32\-разрядного набора программ, предназначенного для платформ x86.  
  
#### Запуск файла vcvarsall.bat  
  
1.  В командной строке перейдите в каталог установки [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)].  \(Расположение зависит от системы и установки [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)], однако типичное расположение — C:\\Program Files \(x86\)\\Microsoft Visual Studio *версия*\\VC\\.\) Например, введите:  
  
     cd "\\Program Files \(x86\)\\Microsoft Visual Studio 12.0\\VC"  
  
2.  Чтобы настроить окно командной строки для 32\-разрядной сборки на платформе x86, введите в командной строке следующую команду.  
  
     `vcvarsall x86`  
  
 [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] также предоставляет файл vcvars32.bat для настройки среды командной строки.  Файл vcvars32.bat предназначен только для настройки соответствующих переменных среды для 32\-разрядных сборок на платформе x86.  Его запуск аналогичен выполнению команды `vcvarsall x86`.  
  
 Если вы используете [DEVENV](../Topic/Devenv%20Command%20Line%20Switches.md) для сборки из командной строки, среда, настроенная с помощью файла vcvarsall.bat или vcvars32.bat, не влияет на ваши сборки, если только не указан параметр **\/useenv**.  
  
> [!CAUTION]
>  Файл vcvarsall.bat может иметь отличия на разных компьютерах.  Не заменяйте отсутствующий или поврежденный файл vcvarsall.bat файлом с другого компьютера.  Чтобы заменить отсутствующий файл, запустите программу установки [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] повторно.  
>   
>  Файл vcvarsall.bat также может иметь отличия в разных версиях.  Если текущая версия [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] установлена на компьютере, на котором также имеется более ранняя версия [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)], не запускайте файл vcvarsall.bat или vcvars32.bat из других версий в том же окне командной строки.  
  
## См. также  
 [Построение из командной строки](../Topic/Building%20on%20the%20Command%20Line.md)   
 [Компоновка](../Topic/Linking.md)   
 [Параметры компоновщика](../build/reference/linker-options.md)   
 [Компилирование программы C\/C\+\+](../build/reference/compiling-a-c-cpp-program.md)   
 [Параметры компилятора](../build/reference/compiler-options.md)