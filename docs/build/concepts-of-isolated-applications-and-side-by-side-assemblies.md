---
title: Концепции изолированных приложений и сборок Side-by-side | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-tools
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- side-by-side assemblies [C++]
- isolated assemblies [C++]
ms.assetid: 945a885f-cb3e-4c8a-a0b9-2c2e3e02cc50
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 095737bf4684f4ba9ed58483bca664f734d1a534
ms.sourcegitcommit: be2a7679c2bd80968204dee03d13ca961eaa31ff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
ms.locfileid: "32368178"
---
# <a name="concepts-of-isolated-applications-and-side-by-side-assemblies"></a>Основные понятия, связанные с изолированными приложениями и параллельными сборками
Приложение называется [изолированным](http://msdn.microsoft.com/library/aa375190) , если все его компоненты являются [параллельными сборками](http://msdn.microsoft.com/library/ff951640). Параллельная сборка представляет собой коллекцию ресурсов (группу библиотек DLL, классов окон, серверов COM, библиотек типов или интерфейсов), которые развертываются совместно и могут использоваться приложением во время выполнения. Обычно параллельная сборка — это одна или несколько библиотек DLL.  
  
## <a name="shared-or-private"></a>Совместно используемые и закрытые сборки  
 Параллельная сборка может быть совместно используемой или закрытой. [Совместно используемые параллельные сборки](https://msdn.microsoft.com/en-us/library/aa375996.aspx) могут использоваться несколькими приложениями, в манифестах которых задана зависимость от такой сборки. Несколько версий параллельной сборки могут совместно использоваться разными приложениями, выполняющимися в одно и то же время. [Закрытая сборка](http://msdn.microsoft.com/library/ff951638) — это сборка, которая разворачивается вместе с приложением для использования только этим приложением. Закрытые сборки устанавливаются в папку, содержащую исполняемый файл приложения, или в одну из ее вложенных папок.  
  
## <a name="manifests-and-search-order"></a>Манифесты и порядок поиска  
 Изолированные приложения и параллельные сборки описываются [манифестами](http://msdn.microsoft.com/library/aa375365). Манифест представляет собой XML-документ, который может быть внешним файлом или ресурсом, встроенным в приложение или сборку. Файл манифеста изолированного приложения используется для управления именами и версиями совместно используемых параллельных сборок, с которыми должно быть связано приложение во время выполнения. Манифест параллельной сборки задает имена, версии, ресурсы и зависимые сборки параллельных сборок. Манифест совместно используемой параллельной сборки устанавливается в папку %WINDIR%\WinSxS\Manifests\. В случае закрытой сборки рекомендуется включить ее манифест в библиотеку DLL в качестве ресурса с идентификатором 1. Можно также присвоить закрытой сборке имя, совпадающее с именем библиотеки DLL. Дополнительные сведения см. в разделе [о закрытых сборок](http://msdn.microsoft.com/library/ff951638).  
  
 Во время выполнения Windows использует данные о сборке из манифеста приложения для поиска и загрузки соответствующей параллельной сборки. Если в изолированном приложении указана зависимость от сборки, то операционная система сначала выполняет поиск сборки среди совместно используемых сборок в собственном кэше сборок в папке %WINDIR%\WinSxS\. Если в этой папке нужная сборка не обнаруживается, то операционная система выполняет поиск закрытой сборки в папке структуры каталога приложения. Дополнительные сведения см. в разделе [Порядок поиска сборки](http://msdn.microsoft.com/library/aa374224).  
  
## <a name="changing-dependencies"></a>Изменение зависимостей  
 Существует возможность изменения зависимостей параллельной сборки после развертывания приложения путем изменения [файлов конфигурации издателя](http://msdn.microsoft.com/library/aa375682) и [файлов конфигурации приложения](http://msdn.microsoft.com/library/aa374182). Файл конфигурации издателя, также называемый файлом политики издателя, представляет собой XML-файл, который глобально перенаправляет приложения и сборки от использования одной версии параллельной сборки к другой версии той же сборки. Например, вы могли изменить зависимость при развертывании исправления ошибок или исправления безопасности для параллельной сборки и хотите перенаправить все приложения для использования фиксированной версии. Файл конфигурации приложения представляет собой XML-файл, который перенаправляет конкретное приложение от использования одной версии параллельной сборки к другой версии той же сборки. Можно использовать файл конфигурации приложения для перенаправления конкретного приложения на использование версии параллельной сборки, отличной от версии, заданной в файле конфигурации издателя. Дополнительные сведения см. в разделе [Конфигурация](http://msdn.microsoft.com/library/aa375123).  
  
## <a name="visual-c-libraries"></a>Библиотеки Visual C++  
 В Visual Studio 2005 и Visual Studio 2008 распространяемые библиотеки, такие как ATL, MFC, CRT, OpenMP, MSDIA и стандартная библиотека C++, разворачивались как совместно используемые параллельные сборки в собственном кэше сборок. В текущей версии для распространяемых библиотек используется центральное развертывание. По умолчанию в Visual C++ сборка всех приложений выполняется с манифестом, включаемым в конечный двоичный файл; этот манифест описывает зависимости этого двоичного файла от библиотек Visual C++. Описание создания манифестов для приложений Visual C++ см. в разделе [Understanding Manifest Generation for C/C++ Programs](../build/understanding-manifest-generation-for-c-cpp-programs.md). Манифест не требуется для приложений, которые статически привязаны к используемым ими библиотекам или используют локальное развертывание. Дополнительные сведения о развертывании см. в разделе [Deployment in Visual C++](../ide/deployment-in-visual-cpp.md).  
  
## <a name="see-also"></a>См. также  
 [Создание изолированных приложений и параллельных сборок C/C++](../build/building-c-cpp-isolated-applications-and-side-by-side-assemblies.md)