---
title: "Символы поля типа printf | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
apilocation: 
  - "msvcr100.dll"
  - "msvcr110.dll"
  - "msvcr110_clr0400.dll"
  - "msvcr120.dll"
  - "msvcr80.dll"
  - "msvcr90.dll"
apitype: "DLLExport"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "printf - функция, поля описания формата"
  - "printf - функция, знаки поля типа"
ms.assetid: 699cb438-cd14-402e-9f81-c7a32acc3317
caps.latest.revision: 15
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 15
---
# Символы поля типа printf
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

В спецификации формата символ `type` является описателем преобразования, который определяет, как должен интерпретироваться соответствующий аргумент: как символ, строка, указатель, целое число или число с плавающей запятой.  Символ `type` — единственное обязательное поле спецификации формата; он указывается после всех необязательных полей.  
  
 Аргументы, которые следуют за строкой формата, интерпретируются согласно соответствующему символу `type` и необязательному префиксу [size](../c-runtime-library/size-specification.md).  Преобразования для символьных типов `char` и `wchar_t` определяются с помощью символов `c` или `C`; однобайтовые и многобайтовые строки или строки с расширенными символами указываются с помощью символа `s` или `S`, в зависимости от используемой функции форматирования.  Символьные и строковые аргументы, указанные с использованием `c` и `s`, интерпретируется как `char` и `char*` функциями семейства `printf` или как `wchar_t` и `wchar_t*` функциями семейства `wprintf`.  Символьные и строковые аргументы, указанные с использованием `C` и `S`, интерпретируется как `wchar_t` и `wchar_t*` функциями семейства `printf` или как `char` и `char*` функциями семейства `wprintf`.  
  
 Целочисленные типы, такие как `short`, `int`, `long`, `long long` и их беззнаковые варианты `unsigned` указываются с помощью символов `d`, `i`, `o`, `u`, `x` и `X`.  Типы с плавающей запятой, такие как `float`, `double` и `long double`, указываются с помощью символов `a`, `A`, `e`, `E`, `f`, `g` и `G`.  По умолчанию, если не применяется префикс длины поля `size`, целочисленные аргументы приводятся к типу `int`, а аргументы с плавающей запятой приводятся к типу `double`.  На 64\-разрядных системах тип `int` является 32\-разрядным значением; поэтому 64\-разрядные целые числа будут усекаться при форматировании для вывода, если не используется префикс `size` со значением `ll` или `I64`.  Для типов указателей, которые указываются с помощью символа `p`, используется длина по умолчанию для платформы.  
  
> [!NOTE]
>  Символы типа `C`, `S` и `Z`, а также поведение символов типа `c` и `s` при использовании с функциями `printf` и `wprintf` представляют собой расширения Microsoft, несовместимые со стандартами ANSI.  [!INCLUDE[vcprvc](../build/includes/vcprvc_md.md)] не поддерживает символ типа `F`.  
  
### Символы поля типа printf  
  
|Символ типа|Аргумент|Формат вывода|  
|-----------------|--------------|-------------------|  
|`c`|Знак|При использовании с функциями `printf` определяет однобайтовый символ; при использовании с функциями `wprintf` определяет расширенный символ.|  
|`C`|Знак|При использовании с функциями `printf` определяет расширенный символ; при использовании с функциями `wprintf` определяет однобайтовый символ.|  
|`d`|Integer|Десятичное целое число со знаком.|  
|`i`|Integer|Десятичное целое число со знаком.|  
|`o`|Integer|Восьмеричное целое число без знака.|  
|`u`|Integer|Десятичное целое число без знака.|  
|`x`|Integer|Шестнадцатеричное целое число без знака, используются буквы "abcdef".|  
|`X`|Integer|Шестнадцатеричное целое число без знака, используются буквы "ABCDEF".|  
|`e`|С плавающей запятой|Значение со знаком, имеющее формат \[ – \]`d`**.**`dddd` e \[*знак*\]`dd[d]`, где `d` — одна десятичная цифра, `dddd` — одна или несколько десятичных цифр, `dd[d]` — две или три десятичные цифры в зависимости от [формата вывода](../c-runtime-library/set-output-format.md) и размера показателя степени, и *знак* — символ "\+" или "–".|  
|`E`|С плавающей запятой|Аналогичен формату `e`, за исключением того, что вместо **E** порядок величины представляет символ **e**.|  
|`f`|С плавающей запятой|Значение со знаком, имеющее формат \[ – \]`dddd`**.**`dddd`, где `dddd` — одна или несколько десятичных цифр.  Количество цифр перед десятичной запятой зависит от величины числа, а количество знаков после десятичной запятой зависит от указанной точности.|  
|`g`|С плавающей запятой|Значения со знаком отображаются в формате `f` или `e`, в зависимости от того, какой формат является более компактным для заданного значения и точности.  Формат `e` используется только в том случае, когда порядок значения меньше –4 или больше или равен значению аргумента `precision`.  Нули в конце отбрасываются, а десятичная запятая отображается только в том случае, если за ней следует хотя бы одна цифра.|  
|`G`|С плавающей запятой|Аналогичен формату `g`, за исключением того, что вместо **E** порядок величины представляет символ **e** \(где это необходимо\).|  
|`a`|С плавающей запятой|Шестнадцатеричное значение с плавающей запятой двойной точности со знаком, которое имеет формат \[−\]0x*h.hhhh* **p±**`dd`, где *h.hhhh* — шестнадцатеричные цифры мантиссы \(с использованием строчных букв\) и `dd` — одна или более цифр порядка величины.  Точность определяет количество цифр после запятой.|  
|`A`|С плавающей запятой|Шестнадцатеричное значение с плавающей запятой двойной точности со знаком, которое имеет формат \[−\]0X*h.hhhh* **P±**`dd`, где *h.hhhh* — шестнадцатеричные цифры мантиссы \(с использованием прописных букв\) и `dd` — одна или более цифр порядка величины.  Точность определяет количество цифр после запятой.|  
|`n`|Указатель на целое число|Число символов, которые успешно записаны на данный момент в поток или буфер.  Это значение хранится в целом числе, адрес которого указан в качестве аргумента.  См. примечание по безопасности ниже в данной статье.|  
|`p`|Тип указателя|Отображает аргумент как адрес в шестнадцатеричных цифрах.|  
|`s`|Строка|При использовании с функциями `printf` определяет строку однобайтовых или многобайтовых символов; при использовании с функциями `wprintf` определяет строку расширенных символов.  Символы отображаются до первого нуль\-символа или до тех пор, пока не будет достигнуто значение `precision`.|  
|`S`|Строка|При использовании с функциями `printf` определяет строку расширенных символов; при использовании с функциями `wprintf` определяет строку однобайтовых или многобайтовых символов.  Символы отображаются до первого нуль\-символа или до тех пор, пока не будет достигнуто значение `precision`.|  
|`Z`|Структура `ANSI_STRING` или `UNICODE_STRING`|Если адрес структуры [ANSI\_STRING](http://msdn.microsoft.com/library/windows/hardware/ff540605.aspx) или [UNICODE\_STRING](http://msdn.microsoft.com/library/windows/hardware/ff564879.aspx) передается как аргумент, отображается строка, содержащаяся в буфере, на который указывает поле `Buffer` структуры.  Используйте префиксы\-модификаторы длины `w` для указания аргумента `UNICODE_STRING`, например `%wZ`.  Поле `Length` структуры должно содержать значение длины строки в байтах.  Поле `MaximumLength` структуры должно содержать значение длины буфера в байтах.<br /><br /> Как правило, символ типа `Z` используется только в функциях отладки драйвера, которые используют спецификацию формата, таких как `dbgPrint` и `kdPrint`.|  
  
 Если аргумент, соответствующий описателю преобразования с плавающей запятой, равен бесконечности, не определен или не является числом \(NAN\), выводится форматированный результат, который представлен в следующей таблице.  
  
|Значение|Вывод|  
|--------------|-----------|  
|\+ бесконечность|`1.#INF` *случайные\-цифры*|  
|– бесконечность|`–1.#INF` *случайные\-цифры*|  
|Неопределенное \(то же, что и не число без вызова исключения\)|*цифра* `.#IND` *случайные\-цифры*|  
|Не число|*цифра* `.#NAN` *случайные\-цифры*|  
  
> [!NOTE]
>  Если поле `Buffer` аргумента, который соответствует `%Z`, или аргумент, который соответствует `%s` или `%S`, является указателем NULL, отображается значение "\(NULL\)".  
  
> [!NOTE]
>  Во всех экспоненциальных форматах отображаемое количество цифр показателя степени по умолчанию равно трем.  С помощью функции [\_set\_output\_format](../c-runtime-library/set-output-format.md) можно задать отображение двух цифр с добавлением третьей цифры, если это требуется в связи с размером показателя степени.  
  
> [!IMPORTANT]
>  Поскольку формат `%n` является небезопасным, по умолчанию он запрещен.  Если в строке формата имеется символ `%n`, вызывается обработчик недопустимого параметра, как описано в разделе [Проверка параметров](../c-runtime-library/parameter-validation.md).  Чтобы включить поддержку `%n`, изучите раздел [\_set\_printf\_count\_output](../c-runtime-library/reference/set-printf-count-output.md).  
  
## См. также  
 [printf, \_printf\_l, wprintf, \_wprintf\_l](../c-runtime-library/reference/printf-printf-l-wprintf-wprintf-l.md)   
 [Синтаксис описания формата: функции printf и wprintf](../Topic/Format%20Specification%20Syntax:%20printf%20and%20wprintf%20Functions.md)   
 [Директивы флагов](../Topic/Flag%20Directives.md)   
 [Спецификация ширины printf](../c-runtime-library/printf-width-specification.md)   
 [Спецификация точности](../c-runtime-library/precision-specification.md)   
 [Спецификация размера](../c-runtime-library/size-specification.md)   
 [\_set\_output\_format](../c-runtime-library/set-output-format.md)