---
title: "Структура ATL_DRAWINFO | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-windows
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- ATL::ATL_DRAWINFO
- ATL_DRAWINFO
- ATL.ATL_DRAWINFO
dev_langs: C++
helpviewer_keywords: ATL_DRAWINFO structure
ms.assetid: dd2e2aa8-e8c5-403b-b4df-35c0f6f57fb7
caps.latest.revision: "16"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.openlocfilehash: 6313291597db114a71db49814350f112770a9c34
ms.sourcegitcommit: ebec1d449f2bd98aa851667c2bfeb7e27ce657b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2017
---
# <a name="atldrawinfo-structure"></a>Структура ATL_DRAWINFO
Содержит сведения, используемые для подготовки к просмотру для различных целей, например принтер, метафайла или элемент управления ActiveX.  
  
## <a name="syntax"></a>Синтаксис  
  
```
struct ATL_DRAWINFO {
    UINT cbSize;
    DWORD dwDrawAspect;
    LONG lindex;
    DVTARGETDEVICE* ptd;
    HDC hicTargetDev;
    HDC hdcDraw;
    LPCRECTL prcBounds;
    LPCRECTL prcWBounds;
    BOOL bOptimize;
    BOOL bZoomed;
    BOOL bRectInHimetric;
    SIZEL ZoomNum;
    SIZEL ZoomDen;
};
```  
  
## <a name="members"></a>Члены  
 `cbSize`  
 Размер структуры в байтах.  
  
 **dwDrawAspect**  
 Указывает, как целевой объект — для представления. Представления могут включать содержимое, значок, эскиза или печатном документе. Список возможных значений см. в разделе [DVASPECT](http://msdn.microsoft.com/library/windows/desktop/ms690318) и [DVASPECT2](http://msdn.microsoft.com/library/windows/desktop/ms688644).  
  
 **Индекс**  
 Часть целевой объект, который представляет интерес для операции рисования. Его интерпретация зависит от значения в **dwDrawAspect** член.  
  
 **ptd**  
 Указатель на [DVTARGETDEVICE](http://msdn.microsoft.com/library/windows/desktop/ms686613) структуру, которая включает оптимизацию рисования в зависимости от заданных пропорций. Обратите внимание, что новые объекты и контейнеров, которые поддерживают оптимизированного графических интерфейсов поддерживают этот элемент также. Укажите более старых объектов и контейнеров, которые не поддерживают оптимизированного графических интерфейсов всегда **NULL** для этого элемента.  
  
 **hicTargetDev**  
 Информационный контекст для целевого устройства, на который указывает **ptd** из которого объект может извлечь метрики устройства и проверки возможности устройства. Если **ptd** — **NULL**, объект должен игнорировать значение в **hicTargetDev** член.  
  
 **hdcDraw**  
 Контекст устройства, на котором выполняется отрисовка. Для объекта без окон **hdcDraw** элемент находится в `MM_TEXT` режим сопоставления с его логические координаты сопоставления клиентские координаты окна. Кроме того, контекст устройства должен быть в том же состоянии, что и обычно передается по `WM_PAINT` сообщения.  
  
 **prcBounds**  
 Указатель на [RECTL](http://msdn.microsoft.com/library/windows/desktop/dd162907) структура прямоугольника на **hdcDraw** и в котором должен быть нарисован объект. Этот элемент определяет расположение и растяжение объекта. Этот элемент должен быть **NULL** для рисования без окон активного объекта на месте. В любой другой ситуации **NULL** не является допустимым значением и приводить к `E_INVALIDARG` код ошибки. Если контейнер передает значение, отличное от**NULL** значение объекту без окон, объект запрошенный аспект подготавливаться к просмотру в заданном контексте устройства и прямоугольник. Контейнер можно запросить из объекта без окон для отображения второй, неактивные представления объекта или Печать объекта.  
  
 **prcWBounds**  
 Если **hdcDraw** является контексте устройства метафайла (см. [GetDeviceCaps](http://msdn.microsoft.com/library/windows/desktop/dd144877) в Windows SDK), это является указателем на **RECTL** структура ограничивающий прямоугольник в базовом метафайле. Структура прямоугольник содержит область окна и окна источника. Эти значения полезны для рисования векторными изображениями. Указывает прямоугольник **prcBounds** вложено в это **prcWBounds** прямоугольником; они находятся в то же пространство координат.  
  
 **bOptimize**  
 Ненулевое значение, если рисование элемента управления является быть оптимизирован, в противном случае — 0. Если рисунок оптимизирован, состояние контекста устройства восстанавливается автоматически при завершении подготовки к просмотру.  
  
 **bZoomed**  
 Ненулевое значение, если целевой объект имеет значение масштаба, иначе — 0. Масштаб хранится в **ZoomNum**.  
  
 **bRectInHimetric**  
 Ненулевое значение, если размеры **prcBounds** в **HIMETRIC**, иначе — 0.  
  
 **ZoomNum**  
 Ширина и высота прямоугольника, в котором отображается объект. Коэффициент масштабирования по оси x (долю естественным размер объекта в его текущем степени) целевого объекта является значением **ZoomNum.cx** деленная значение **ZoomDen.cx**. Аналогичным образом достигается коэффициент масштабирования по оси y.  
  
 **ZoomDen**  
 Фактические значения ширины и высоты целевого объекта.  
  
## <a name="remarks"></a>Примечания  
 Типичное использование этой структуры будет возможность извлечения данных во время отрисовки целевого объекта. Например, можно извлечь значения из `ATL_DRAWINFO` внутри вашей перегрузку [CComControlBase::OnDrawAdvanced](ccomcontrolbase-class.md#ondrawadvanced).  
  
 Эта структура сохраняет нужные сведения, используемые для отображения внешнего вида объекта для целевого устройства. Информация может использоваться в документе на экране, принтер или даже метафайл.  
  
## <a name="requirements"></a>Требования  
 **Заголовок:** atlctl.h  
  
## <a name="see-also"></a>См. также  
 [Структуры](../../atl/reference/atl-structures.md)   
 [IViewObject::Draw](http://msdn.microsoft.com/library/windows/desktop/ms688655)   
 [CComControlBase::OnDrawAdvanced](../../atl/reference/ccomcontrolbase-class.md#ondrawadvanced)





