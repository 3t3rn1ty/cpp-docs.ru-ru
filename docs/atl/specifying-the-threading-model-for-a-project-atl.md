---
title: "Указание потоковой модели для проекта (ATL) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "_ATL_APARTMENT_THREADED - макрос"
  - "_ATL_FREE_THREADED - макрос"
  - "_ATL_SINGLE_THREADED - макрос"
  - "ATL - библиотека, многопоточность"
  - "работа с потоками [ATL], модели"
ms.assetid: 6b571078-521c-4f3e-9f08-482aa235a822
caps.latest.revision: 10
caps.handback.revision: 5
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Указание потоковой модели для проекта (ATL)
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

Следующие макросы доступны задать потоковую модель проекта библиотеки ATL:  
  
|Макрос|Правила использования|  
|------------|---------------------------|  
|\_ATL\_SINGLE\_THREADED|Определите наличие всех объектов используют одну потоковую модель.|  
|\_ATL\_APARTMENT\_THREADED|Укажите если один или несколько объектов использующие потоковую модель Подразделение.|  
|\_ATL\_FREE\_THREADED|Укажите если один или несколько конкретных свободна использования объектов или нейтрального потоки.  Существующий код может содержать ссылки на [\_ATL\_MULTI\_THREADED](../Topic/_ATL_MULTI_THREADED.md) эквивалентный макроса.|  
  
 Если не задать все эти макросы для проекта, \_ATL\_FREE\_THREADED будет находиться в силу.  
  
 Макросы влияют на производительность во время выполнения следующим образом:  
  
-   Определение макроса, который соответствует к объектам в проекте может повысить производительность среды выполнения.  
  
-   Определение более высокий уровень макроса, например при указании \_ATL\_APARTMENT\_THREADED при всех объектов одного продет несколько потоков, ухудшит производительность среды выполнения.  
  
-   Определение макроса более низком уровне, например, если указать \_ATL\_SINGLE\_THREADED, если один или несколько объектов использующие потоковую модель Подразделение или свободная работа с потоками, приложение может привести к сбою во время выполнения.  
  
 См. раздел [Параметры мастера объекта простой библиотеки ATL](../atl/reference/options-atl-simple-object-wizard.md) описание потоковых моделей, доступных для объекта библиотеки ATL.  
  
## См. также  
 [Основные понятия](../atl/active-template-library-atl-concepts.md)