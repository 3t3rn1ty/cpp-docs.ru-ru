---
title: "Распространение библиотеки MFC | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-ide
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- C++
helpviewer_keywords:
- MFC, redistributing
- redistributing MFC library
ms.assetid: 72714ce1-385e-4c1c-afa5-96b03e873866
caps.latest.revision: 
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 9ca153ec9ca079bf13b1c1c1dcedd6e41497307f
ms.sourcegitcommit: 54035dce0992ba5dce0323d67f86301f994ff3db
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2018
---
# <a name="redistributing-the-mfc-library"></a>Распространение библиотеки MFC
Если динамически связывать приложения с библиотекой MFC, необходимо повторно распространить сопоставления DLL MFC. Например если приложение MFC построен с использованием версии MFC, который поставляется с Visual Studio 2015, необходимо повторно распространить mfc140.dll или mfc140u.dll в зависимости от того, скомпилирован ли приложение для узких символов или в службу поддержки Юникода.  
  
> [!NOTE]
>  Файлы mfc140.dll были опущены из каталога распространяемых файлов в Visual Studio 2015 RTM. Можно использовать установленные по Visual Studio 2015 в каталогах Windows\system32 и Windows\syswow64 вместо версии.  
  
 Поскольку все библиотеки DLL MFC используют общую версию библиотеки времени выполнения C (CRT), также может потребоваться повторно распространить CRT. Версия MFC, который поставляется с Visual Studio 2015 использует универсальный библиотеку CRT, которая входит в состав Windows 10. Чтобы запустить приложение MFC, построенных с использованием Visual Studio 2015 в более ранних версиях Windows, необходимо повторно распространить универсальная CRT. Сведения о повторном распространении универсальную библиотеку CRT, как компонент операционной системы или с помощью локального развертывания см. в разделе [введение универсальная CRT](http://go.microsoft.com/fwlink/p/?linkid=617977). Загрузить универсальной CRT для центральное развертывание в поддерживаемых версиях Windows [среды выполнения Windows 10 универсальной C](http://go.microsoft.com/fwlink/p/?LinkId=619489). Распространяемый пакет версии конкретной архитектуры ucrtbase.dll для локального развертывания находились в Windows SDK. По умолчанию Visual Studio устанавливает эти в C:\Program Files (x86) \Windows Kits\10\Redist\ucrt\DLLs\ в зависимости от конкретной архитектуры вложенный каталог.  
  
 Если приложение создается с помощью более ранней версии библиотеки MFC, необходимо повторно распространить сопоставления CRT DLL из каталога распространяемые файлы. Например если приложение MFC построен с помощью набора инструментов Visual Studio 2013 (vc120), необходимо повторно распространить msvcr120.dll. Также требуется повторно распространять сопоставления mfc`<version>`u.dll или mfc`<version>`DLL-файл.  
  
 При связывании приложения с MFC статически (то есть, в том случае, если указать **использовать MFC в статической библиотеке** на **Общие** вкладке **страницы свойств** диалоговое окно), у вас повторное распространение библиотек DLL MFC. Тем не менее несмотря на то, что статическое связывание работает во время тестирования и внутреннего развертывания приложений, мы рекомендуем не использовать его для повторного распространения MFC. Дополнительные сведения о рекомендуемых стратегиях развертывания библиотек Visual C++ см. в разделе [Выбор метода развертывания](../ide/choosing-a-deployment-method.md).  
  
 Если приложение использует классы MFC, которые реализуют элемент управления WebBrowser (например, [класс CHtmlView](../mfc/reference/chtmlview-class.md) или [CHtmlEditView класса](../mfc/reference/chtmleditview-class.md)), рекомендуется установить последнюю версию Microsoft Internet Explorer, чтобы на конечном компьютере будет установлена самая последняя файлов общих элементов управления. (Как минимум, требуется Internet Explorer 4.0.) Сведения об установке компонентов Internet Explorer доступен в «Статьи 185375: как для создания одного exe-файла установки из Internet Explorer» на сайте технической поддержки Майкрософт.  
  
 Если приложение использует классы баз данных MFC (например, [класс CRecordset](../mfc/reference/crecordset-class.md) и [CRecordView-класс](../mfc/reference/crecordview-class.md)), необходимо повторно распространить ODBC и все драйверы ODBC, используемые вашим приложением. Дополнительные сведения см. в разделе [повторное распространение файлов поддержки базы данных](../ide/redistributing-database-support-files.md).  
  
 Если приложение MFC использует элементы управления Windows Forms, необходимо распространить файл mfcmifc80.dll вместе с приложением. Эта библиотека DLL имеет подпись строгого имени сборки .NET, которая может распространяться вместе с приложением в локальной папке приложения или развернуть в глобальный кэш сборок (GAC) с помощью [Gacutil.exe (программа глобального кэша сборок)](/dotnet/framework/tools/gacutil-exe-gac-tool).  
  
 При распространении библиотек DLL MFC, убедитесь, что повторное распространение в розничную версию, а не отладочной версии. Отладочные версии библиотеки DLL не являются распространяемыми. Имена отладочные версии библиотек DLL MFC заканчиваться «d», например, Mfc140d.dll.  
  
 MFC можно распространять с помощью либо VCRedist_*архитектура*.exe, модулей слияния, которые устанавливаются вместе с Visual Studio, или развернув библиотеку DLL MFC в той же папке, что и приложение. Дополнительные сведения о повторном распространении MFC см. в разделе [распространение файлов Visual C++](../ide/redistributing-visual-cpp-files.md).  
  
## <a name="installation-of-localized-mfc-components"></a>Установка локализированных компонентов MFC  
 Если вы решили локализации приложения путем установки локализационной библиотеки DLL MFC, необходимо использовать файлы распространяемым (диалогового). Например, если требуется локализовать приложение на x86 компьютера, необходимо объединить Microsoft_VC`<version>`_MFCLOC_x86.msm в пакет установки для x86 компьютера.  
  
 Распространяемый пакет MSM-файлы содержат библиотеки DLL, которые используются для локализации. Имеется одна библиотека DLL для каждого поддерживаемого языка. Эти библиотеки DLL устанавливаются в процессе установки в папке %windir%\system32\ на целевом компьютере.  
  
 Дополнительные сведения о локализации приложений MFC см. в разделе [TN057: Локализация компонентов MFC](../mfc/tn057-localization-of-mfc-components.md)и также [208983 статьи: как с помощью библиотеки DLL MFC LOC](http://go.microsoft.com/fwlink/p/?linkid=198025) на сайте технической поддержки Майкрософт.  
  
 Локализация MFC DLL можно распространять путем развертывания с библиотекой DLL MFC в локальной папке приложения. Дополнительные сведения о повторном распространении библиотек Visual C++ см. в разделе [распространение файлов Visual C++](../ide/redistributing-visual-cpp-files.md).  
  
## <a name="see-also"></a>См. также  
 [Распространение файлов Visual C++](../ide/redistributing-visual-cpp-files.md)