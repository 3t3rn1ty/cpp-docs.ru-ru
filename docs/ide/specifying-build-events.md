---
title: "Задание событий построения | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "VC.Project.IVCEventTool.CommandLine"
  - "VC.Project.IVCEventTool.ExcludedFromBuild"
  - "VC.Project.IVCEventTool.Description"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "события построения [C++]"
  - "события построения [C++], определение"
  - "построения [C++], настройка [C++]"
  - "построения [C++], события"
  - "настраиваемые этапы построения [C++], события построения"
  - "события [C++], построение"
  - "события после построения"
  - "Событие перед компоновкой"
ms.assetid: 788a6c18-2dbe-4a49-8cd6-86c1ad7a95cc
caps.latest.revision: 10
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
caps.handback.revision: 10
---
# Задание событий построения
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

События построения позволяют указать команды, которые выполняются до начала построения, до процесса компоновки или после завершения построения.  
  
 События построения выполняются, только если в процессе построения успешно выполняются эти этапы.  Если во время построения возникает ошибка, событие *post\-build* не происходит; если ошибка возникает до фазы компоновки, не происходят события *pre\-link* и *post\-build*.  Кроме того, если не требуется выполнять связывание файлов, событие *pre\-link* также не происходит.  Событие *pre\-link* также недоступно в проектах, в которых отсутствует этап компоновки.  
  
 Если нет файлов, для которых необходимо выполнить построение, то не происходит никаких событий построения.  
  
 Общие сведения о событиях построения см. в разделе [Сведения об этапах настраиваемого построения и событиях построения.](../ide/understanding-custom-build-steps-and-build-events.md).  
  
### Чтобы указать событие построения  
  
1.  В **Обозревателе решений** выберите проект, для которого требуется указать событие построения.  
  
2.  Откройте диалоговое окно **Страницы свойств** проекта.  Для получения дополнительной информации см. [Работа со свойствами проектов](../ide/working-with-project-properties.md).  
  
3.  В папке **События построения** выберите страницу свойств события построения.  
  
4.  Задайте свойства для этого события построения.  
  
    -   В качестве значения свойства **Командная строка** укажите команду в том виде, в котором она использовалась бы в командной строке.  Укажите допустимый командный или пакетный файл и \(при необходимости\) входные и выходные файлы.  Укажите команду выполнения пакетного файла **call** перед именем пакетного файла, чтобы обеспечить выполнение всех последующих команд.  
  
         С помощью макросов MSBuild можно символически указать несколько входных и выходных файлов.  [!INCLUDE[crabout](../Token/crabout_md.md)] задании расположения файлов и имен наборов файлов см. в разделе [Макросы для команд и свойств построения](../ide/common-macros-for-build-commands-and-properties.md).  
  
         Поскольку в MSBuild символ "%" является зарезервированным, при указании переменной среды необходимо заменить каждый escape\-символ **%** на шестнадцатеричную escape\-последовательность **%25**.  Например, **%WINDIR%** необходимо заменить на **%25WINDIR%25**.  MSBuild заменяет каждую escape\-последовательность **%25** знаком **%**, прежде чем обращаться к переменной среды.  
  
    -   В поле **Описание** введите описание данного события.  Это описание будет выводиться в окне **Выходные данные** при происхождении данного события.  
  
    -   В поле **Исключено из построения** укажите **Да**, если не нужно, чтобы событие выполнилось.  
  
## См. также  
 [Сведения об этапах настраиваемого построения и событиях построения.](../ide/understanding-custom-build-steps-and-build-events.md)   
 [Макросы для команд и свойств построения](../ide/common-macros-for-build-commands-and-properties.md)   
 [Устранение неполадок настроек построения](../ide/troubleshooting-build-customizations.md)