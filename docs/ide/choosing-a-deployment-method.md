---
title: "Выбор метода развертывания | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology:
- cpp-ide
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- C++
helpviewer_keywords:
- redistributing DLLs
- manifests [C++]
- DLLs [C++], redistributing
- side-by-side assemblies [C++]
- dynamic linking [C++]
- application deployment [C++], methods
- deploying applications [C++], methods
- static linking [C++]
- libraries [C++], application deployment issues
ms.assetid: fd8eb956-f4a0-4ffb-b401-328c73e66986
caps.latest.revision: 
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload:
- cplusplus
ms.openlocfilehash: 4e4336f200f736ea7656af11c7c7c43ca32f27f9
ms.sourcegitcommit: 185e11ab93af56ffc650fe42fb5ccdf1683e3847
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2018
---
# <a name="choosing-a-deployment-method"></a>Выбор метода развертывания
Если приложения Visual C++ является самодостаточным и могут быть развернуты с помощью команды копирования, рекомендуется использовать для развертывания установщика Windows. Установщик Windows поддерживает установку, восстановление и удаление, а также поддерживает атомарное обновления файлов приложения, зависимостей и записей реестра.  
  
> [!NOTE]
>  Несмотря на то что [ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment) развертывания для собственных приложений Visual C++ в Visual Studio невозможно, оно требует дополнительных действий. Дополнительные сведения см. в разделе [ClickOnce Deployment for Visual C++ Applications](../ide/clickonce-deployment-for-visual-cpp-applications.md).  
  
## <a name="visual-c-libraries-are-shared-dlls"></a>Библиотеки Visual C++ — общие библиотеки DLL  
 Поскольку библиотеки Visual C++ устанавливаются в каталог %windir%\system32\ установщиком Visual Studio, при разработке приложения Visual C++, зависящего от них, оно выполняется без ошибок. Однако для развертывания приложения на компьютерах, где может быть не установлена Visual Studio, рекомендуется обеспечивать установку этих библиотек на такие компьютеры вместе с приложением.  
  
## <a name="redistributing-visual-c-libraries"></a>Распространение библиотек Visual С++  
 В развертываниях можно распространять любую версию библиотеки Visual C++, которая лицензирована для распространения. Развертывание можно выполнить тремя способами.  
  
-   Централизованное развертывание с помощью распространяемых пакетов, который устанавливает библиотеки Visual C++ в качестве общих библиотек DLL в %windir%\system32\\. (Установка в эту папку требует наличия прав администратора.) Можно создать скрипт или программу настройки, запускающую распространяемый пакет перед установкой приложения на целевой компьютер. Предлагаются распространяемые пакеты для платформ x86, x64 и ARM (VCRedist_x86.exe, VCRedist_x64.exe и VCRedist_arm.exe). Visual Studio включает эти пакеты в % ProgramFiles (x86) %\Microsoft Visual Studio `version`\VC\Redist\\`locale ID`\\. Их также можно загрузить [центра загрузки Майкрософт](http://go.microsoft.com/fwlink/p/?linkid=132793). (В центре загрузки поиск «распространяемый пакет Visual C++ *версии Visual Studio и обновление*», соответствующего приложения. Например, при использовании обновления 4 для Visual Studio 2012 для сборки приложения выполните поиск «обновления 4 распространяемого пакета Visual C++ 2012».) Сведения об использовании распространяемого пакета см. в разделе [Пошаговое руководство: развертывание Visual C++ приложения с помощью распространяемого пакета Visual C++](../ide/deploying-visual-cpp-application-by-using-the-vcpp-redistributable-package.md).  
  
-   Централизованное развертывание с помощью модулей слияния, каждый из которых устанавливает определенную библиотеку Visual C++ в качестве общей библиотеки DLL в %windir%\system32\\. (Установка в эту папку требует наличия прав администратора.) Модули слияния становятся частью файла установщика (MSI-файл) для приложения. Модули слияния распространяемого пакета Visual C++ включены в Visual Studio файлы (x86) \Program \Common Files\Merge модулей\\. Дополнительные сведения см. в разделе [распространение с помощью модулей слияния](../ide/redistributing-components-by-using-merge-modules.md).  
  
-   Локальное развертывание, при котором выполняется копирование определенных библиотек DLL Visual C++ из установки Visual Studio, обычно в \Program Files (x86) \Microsoft Visual Studio `version`\VC\Redist\\`platform`\\`library`\—and Установите их на целевых компьютерах в той же папке, что и выполняемое приложение. Этот метод развертывания можно использовать для обеспечения возможности установки пользователями, у которых нет прав администратора, или для приложений, которые могут быть запущены из общей сетевой папки.  
  
 Если развертывание использует распространяемые модули слияния и установка выполняется пользователем, не имеющим прав администратора, библиотеки DLL Visual C++ не установлены, и приложение не будет работать. Также установщики приложений, собранные с использованием модулей слияния, позволяющих выполнять установку для отдельных пользователей, устанавливают эти библиотеки в место совместного доступа, которое оказывает влияние на всех пользователей системы. Локальное развертывание можно использовать для установки необходимых библиотек DLL Visual C++ в каталог приложения определенного пользователя без влияния на других пользователей или требуются права администратора. Поскольку это может создать проблемы при обслуживании, не рекомендуется локальное развертывание распространяемых библиотек DLL Visual C++.  
  
 Неверное развертывание библиотек Visual C++ может привести к ошибкам во время выполнения при выполнении приложения, которое зависит от этих библиотек. Когда приложение загрузки операционной системы, он использует порядок поиска, описанный в [LoadLibraryEx](http://go.microsoft.com/fwlink/p/?linkid=132792)  
  
## <a name="dynamic-linking-is-better-than-static-linking"></a>Динамическое связывание лучше, чем статическое связывание  
 Рекомендуется избегать статического связывания при распространении библиотек Visual C++. Хотя статическое связывание почти никогда не приводит к значительному повышению производительности приложения, оно почти всегда выполняет усложняет обслуживание. Например, рассмотрим приложение, которое статически связано с библиотекой, обновляемой с применением усовершенствований системы безопасности — это приложение не сможет использовать преимущества обновления без повторной компиляции и повторного развертывания. Вместо этого рекомендуется динамически связывать приложения с библиотеками, от которых они зависят, чтобы библиотеки могли обновляться независимо от того, где они развернуты.  
  
## <a name="see-also"></a>См. также  
 [Развертывание приложений для настольных систем](../ide/deploying-native-desktop-applications-visual-cpp.md)   
 [Развертывание и безопасность технологии ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment)   
 [Примеры развертывания](../ide/deployment-examples.md)