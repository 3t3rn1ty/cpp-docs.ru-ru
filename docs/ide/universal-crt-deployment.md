---
title: Универсальный CRT развертывания | Документы Microsoft
ms.custom: ''
ms.date: 05/11/2018
ms.technology:
- cpp-ide
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- deploying the CRT [C++]
- application CRT deployment [C++]
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: 20006118d4bf27c379b78b84dc8807a4fd6c5e6c
ms.sourcegitcommit: 19a108b4b30e93a9ad5394844c798490cb3e2945
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/17/2018
---
# <a name="universal-crt-deployment"></a>Универсальный CRT развертывания

Из среды Visual Studio .NET через Visual Studio 2013 каждой основной версии компилятора C++ и инструментов включила новое, автономной версии библиотеки времени выполнения Microsoft C (CRT). Эти версии автономного CRT были независимо от и для какой-то степени, несовместимы друг с другом. Например библиотеки CRT, используемые Visual Studio 2012 было версии 11, именованный msvcr110.dll, а CRT, используемые Visual Studio 2013 было версии 12, именованный msvcr120.dll. Начиная с Visual Studio 2015, это не так. Visual Studio 2015 и более поздних версиях Visual Studio все использовать один универсальный CRT.

Универсальная CRT — это компонент операционной системы Microsoft Windows. Он входит в состав операционной системы Windows 10 и доступно для старых операционных систем, Windows Vista до Windows 8.1 с помощью центра обновления Windows. Кроме того локальное развертывание универсальная CRT поддерживается, с некоторыми ограничениями.

## <a name="central-deployment"></a>Центральное развертывание

Централизованно Установка универсальная CRT рекомендуется использовать Центр обновления Microsoft Windows. Рекомендуемые обновления для всех поддерживаемых операционных систем Microsoft Windows по умолчанию большинстве компьютеров установите его в рамках процесса регулярного обновления — универсальный CRT. Первоначальный выпуск универсальная CRT была [установлено KB2999226](https://support.microsoft.com/en-us/kb/2999226); последующие обновления с различным исправлениям было внесено в [KB3118401](https://support.microsoft.com/en-us/kb/3118401), и будут внесены дополнительные обновления с дальнейшей исправления и новые функции. Более новые обновления, [support.microsoft.com](https://support.microsoft.com) универсальная среда выполнения C или универсальная CRT.

Не все компьютеры Microsoft Windows регулярно устанавливать обновления с помощью центра обновления Windows, и некоторые могут быть установлены все рекомендуемые обновления. Использовать для поддержки приложений, построенных с использованием Visual Studio 2015 и более поздние версии набора инструментов C++ на этих компьютерах, доступны универсальная CRT распространяемые пакеты для распространения вне сети. Эти распространяемые пакеты можно загрузить один из приведенных выше ссылок КБ. Обратите внимание на то, что универсальная CRT свободно распространяемые файлы требуют, чтобы компьютер был обновлен для текущего пакета обновления. Таким образом например, распространяемого пакета для Windows 7 будет устанавливать только на Windows 7 SP1 не Windows 7 RTM.

Поскольку универсальная CRT основных зависимостей библиотек C++, Visual C++ распространяемый пакет (VCRedist) устанавливает базовую версию универсальная CRT на компьютерах, которые не указана версия уже установлена, достаточно для библиотеки C++ зависимости. Если ваше приложение зависит от последней версии универсальной библиотеки CRT, необходимо установить явно, более поздней версии. Рекомендуется установить до установки VCRedist, во избежание потенциальных несколько требуется перезагрузка.

## <a name="local-deployment"></a>Локальное развертывание

Локальное развертывание универсальная CRT поддерживается, но не рекомендуется для соображениям безопасности и производительности.  Библиотеки DLL для локального развертывания включены в состав пакета Windows SDK наборы средств Windows\\10\\Redist\\ucrt\\подкаталог библиотек DLL, от архитектуры компьютера. Библиотеки DLL необходимо включать ucrtbase.dll и набор сервера пересылки APISet библиотеки DLL с именем api-ms-win -\*DLL-файл. Набор библиотек DLL, на каждой операционной системы требуется изменяется, поэтому настоятельно рекомендуется включать все библиотеки DLL при развертывании локально.

Существует два ограничения на локальное развертывание, следует учитывать:

- В Windows 10 всегда используется универсальная CRT в системном каталоге, даже если приложение включает локальную копию универсальная CRT. Это верно, даже если локальная копия универсальная CRT имеет более новую версию. Это так, как универсальная CRT является основным компонентом операционной системы в Windows 10.

- В версиях Windows до Windows 8, универсальную библиотеку CRT не могут быть упакованы локально с помощью подключаемого модуля, который расположен в каталоге, отличном от каталога, содержащего главный исполняемый файл приложения. Сервер пересылки APISet библиотеки DLL не удается устранить ucrtbase.dll в этом случае успешно. Представлены некоторые рекомендуемые альтернативные решения.

  - Статическая компоновка универсальная CRT
  - Централизованное развертывание универсальная CRT или
  - Разместите файлы универсальная CRT в том же каталоге, что и приложение.

## <a name="deployment-on-microsoft-windows-xp"></a>Развертывание в Microsoft Windows XP

Visual Studio 2015 и Visual Studio 2017 г. по-прежнему поддерживают разработку программного обеспечения для использования в Microsoft Windows XP. Для поддержки этой версии универсальная CRT работать под управлением Microsoft Windows XP. Операционной системе Microsoft Windows XP больше не в основной фазе или расширенной поддержки, поэтому центральное развертывание универсальная CRT на Microsoft Windows XP отличается от других операционных систем.

При установке распространяемого пакета Visual C++ в Windows XP непосредственно устанавливается универсальная CRT и все его зависимости в системном каталоге без установки или в зависимости от того, все обновления Windows. Распространяемые модули слияния, Microsoft_VC*версии*_CRT_\*MSM-файлы, сделайте то же самое.

Локальное развертывание универсальная CRT в Windows XP является таким же, как и на других поддерживаемых операционных систем.

## <a name="see-also"></a>См. также

- [Развертывание в Visual C++](deployment-in-visual-cpp.md)
