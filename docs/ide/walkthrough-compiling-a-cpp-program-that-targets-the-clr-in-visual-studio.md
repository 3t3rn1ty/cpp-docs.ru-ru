---
title: "Компиляция программы на языке C++, предназначенной для среды CLR | Документы Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: cpp-ide
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: C++
helpviewer_keywords:
- command-line applications [C++], managed code
- compiling programs [C++]
- Visual C++, managed code
- managed code [C++]
ms.assetid: 339f89df-a5d2-4040-831a-ddbe25b5dce4
caps.latest.revision: "40"
author: corob-msft
ms.author: corob
manager: ghogen
ms.workload: cplusplus
ms.openlocfilehash: eca6960d23c43fbe27d753ab4f79a27dea7bd7e5
ms.sourcegitcommit: 8fa8fdf0fbb4f57950f1e8f4f9b81b4d39ec7d7a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="walkthrough-compiling-a-c-program-that-targets-the-clr-in-visual-studio"></a>Пошаговое руководство. Компиляция программы на языке C++, предназначенной для среды CLR, в Visual Studio
Можно создавать программы Visual C++, использующих классы .NET и скомпилировать их с помощью среды разработки Visual Studio.  
  
 Для выполнения этой процедуры можно ввести собственную программу на Visual C++ или использовать один из примеров программ. Образец программа, которая используется в этой процедуре создает текстовый файл с именем textfile.txt и сохраняет его в каталог проекта.  
  
## <a name="prerequisites"></a>Предварительные требования  
 Эти разделы предполагают знание основ языка C++.  
  
### <a name="to-create-a-new-project-in-visual-studio-and-add-a-new-source-file"></a>Чтобы создать новый проект в Visual Studio и добавьте новый исходный файл  
  
1.  Создайте новый проект. В меню **Файл** выберите пункт **Создать**, а затем команду **Проект**.  
  
2.  В списке типов проектов Visual C++ выберите **CLR**, а затем нажмите кнопку **пустой проект CLR**.  
  
3.  Введите имя проекта.  
  
     По умолчанию, содержащее проект решение имеет то же имя, как новый проект, но можно ввести другое имя. Если требуется, можно ввести другое расположение для проекта.  
  
     Нажмите кнопку **ОК** для создания нового проекта.  
  
4.  Если обозреватель решений не отображается, нажмите кнопку **обозревателе решений** на **представление** меню.  
  
5.  Добавьте новый файл исходного проекта:  
  
    -   Щелкните правой кнопкой мыши **исходные файлы** папки в обозревателе решений щелкните пункты **добавить** и нажмите кнопку **новый элемент**.  
  
    -   Нажмите кнопку **файл C++ (.cpp)** и введите имя файла и нажмите кнопку **добавить**.  
  
     **.Cpp** файл появится в **исходные файлы** появится папка в обозревателе решений и окно с вкладками, где введите код требуется в этом файле.  
  
6.  Щелкните только что созданный вкладке в Visual Studio введите допустимый программу на Visual C++ или скопируйте и вставьте один из примеров программ.  
  
     Например, можно использовать [как: запись текстового файла (C + +/ CLI)](../dotnet/how-to-write-a-text-file-cpp-cli.md) образец программы (в **работа с файлами и операции ввода-вывода** узел руководства по программированию).  
  
     При использовании примера программы, обратите внимание, что используется `gcnew` ключевое слово, а не `new` при создании объекта .NET и что `gcnew` возвращает дескриптор (`^`) вместо указатель (`*`):  
  
     `StreamWriter^ sw = gcnew StreamWriter(fileName);`  
  
     Дополнительные сведения о новом синтаксисе Visual C++ см. в разделе [расширения компонентов для платформ среды выполнения](../windows/component-extensions-for-runtime-platforms.md).  
  
7.  В меню **Сборка** выберите **Собрать решение**.  
  
     **Вывода** окне отображаются сведения о ходе выполнения компиляции, такие как расположение журнала построения и сообщение о состоянии построения.  
  
     Если внести изменения и запустите программу, не выполняя построение, диалоговое окно может указывать, что проект является устаревшим. Установите флажок в этом диалоговом окне, прежде чем нажимать кнопку **ОК** Если требуется Visual Studio следует всегда использовать последние версии файлов вместо запроса каждый раз построения приложения.  
  
8.  На **отладки** меню, нажмите кнопку **Запуск без отладки**.  
  
9. Если используется образец программы при выполнении программы отображается окно командной строки, указывающее, что текстовый файл был создан. Нажмите любую клавишу, чтобы закрыть окно команд.  
  
     **Textfile.txt** теперь текстовый файл расположен в каталоге проекта. Этот файл можно открыть с помощью блокнота.  
  
    > [!NOTE]
    >  Выбор CLR пустой шаблон проекта автоматически устанавливается **/CLR** параметр компилятора. Чтобы проверить это, щелкните правой кнопкой мыши проект в **обозревателе решений** и нажав кнопку **свойства**, а затем установите флажок **поддержки Common Language Runtime** параметр в  **Общие** узел **свойства конфигурации**.  
  
## <a name="whats-next"></a>Что дальше?  
 **Предыдущие:** [Пошаговое руководство: компиляция программы на машинном коде C++ в командной строке](../build/walkthrough-compiling-a-native-cpp-program-on-the-command-line.md) &#124; **Далее:**[Пошаговое руководство: компиляция программы C в командной строке](../build/walkthrough-compile-a-c-program-on-the-command-line.md)  
  
## <a name="see-also"></a>См. также  
 [Справочник по языку C++](../cpp/cpp-language-reference.md)   
 [Сборка программ C/C++](../build/building-c-cpp-programs.md)