---
title: Извлечь функцию | Документы Microsoft
ms.custom: ''
ms.date: 11/16/2016
ms.technology:
- cpp-ide
ms.topic: conceptual
ms.assetid: e31d1249-9705-4511-acbd-9f6fe73bdf2d
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 7fc4d48c972bca9352f326085574e4cf4df83aea
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="extract-function"></a>Извлечь функцию
**Что:** позволяет преобразовать фрагмент кода в его собственную функцию.

**Когда:** имеется фрагмент кода, существующие в некоторые функции, которая должна вызываться из другой функции.  

**Зачем?** Вы можете скопировать и вставить этот код, но это приведет к дублированию.  Лучшим решением является оптимизация фрагменте в его собственную функцию, который может быть вызван свободно любой функцией.

**Как?**

1. Выделите код, который требуется извлечь:

   ![Выделенный код](images/extractfunction_highlight.png)

1. Затем выполните одно из следующих действий:
   * **Клавиатура**
     * Нажмите клавиши **CTRL+R**, а затем — **CTRL+M**.  (Обратите внимание, что сочетание клавиш может отличаться в зависимости от выбранного профиля.)
     * Нажмите клавиши **CTRL + .**, для запуска **Быстрые действия и рефакторинг** и выбрать пункт **извлечение функции (экспериментально)** в контекстном меню.
   * **Мышь**
     * Выберите **Правка > рефакторинг > извлечь функцию (экспериментальная функция)**.
     * Щелкните его правой кнопкой мыши, выберите **Быстрые действия и рефакторинг** и выбрать пункт **извлечение функции (экспериментально)** в контекстном меню.
     * Нажмите кнопку ![Lightbulb](images/bulb.png) значок, который отображается в левом поле и выберите **извлечение функции (экспериментально)** в контекстном меню.

1. В **извлечения функции или метода (экспериментально)** окно, введите новое имя функции, выберите, где код будет размещен и нажмите кнопку **ОК** кнопки.  

   ![Извлечь функцию функции](images/extractfunction_dialog.png)

1. Будет создана новая функция там, где указано, прототип функции в соответствующий файл заголовка и исходный код будет изменено для вызова этой функции.

   ![Результат функции извлечения](images/extractfunction_result.png)