---
title: "Программа MFC или управление файлами исходного кода и заголовков | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "типы файлов [C++], MFC - ресурсы и заголовок"
ms.assetid: f61419a8-bf69-4bbb-8f7c-1734be5e6db6
caps.latest.revision: 6
caps.handback.revision: 6
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
---
# Программа MFC или управление файлами исходного кода и заголовков
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

При создании проектов MFC в Visual Studio, в зависимости от выбранных настроек для создаваемого проекта, генерируются следующие файлы.  Например, проект содержит файлы *Projname*dlg.cpp и *Projname*dlg.h, если только создается проект или класс, основанный на диалоговых окнах.  
  
 Все эти файлы расположены в каталоге *Projname* и либо в папке с файлами заголовка \(H\-файлы\), либо в папке с исходными файлами \(CPP\-файлы\) в обозревателе решений.  
  
|Имя файла|Описание|  
|---------------|--------------|  
|*Projname*.h|Главный файл заголовка для программы или библиотеки DLL.  Он содержит все глобальные символы и директивы `#include` для других файлов заголовка.  Он объявляет класс `CPrjnameApp`, производный от `CWinApp`, и объявляет функцию\-член `InitInstance`.  Для элемента управления, класс `CPrjnameApp`, производный от `COleControlModule`.|  
|*Projname*.cpp|Исходный файл основной программы.  Он создает один объект класса `CPrjnameApp`, являющегося производным от `CWinApp`, и переопределяет функцию\-член `InitInstance`.<br /><br /> Для исполняемых модулей, `CPrjnameApp::InitInstance` выполняет несколько вещей.  Он регистрирует шаблоны документов, которые служат как связь между документами и представлениями; создает главное фреймовое окно; и создает пустой документ \(или открывает документ, если он указан как аргумент командной строки приложения\).<br /><br /> Для библиотек DLL и элементов управления ActiveX \(ранее OLE\), `CProjNameApp::InitInstance` регистрирует производство объекта элемента управления при помощи OLE, вызвав `COleObjectFactory::RegisterAll`, и делает вызов `AfxOLEInit`.  Кроме того, функция\-член `CProjNameApp::ExitInstance` используется для выгрузки элемента управления из памяти при помощи вызова **AfxOleTerm**.<br /><br /> Этот файл также регистрирует элемент управления и отменяет его регистрацию в базе данных регистрации Windows, реализуя функции `DllRegisterServer` и `DllUnregisterServer`.|  
|*Projname*ctrl.h, *Projname*ctrl.cpp|Объявляет и реализует класс `CProjnameCtrl`.  Класс `CProjnameCtrl` является производным от `COleControl`. Определяются скелетные реализации некоторых функций\-членов, которые инициализируют, рисуют и сериализуют \(загружают и сохраняют\) элемент управления.  Определяются также карты сообщения, события и диспетчеризации.|  
|*Projname*dlg.cpp, *Projname*dlg.h|Создаются, если выбирается приложение на базе диалоговых окон.  Файлы объявляют и реализуют производный диалоговый класс, именуемый `CProjnameDlg`, а также включают скелетные функции\-члены для инициализации диалогового окна и выполняют обмен данных во время диалога \(DDX\).  В эти файлы также помещается диалоговый класс About, вместо *Projname*.cpp.|  
|Dlgproxy.cpp, Dlgproxy.h|В программе, основанной на использовании диалоговых окон, файл реализации и файл заголовка для прокси\-класса автоматизации проекта, для главного диалогового окна.  Он используется, если только выбрана поддержка автоматизации.|  
|*Projname*doc.cpp, *Projname*doc.h|Объявляют и реализуют производный класс документа, именуемый `CProjnameDoc`, а также включают скелетные функции\-члены для инициализации документа, сериализуют \(сохраняют и загружают\) документ и реализуют отладочную диагностику.|  
|*Projname*set.h\/.cpp|Создается, если создается программа, которая поддерживает базу данных и содержит класс набора записей.|  
|*Projname*view.cpp, *Projname*view.h|Объявляют и реализуют производный класс представления, именуемый `CProjnameView`, который используется для отображения и печати данных документа.  Класс `CProjnameView` является производным от одного из следующих классов MFC:<br /><br /> -   [CEditView](../Topic/CEditView%20Class.md)<br />-   [CFormView](../mfc/reference/cformview-class.md)<br />-   [CRecordView](../mfc/reference/crecordview-class.md)<br />-   [COleDBRecordView](../mfc/reference/coledbrecordview-class.md)<br />-   [CTreeView](../mfc/reference/ctreeview-class.md)<br />-   [CListView](../mfc/reference/clistview-class.md)<br />-   [CRichEditView](../mfc/reference/cricheditview-class.md)<br />-   [CScrollView](../mfc/reference/cscrollview-class.md)<br />-   [CView](../Topic/CView%20Class.md)<br />-   [CHTMLView](../mfc/reference/chtmlview-class.md)<br />-   [CHTMLEditView](../mfc/reference/chtmleditview-class.md)<br /><br /> Класс представления проекта содержит скелетные функции\-члены для рисования представления и реализации отладочной диагностики.  Если включена поддержка печати, добавляются записи карт сообщений для командных сообщений печати, установки печати и предварительного просмотра перед печатью.  Эти записи вызывают соответствующие функции\-члены в базовом классе представления.|  
|*Projname*PropPage.h, *Projname*PropPage.cpp|Объявляет и реализует класс `CProjnamePropPage`.  Класс `CProjnamePropPage` является производным от `COlePropertyPage`. Предоставляется скелетная функция\-член `DoDataExchange` для реализации обмена и проверки данных.|  
|IPframe.cpp, IPframe.h|Создаются, если на странице **Параметры автоматизации** мастера приложений выбран параметр "Мини\-сервер" или "Полный сервер" \(на шаге 3 из 6\).  Файлы определяют и реализуют производный класс фреймового окна "на месте", именуемый **CInPlaceFrame**, который используется, если сервер на месте активируется программой контейнера.|  
|Mainfrm.cpp, Mainfrm.h|Объявляют класс **CMainFrame**, производный либо от [CFrameWnd](../mfc/reference/cframewnd-class.md) \(для приложений SDI\), либо от [CMDIFrameWnd](../mfc/reference/cmdiframewnd-class.md) \(для приложений MDI\).  Класс **CMainFrame** обрабатывает создание кнопок панели инструментов и строки состояния, если выбраны соответствующие параметры на странице **Параметры приложений** мастера приложений \(шаг 4 из 6\).  Сведения об использовании **CMainFrame** см. в разделе [Классы фреймовых окон, создаваемые мастером приложений](../mfc/frame-window-classes-created-by-the-application-wizard.md).|  
|Childfrm.cpp, Childfrm.h|Объявляют класс **CChildFrame**, производный от класса [CMDIChildWnd](../mfc/reference/cmdichildwnd-class.md).  Класс **CChildFrame** используется для фреймовых окон MDI\-документов.  Эти файлы всегда создаются, если выбран параметр MDI.|  
  
## См. также  
 [Типы файлов, создаваемых для проектов Visual C\+\+](../ide/file-types-created-for-visual-cpp-projects.md)   
 [Программа ATL или управление файлами исходного кода и заголовков](../ide/atl-program-or-control-source-and-header-files.md)   
 [Проекты CLR](../ide/files-created-for-clr-projects.md)