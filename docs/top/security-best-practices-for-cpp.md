---
title: "Рекомендации по безопасности для C++ | Microsoft Docs"
ms.custom: ""
ms.date: "12/14/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-cpp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "securitybestpracticesVC"
dev_langs: 
  - "C++"
helpviewer_keywords: 
  - "безопасность [C++]"
  - "безопасность [C++], рекомендации"
  - "Visual C++, безопасность"
ms.assetid: 86acaccf-cdb4-4517-bd58-553618e3ec42
caps.latest.revision: 45
caps.handback.revision: 45
author: "ghogen"
ms.author: "ghogen"
manager: "ghogen"
---
# Рекомендации по безопасности для C++
[!INCLUDE[vs2017banner](../assembler/inline/includes/vs2017banner.md)]

В этой статье содержатся сведения об инструментах и методиках обеспечения безопасности.  Использование этих инструментов не дает полной гарантии защиты от хакерских атак, но при этом существенно снижает шансы на успех таких атак.  
  
## Средства безопасности в Visual C\+\+  
 Эти средства обеспечения безопасности приложений встроены в компилятор и компоновщик Visual C\+\+.  
  
 [\/guard \(включение защиты потока управления\)](../build/reference/guard-enable-control-flow-guard.md)  
 Указывает компилятору на необходимость анализа потока управления для целевых объектов косвенного вызова во время компиляции и последующей вставки кода для проверки целевых объектов во время выполнения.  
  
 [Параметр \/GS \(проверка безопасности буфера\)](../Topic/-GS%20\(Buffer%20Security%20Check\).md)  
 Указывает компилятору на необходимость вставки кода, обнаруживающего переполнения, в функции, которыми могут воспользоваться злоумышленники.  При обнаружении переполнения выполнение программы прекращается.  По умолчанию этот параметр включен.  
  
 [Параметр \/SAFESEH \(образ содержит обработчики безопасных событий\)](../Topic/-SAFESEH%20\(Image%20has%20Safe%20Exception%20Handlers\).md)  
 Указывает компоновщику на необходимость включения в выходной образ таблицы, содержащей адрес каждого обработчика исключений.  Во время выполнения операционная система проверяет по этой таблице, действительно ли используются только допустимые обработчики исключений.  Это помогает предотвратить запуск обработчиков исключений, внедряемых злоумышленниками в среду выполнения.  По умолчанию этот параметр выключен.  
  
 [\/NXCOMPAT](../Topic/-NXCOMPAT.md), [\/NXCOMPAT \(совместимо с предотвращением исполнения данных \(DEP\)\)](../build/reference/nxcompat-compatible-with-data-execution-prevention.md)  
 Эти возможности компилятора и компоновщика реализуют совместимость с функцией предотвращения исполнения данных \(DEP\).  Функция DEP защищает ЦП от исполнения страниц, не содержащих кода.  
  
 [\/analyze \(анализ кода\)](../build/reference/analyze-code-analysis.md)  
 Этот параметр компилятора запускает анализ кода с целью выявления потенциальных проблем безопасности, таких как переполнение буфера, отмена инициализации памяти, разыменование нулевого указателя и утечки памяти.  По умолчанию этот параметр выключен.  Дополнительные сведения см. в разделе [Общие сведения об анализе кода в C\/C\+\+](../Topic/Code%20Analysis%20for%20C-C++%20Overview.md).  
  
 [\/DYNAMICBASE \(использование технологии Address Space Layout Randomization \(ASRL\)\)](../build/reference/dynamicbase-use-address-space-layout-randomization.md)  
 Этот параметр компоновщика позволяет собрать исполняемый образ, который можно загрузить в другое расположение в памяти в начале выполнения.  Этот параметр также делает расположение стека в памяти значительно менее прогнозируемым.  
  
## Среда выполнения повышенной безопасности  
 В библиотеку времени выполнения C \(CRT\) были добавлены безопасные версии функций, которые могут создать угрозу безопасности, например функция копирования непроверенной строки `strcpy`.  Поскольку устаревшие, небезопасные версии этих функций использовать не рекомендуется, во время компиляции они выводят предупреждения.  Рекомендуется использовать безопасные версии этих функций CRT, а не подавлять вывод предупреждений компилятора.  Дополнительные сведения см. в разделе [Функции безопасности в CRT](../Topic/Security%20Features%20in%20the%20CRT.md).  
  
## Библиотека SafeInt  
 [Библиотека SafeInt](../windows/safeint-library.md) помогает предотвращать переполнение емкости целочисленных переменных и другие ошибки, которые можно использовать в злонамеренных целях, возникающие в ходе выполнения математических операций приложением.   Библиотека `SafeInt` включает в себя [Класс SafeInt](../windows/safeint-class.md),  [Класс SafeIntException](../windows/safeintexception-class.md) и несколько [Функции SafeInt](../windows/safeint-functions.md).  
  
 Класс `SafeInt` защищает от ошибок переполнения емкости целочисленных переменных и деления на нуль, которые могут использоваться в злонамеренных целях.  Его можно использовать для обработки сравнений значений различных типов.  I предоставляет две политики обработки ошибок.  Политика по умолчанию класса `SafeInt` заключается в выдаче исключения класса `SafeIntException`, сообщающего о причинах невозможности выполнения математической операции.  Вторая политика заключается в том, что класс `SafeInt` останавливает выполнение программы.  Также можно определить пользовательскую политику.  
  
 Каждая функция класса `SafeInt` защищает от злонамеренного использования ошибок одной из математических операций.  Можно использовать параметры двух различных типов без преобразования их к одному типу.  Для защиты множества математических операций используйте класс `SafeInt`.  
  
## Установленные итераторы  
 Проверяемый итератор обеспечивает принудительное соблюдение ограничений контейнера.  По умолчанию при превышении ограничений проверяемого итератора создается исключение, и выполнение программы прекращается.  Проверяемый итератор обеспечивает другие уровни реагирования, зависящие от значений, назначенных в определениях препроцессора, таких как **\_SECURE\_SCL\_THROWS** и **\_ITERATOR\_DEBUG\_LEVEL**.  Например, при использовании уровня **\_ITERATOR\_DEBUG\_LEVEL\=2** проверяемый итератор выполняет комплексные проверки правильности в режиме отладки, возможность использования которых обеспечивается использованием утверждений.  Дополнительные сведения см. в разделе [Проверяемые итераторы](../standard-library/checked-iterators.md).  
  
## Анализ управляемого кода  
 Инструмент анализа управляемого кода, также известный как FxCop, выполняет проверку сборок на соответствие рекомендациям, изложенным в Правилах разработки приложений платформы .NET Framework.  FxCop анализирует код и метаданные в каждой сборке и выявляет дефекты по следующим направлениям:  
  
-   Разработка библиотек  
  
-   Локализация  
  
-   Соглашения об именах  
  
-   Производительность  
  
-   Безопасность  
  
## Средство проверки приложений Windows  
 Верификатор приложений \(AppVerifier\) может помочь выявить потенциальные проблемы совместимости, стабильности и безопасности приложений.  
  
 Средство AppVerifier контролирует использование операционной системы приложением.  Он следит за файловой системой, реестром, памятью и API\-интерфейсами во время работы приложения, а при обнаружении ошибок выдает рекомендации по исправлению исходного кода.  
  
 Можно использовать AppVerifier в следующих целях:  
  
-   Тестирование приложения на наличие возможных проблем совместимости, возникающих в результате типичных ошибок программирования.  
  
-   Исследовать приложения для определения утечек памяти.  
  
-   Выявлять потенциальные проблемы безопасности в приложениях.  
  
 AppVerifier является частью набора Application Compatibility Toolkit, который можно найти в разделе [Совместимость приложений](http://go.microsoft.com/fwlink/?LinkId=91277) на веб\-сайте TechNet.  
  
## Средства обеспечения безопасности в платформе .NET Framework  
 [NIB: Configuring Security Policy](http://msdn.microsoft.com/ru-ru/0f130bcd-1bba-4346-b231-0bcca7dab1a4) содержит перечень рекомендаций и описание инструментов настройки политик безопасности для платформы .NET Framework.  
  
## Учетные записи пользователей Windows  
 Для разработчиков и в конечном счете пользователей использование учетных записей Windows, относящихся к группе "Администраторы", создает повышенный риск для безопасности.  Дополнительные сведения см. в разделах [Запуск от имени участника группы "Пользователи"](../top/running-as-a-member-of-the-users-group.md) и [Влияние контроля учетных записей на приложение](../Topic/How%20User%20Account%20Control%20\(UAC\)%20Affects%20Your%20Application.md).  
  
## См. также  
 <xref:System.Security>   
 [Security](../Topic/Security%20in%20the%20.NET%20Framework.md)   
 [Влияние контроля учетных записей на приложение](../Topic/How%20User%20Account%20Control%20\(UAC\)%20Affects%20Your%20Application.md)